(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{1049:function(e,a,t){e.exports=t(1426)},1175:function(e){e.exports=JSON.parse('{"name":"frontend","version":"2.2.2v-26","private":true,"nomeEmpresa":"Sua empresa","versionSystem":"7.0.0","dependencies":{"@date-io/date-fns":"^2.16.0","@emotion/react":"^11.10.5","@emotion/styled":"^11.10.5","@fortawesome/fontawesome-svg-core":"^6.7.2","@fortawesome/free-regular-svg-icons":"^5.15.4","@fortawesome/free-solid-svg-icons":"^6.2.1","@fortawesome/react-fontawesome":"^0.2.0","@material-ui/core":"4.12.3","@material-ui/icons":"^4.11.3","@material-ui/lab":"^4.0.0-alpha.61","@material-ui/pickers":"^3.3.10","@material-ui/styles":"^4.11.3","@mui/icons-material":"^5.14.1","@mui/material":"^5.10.13","@mui/styles":"^5.14.0","@mui/x-date-pickers":"^5.0.8","@socket.io/admin-ui":"0.5.1","@testing-library/jest-dom":"^5.11.4","@testing-library/react":"^11.0.4","@testing-library/user-event":"^12.1.7","axios":"^0.21.1","bootstrap":"^5.2.3","caniuse-lite":"^1.0.30001616","chart.js":"^3.9.1","chartjs-plugin-datalabels":"^2.1.0","clipboard-copy":"^4.0.1","compressorjs":"^1.2.1","context":"^4.0.0","date-fns":"^2.16.1","emoji-mart":"^3.0.0","emoji-regex":"^10.3.0","formik":"^2.2.0","formik-material-ui":"^3.0.1","gn-api-sdk-node":"^3.0.2","html2pdf.js":"^0.10.1","i18next":"^19.8.2","i18next-browser-languagedetector":"^6.0.1","icons":"^1.0.0","jssip":"^3.10","markdown-to-jsx":"^7.1.0","material-ui-color":"^1.2.0","material-ui-popup-state":"^4.1.0","mercadopago":"^2.0.7","mic-recorder-to-mp3":"^2.2.2","moment":"^2.29.4","qrcode.react":"^1.0.0","query-string":"^7.0.0","react":"^16.13.1","react-audio-player":"^0.17.0","react-big-calendar":"^1.8.4","react-bootstrap":"^2.7.0","react-chartjs-2":"^4.3.1","react-color":"^2.19.3","react-copy-to-clipboard":"^5.1.0","react-csv":"^2.2.2","react-dom":"^16.13.1","react-dropzone":"^14.2.3","react-facebook-login":"^4.1.1","react-favicon":"2.0.3","react-flow-renderer":"^10.3.17","react-html5-camera-photo":"^1.5.11","react-icons":"^4.7.1","react-input-mask":"^2.0.4","react-modal":"^3.16.1","react-modal-image":"^2.5.0","react-number-format":"^4.6.4","react-onesignal":"^2.0.4","react-pdf":"^5.7.1","react-player":"^2.13.0","react-qr-code":"^2.0.11","react-query":"^3.39.3","react-router-dom":"^5.2.0","react-scripts":"3.4.3","react-softphone":"^1.7.0","react-toastify":"^6.0.9","react-trello":"^2.2.11","react-webcam":"^7.1.1","react-youtube":"^10.1.0","reactflow":"^11.7.4","recharts":"^2.0.2","socket.io-client":"^4.7.4","styled-components":"^5.3.6","use-debounce":"^7.0.0","use-sound":"^2.0.1","uuid":"^8.3.2","xlsx":"^0.18.5","yup":"^0.32.8","zustand":"^4.4.1"},"scripts":{"start":"cross-env NODE_OPTIONS=--openssl-legacy-provider react-scripts start","dev":"cross-env NODE_OPTIONS=--openssl-legacy-provider react-scripts start","build":"cross-env NODE_OPTIONS=--openssl-legacy-provider cross-env GENERATE_SOURCEMAP=false react-scripts build","builddev":"cross-env NODE_OPTIONS=--openssl-legacy-provider react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"cross-env":"^7.0.3","typescript":"^5.5.3"}}')},1320:function(e,a){},1321:function(e,a){},1322:function(e,a){},1323:function(e,a){},1324:function(e,a){},1384:function(e,a,t){},1391:function(e,a,t){},1426:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),o=t(67),r=t.n(o),i=t(1668);var s=t(291),c=t.n(s);const d=c.a.create({baseURL:"http://localhost:8081",withCredentials:!0}),m=c.a.create({baseURL:"http://localhost:8081"});var u=d,p=(t(736),t(677)),g=t(973),E=t(977),b=t(1576),f=t(1449);var h=Object(n.createContext)({toggleColorMode:()=>{}});const A=Object(n.createContext)(),v=()=>Object(n.useContext)(A),y=e=>{let{children:a}=e;const[t,o]=Object(n.useState)("");return l.a.createElement(A.Provider,{value:{activeMenu:t,setActiveMenu:o}},a)};var x=t(481),C=t.n(x);function k(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return void 0!==window.ENV?window.ENV[e]||a:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"http://localhost:8081",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"24"})[e]||a}function w(){return k("REACT_APP_BACKEND_URL")}var T=t(45),O=t(113),S=t(8),M=t(7),I=t(297),j=t(13),N=t(1557),R=t(1747),F=t(96),P=t(1749),D=t(1443),L=t(1565),B=t(1442),W=t(1584),q=t(1585),z=t(179),H=t(1748),U=t(984),Q=t(1574),V=t(514),G=t.n(V),K=t(912),Y=t.n(K),X=t(913),J=t.n(X);var Z=()=>({findAll:async e=>{const{data:a}=await u.request({url:"/helps",method:"GET",params:e});return a},list:async e=>{const{data:a}=await u.request({url:"/helps/list",method:"GET",params:e});return a},save:async e=>{const{data:a}=await u.request({url:"/helps",method:"POST",data:e});return a},update:async e=>{const{data:a}=await u.request({url:"/helps/"+e.id,method:"PUT",data:e});return a},remove:async e=>{const{data:a}=await u.request({url:"/helps/"+e,method:"DELETE"});return a}}),_=t(1433),$=t(1556),ee=t(1558),ae=t(1564),te=t(1434),ne=t(1429),le=t(885),oe=t.n(le),re=t(309),ie=t.n(re),se=t(895),ce=t.n(se),de=t(680),me=t.n(de),ue=t(893),pe=t.n(ue),ge=t(889),Ee=t.n(ge),be=t(894),fe=t.n(be),he=t(886),Ae=t.n(he),ve=t(891),ye=t.n(ve),xe=t(892),Ce=t.n(xe),ke=t(887),we=t.n(ke),Te=t(491),Oe=t.n(Te),Se=t(890),Me=t.n(Se),Ie=t(418),je=t.n(Ie),Ne=t(577),Re=t.n(Ne),Fe=t(578),Pe=t.n(Fe),De=t(494),Le=t.n(De),Be=t(493),We=t.n(Be),qe=t(495),ze=t.n(qe),He=t(492),Ue=t.n(He),Qe=t(896),Ve=t.n(Qe),Ge=t(897),Ke=t.n(Ge),Ye=t(1559),Xe=t(1560),Je=t(1561),Ze=t(1568),_e=t(1569),$e=t(1570),ea=t(1571),aa=t(676),ta=t(883);const na={pt:{translations:{signup:{title:"Cadastre-se",toasts:{success:"Usu\xe1rio criado com sucesso! Fa\xe7a seu login!!!.",fail:"Erro ao criar usu\xe1rio. Verifique os dados informados."},form:{name:"Nome",email:"Email",password:"Senha",company:"Nome da Organiza\xe7\xe3o",phone:"Whatsapp (DDD + N\xdaMERO)"},buttons:{submit:"Cadastrar",login:"J\xe1 tem uma conta? Entre!"}},login:{title:"Login",form:{email:"Email",password:"Senha",button:"Acessar"},buttons:{submit:"Entrar",register:"N\xe3o tem um conta? Cadastre-se!"}},companies:{title:"Cadastrar Empresa",form:{name:"Nome da Empresa",plan:"Plano",token:"Token",submit:"Cadastrar",success:"Empresa criada com sucesso!"}},auth:{toasts:{success:"Login efetuado com sucesso!"},dueDate:{expiration:"Sua assinatura expira em",days:"dias!",day:"dia!",expirationToday:"Sua assinatura expira hoje!"},token:"Token"},dashboard:{tabs:{indicators:"Indicadores",assessments:"NPS",attendants:"Atendentes"},charts:{perDay:{title:"Atendimentos hoje: "}},cards:{inAttendance:"Em Atendimento",waiting:"Aguardando",activeAttendants:"Atendentes Ativos",finalized:"Finalizados",newContacts:"Novos Contatos",totalReceivedMessages:"Mensagens Recebidas",totalSentMessages:"Mensagens Enviadas",averageServiceTime:"T.M. de Atendimento",averageWaitingTime:"T.M. de Espera",status:"Status (Atual)",activeTickets:"Tickets Ativos",passiveTickets:"Tickets Passivos",groups:"Grupos"},users:{name:"Nome",numberAppointments:"Quantidade de Atendimentos",statusNow:"Atual",totalCallsUser:"Total de atendimentos por usuario",totalAttendances:"Total de atendimentos"},date:{initialDate:"Data Inicial",finalDate:"Data Final"},licence:{available:"Dispon\xedvel at\xe9"},assessments:{totalCalls:"Total de Atendimentos",callsWaitRating:"Atendimentos aguardando avalia\xe7\xe3o",callsWithoutRating:"Atendimentos sem avalia\xe7\xe3o",ratedCalls:"Atendimentos avaliados",evaluationIndex:"\xcdndice de avalia\xe7\xe3o",score:"Pontua\xe7\xe3o",prosecutors:"Promotores",neutral:"Neutros",detractors:"Detratores"}},reports:{title:"Relat\xf3rio de Pesquisas Realizadas",operator:"Operador",period:"Per\xedodo",until:"At\xe9",date:"Data",reportTitle:"Relat\xf3rios",calls:"Atendimentos",search:"Pesquisas",durationCalls:"Durac\xe3o dos atendimentos",grupoSessions:"Atendimentos em grupos",groupTicketsReports:{timezone:"America/Sao_Paulo",msgToast:"Gerando relat\xf3rio compactado, por favor aguarde.",errorToast:"Erro ao gerar o relat\xf3rio",back:"Voltar",groupServiceReport:"Relat\xf3rio de Atendimento em Grupos",loading:"Carregando...",contact:"Contato",dateOpen:"Data abertura",dateLastUpdated:"Data \xdaltima Atualiza\xe7\xe3o",agent:"Quem atendeu",agentClosed:"Quem fechou",waitingAssistance:"Aguardando atendimento",process:"Em atendimento"},researchReports:{response:"resposta",active:"(Ativa)",inactive:"(Inativa)",quantity:"Quantidade",percentage:"porcentagem",title:"Relat\xf3rio de Pesquisas Realizadas",activeSearch:"Pesquisa ativa",inactiveSearch:"Pesquisa inativa"},ticketDurationDetail:{msgToast:"Gerando relat\xf3rio compactado, por favor aguarde.",title:"Relat\xf3rio de Dura\xe7\xe3o do Atendimento",startService:"In\xedcio do atendimento",lastUpdated:"\xdaltima atualiza\xe7\xe3o",lastAgent:"\xdaltimo atendente",durationFinished:"Dura\xe7\xe3o ap\xf3s finalizado"},ticketDuration:{title:"Relat\xf3rio de Dura\xe7\xe3o dos Atendimento",contact:"Contato",open:"Abertos",pending:"Pendentes",finished:"Finalizados",durationFinished:"Dura\xe7\xe3o dos finalizados",durationAfterFinished:"Dura\xe7\xe3o ap\xf3s finalizado",actions:"A\xe7\xf5es"},ticketReports:{msgToast:"Gerando relat\xf3rio compactado, por favor aguarde.",title:"Relat\xf3rio de Atendimento"},pdf:{title:"Rela\xe7\xe3o de Atendimentos Realizados",exportTitle:"Rela\xe7\xe3o de Atendimentos em Grupos Realizados"}},todo:{newTask:"Nova Tarefa",add:"Adicionar",task:"Tarefas"},contactImportWpModal:{title:"Exportar Contatos para o Excel",buttons:{downloadModel:"Download modelo do excel para importa\xe7\xe3o",closed:"Fechar",import:"Selecione o arquivo do excel para importar Contatos"}},connections:{title:"Conex\xf5es",waitConnection:"Aguarde... Suas conex\xf5es ser\xe3o reiniciadas!",newConnection:"Nova Conex\xe3o",restartConnections:"Reiniciar Conex\xf5es",callSupport:"Chamar Suporte",newConnection:"Nova Conex\xe3o",toasts:{deleted:"Conex\xe3o exclu\xedda com sucesso!",disconnected:"Conex\xe3o desconectada com sucesso!",closedimported:"Estamos fechando os tickets importados, por favor aguarde uns instantes"},confirmationModal:{closedImportedTitle:"Fechar tickets importados",closedImportedMessage:"Se voc\xea confirmar todos os tickets importados ser\xe3o fechados",deleteTitle:"Deletar",deleteMessage:"Voc\xea tem certeza? Essa a\xe7\xe3o n\xe3o pode ser revertida.",disconnectTitle:"Desconectar",disconnectMessage:"Tem certeza? Voc\xea precisar\xe1 ler o QR Code novamente."},buttons:{add:"Adicionar Conex\xe3o",disconnect:"desconectar",tryAgain:"Tentar novamente",qrcode:"QR CODE",newQr:"Novo QR CODE",closedImported:"Fechar todos os tickets Importados",preparing:"Preparando mensagens para importa\xe7\xe3o",importing:"Importando Mensagens do WhatsApp",newQr:"Novo QR CODE",processed:"Processado",in:"de",connecting:"Conectando"},typography:{processed:"Processado",in:"de",date:"Data da mensagem"},toolTips:{disconnected:{title:"Falha ao iniciar sess\xe3o do WhatsApp",content:"Certifique-se de que seu celular esteja conectado \xe0 internet e tente novamente, ou solicite um novo QR Code"},qrcode:{title:"Esperando leitura do QR Code",content:"Clique no bot\xe3o 'QR CODE' e leia o QR Code com o seu celular para iniciar a sess\xe3o"},connected:{title:"Conex\xe3o estabelecida!"},timeout:{title:"A conex\xe3o com o celular foi perdida",content:"Certifique-se de que seu celular esteja conectado \xe0 internet e o WhatsApp esteja aberto, ou clique no bot\xe3o 'Desconectar' para obter um novo QR Code"}},table:{name:"Nome",status:"Status",lastUpdate:"\xdaltima atualiza\xe7\xe3o",default:"Padr\xe3o",actions:"A\xe7\xf5es",session:"Sess\xe3o",number:"N\xfamero do Whatsapp"}},showTicketOpenModal:{title:{header:"Atendimento Existente"},form:{message:"Este contato j\xe1 est\xe1 em atendimento:",user:"Atendente",queue:"Fila",messageWait:"Este contato j\xe1 est\xe1 aguardando atendimento. Veja na aba Aguardando!"}},showTicketLogModal:{title:{header:"Logs"},options:{create:"Ticket criado.",chatBot:"ChatBot iniciado.",queue:" - Fila definida.",open:" iniciou o atendimento.",access:"acessou o ticket.",transfered:"transferiu o ticket.",receivedTransfer:"recebeu o ticket transferido.",pending:"devolveu a fila.",closed:"fechou o ticket",reopen:"reabriu o ticket",redirect:"- redirecionado"}},whatsappModal:{title:{add:"Adicionar Conex\xe3o",edit:"Editar Conex\xe3o"},tabs:{general:"Geral",messages:"Mensagens",assessments:"NPS",integrations:"Integra\xe7\xf5es",schedules:"Hor\xe1rio de expediente"},form:{importOldMessagesEnable:"Importar mensagens do aparelho",importOldMessages:"Data de inicio da importa\xe7\xe3o",importRecentMessages:"Data de termino da importa\xe7\xe3o",importOldMessagesGroups:"Importar mensagens de grupo",closedTicketsPostImported:"Encerrar tickets ap\xf3s importa\xe7\xe3o",name:"Nome",queueRedirection:"Redirecionamento de Fila",queueRedirectionDesc:"Selecione uma fila para os contatos que n\xe3o possuem fila serem redirecionados",default:"Padr\xe3o",group:"Permitir grupos",timeSendQueue:"Tempo em minutos para redirecionar para fila",importAlert:"ATEN\xc7\xc3O: Ao salvar, sua conex\xe3o ser\xe1 encerrada, ser\xe1 necess\xe1rio ler novamente o QR Code para importar as mensagens",groupAsTicket:"Tratar grupos como ticket",timeCreateNewTicket:"Criar novo ticket em x minutos",maxUseBotQueues:"Enviar bot x vezes",timeUseBotQueues:"Enviar bot em x minutos",expiresTicket:"Encerrar chats abertos ap\xf3s x minutos",expiresTicketNPS:"Encerrar chats aguardando avalia\xe7\xe3o ap\xf3s x minutos",maxUseBotQueuesNPS:"Quantidade m\xe1xima de vezes que a avalia\xe7ao vai ser enviada",closeLastMessageOptions1:"Do atendente/Cliente",closeLastMessageOptions2:"Do atendente",outOfHoursMessage:"Mensagem de fora de expediente",greetingMessage:"Mensagem de sauda\xe7\xe3o",complationMessage:"Mensagem de conclus\xe3o",lgpdLinkPrivacy:"Link para pol\xedtica de privacidade",lgpdMessage:"Mensagem de sauda\xe7ao LGPD",lgpdDeletedMessages:"Ofuscar mensagem apagada pelo contato",lgpdSendMessage:"Sempre solicitar confirma\xe7\xe3o do contato",ratingMessage:"Mensagem de avalia\xe7ao - Escala deve ser de 0 a 10",token:"Token para integra\xe7\xe3o externa",sendIdQueue:"Fila",inactiveMessage:"Mensagem de inatividade",timeInactiveMessage:"Tempo em minutos para envio do aviso de inatividade",whenExpiresTicket:"Encerrar chats abertos quando \xfaltima mensagem for",expiresInactiveMessage:"Mensagem de encerramento por inatividade",prompt:"Prompt",collectiveVacationEnd:"Data final",collectiveVacationStart:"Data inicial",collectiveVacationMessage:"Mensagem de f\xe9rias coletivas",queueIdImportMessages:"Fila para importar as mensagens"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},menuItem:{enabled:"Habilitado",disabled:"Desabilitado",minutes:"minutos"},success:"Conex\xe3o salvo com sucesso.",errorSendQueue:"Foi informado tempo para redirecionar fila, por\xe9m n\xe3o foi selecionada fila para redirecionar. Os dois campos precisam estar preenchidos",errorExpiresNPS:"\xc9 obrigado informar um tempo para avalia\xe7\xe3o quando se utiliza o NPS.",errorRatingMessage:"\xc9 obrigado informar uma mensagem de avalia\xe7\xe3o quando se utiliza o NPS."},qrCode:{message:"Leia o QrCode para iniciar a sess\xe3o"},contacts:{title:"Contatos",toasts:{deleted:"Contato exclu\xeddo com sucesso!"},searchPlaceholder:"Pesquisar...",confirmationModal:{deleteTitle:"Deletar ",importTitlte:"Importar contatos",exportContact:"Exportar contatos",deleteMessage:"Tem certeza que deseja deletar este contato? Todos os atendimentos relacionados ser\xe3o perdidos.",blockContact:"Tem certeza que deseja bloquear este contato?",unblockContact:"Tem certeza que deseja desbloquear este contato?",importMessage:"Deseja importar todos os contatos do telefone?",importChat:"Importar Conversas",wantImport:"Deseja importar todas as conversas do telefone?"},buttons:{import:"Importar Contatos",add:"Adicionar Contato",export:"Exportar Contato"},table:{name:"Nome",whatsapp:"Conex\xe3o",email:"Email",actions:"A\xe7\xf5es",lastMessage:"\xdaltima Mensagem"},menu:{importYourPhone:"Importar do aparelho padr\xe3o",importToExcel:"Importar / Exportar do Excel"}},forwardMessage:{text:"Encaminhada"},forwardMessageModal:{title:"Encaminhar mensagem",buttons:{ok:"Encaminhar"}},promptModal:{form:{name:"Nome",prompt:"Prompt",voice:"Voz",max_tokens:"M\xe1ximo de Tokens na resposta",temperature:"Temperatura",apikey:"API Key",max_messages:"M\xe1ximo de mensagens no Hist\xf3rico",voiceKey:"Chave da API de Voz",voiceRegion:"Regi\xe3o de Voz"},success:"Prompt salvo com sucesso!",title:{add:"Adicionar Prompt",edit:"Editar Prompt"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"}},prompts:{title:"Prompts",table:{name:"Nome",queue:"Setor/Fila",max_tokens:"M\xe1ximo Tokens Resposta",actions:"A\xe7\xf5es"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Voc\xea tem certeza? Essa a\xe7\xe3o n\xe3o pode ser revertida!"},buttons:{add:"Adicionar Prompt"}},contactModal:{title:{add:"Adicionar contato",edit:"Editar contato"},form:{mainInfo:"Dados do contato",extraInfo:"Informa\xe7\xf5es adicionais",name:"Nome",number:"N\xfamero do Whatsapp",email:"Email",extraName:"Nome do campo",extraValue:"Valor",chatBotContact:"Desabilitar chatbot",termsLGDP:"Termos LGPD aceito em:",whatsapp:"Conex\xe3o Origem: "},buttons:{addExtraInfo:"Adicionar informa\xe7\xe3o",okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Contato salvo com sucesso."},flowbuilderModal:{flowNotIdPhrase:"Fluxo padr\xe3o"},queueModal:{title:{queueData:"Dados da fila",text:"Hor\xe1rios de atendimento",add:"Adicionar fila",edit:"Editar fila",confirmationDelete:"Tem certeza? Todas as op\xe7\xf5es de integra\xe7\xf5es ser\xe3o deletadas."},form:{name:"Nome",color:"Cor",orderQueue:"Ordem da fila (Bot)",rotate:"Rod\xedzio",timeRotate:"Tempo de Rod\xedzio",greetingMessage:"Mensagem de sauda\xe7\xe3o",complationMessage:"Mensagem de conclus\xe3o",outOfHoursMessage:"Mensagem de fora de expediente",token:"Token",integrationId:"Integra\xe7\xe3o",fileListId:"Lista de arquivos",closeTicket:"Fechar ticket",queueType:"Tipo de menu",message:"Mensagem de retorno",queue:"Fila para transfer\xeancia",integration:"Integra\xe7\xe3o",file:"Lista de arquivos"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},bot:{title:"Op\xe7\xf5es",toolTipTitle:"Adicione op\xe7\xf5es para construir um chatbot",toolTip:"Se houver apenas uma op\xe7\xe3o, ela ser\xe1 escolhida automaticamente, fazendo com que o bot responda com a mensagem da op\xe7\xe3o e siga adiante",selectOption:"Selecione uma op\xe7\xe3o",text:"Texto",attendent:"Atendente",queue:"Fila",integration:"Integra\xe7\xe3o",file:"Arquivo",toolTipMessageTitle:"A mensagem \xe9 obrigat\xf3ria para seguir ao pr\xf3ximo n\xedvel",toolTipMessageContent:"A mensagem \xe9 obrigat\xf3ria para seguir ao pr\xf3ximo n\xedvel",selectUser:"Selecione um Usu\xe1rio",selectQueue:"Selecione uma Fila",selectIntegration:"Selecione uma Integra\xe7\xe3o",addOptions:"Adicionar op\xe7\xf5es"},serviceHours:{dayWeek:"Dia da semana",startTimeA:"Hora Inicial - Turno A",endTimeA:"Hora Final - Turno A",startTimeB:"Hora Inicial - Turno B",endTimeB:"Hora Final - Turno B",monday:"Segunda-feira",tuesday:"Ter\xe7a-feira",wednesday:"Quarta-feira",thursday:"Quinta-feira",friday:"Sexta-feira",saturday:"S\xe1bado",sunday:"Domingo"}},queueIntegrationModal:{title:{add:"Adicionar projeto",edit:"Editar projeto"},form:{id:"ID",type:"Tipo",name:"Nome",projectName:"Nome do Projeto",language:"Linguagem",jsonContent:"JsonContent",urlN8N:"URL",typebotSlug:"Typebot - Slug",typebotExpires:"Tempo em minutos para expirar uma conversa",typebotKeywordFinish:"Palavra para finalizar o ticket",typebotKeywordRestart:"Palavra para reiniciar o fluxo",typebotRestartMessage:"Mensagem ao reiniciar a conversa",typebotUnknownMessage:"Mensagem de op\xe7\xe3o inv\xe1lida",typebotDelayMessage:"Intervalo (ms) entre mensagens"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar",test:"Testar Bot"},messages:{testSuccess:"Integra\xe7\xe3o testada com sucesso!",addSuccess:"Integra\xe7\xe3o adicionada com sucesso.",editSuccess:"Integra\xe7\xe3o editada com sucesso."}},userModal:{warning:"Para fazer a importa\xe7\xe3o das mensagens \xe9 necess\xe1rio ler o qrCode novamente !!!",title:{add:"Adicionar usu\xe1rio",edit:"Editar usu\xe1rio",updateImage:"Atualizar imagem",removeImage:"Excluir imagem"},form:{name:"Nome",email:"Email",password:"Senha",farewellMessage:"Mensagem de despedida",profile:"Perfil",startWork:"Inicio de trabalho",endWork:"Fim de trabalho",whatsapp:"Conex\xe3o Padr\xe3o",allTicketEnable:"Habilitado",allTicketDisable:"Desabilitado",allTicket:"Visualizar chamados sem fila",allowGroup:"Permitir Grupos",defaultMenuOpen:"Aberto",defaultMenuClosed:"Fechado",defaultMenu:"Menu padr\xe3o",defaultTheme:"Tema Padr\xe3o",defaultThemeDark:"Escuro",defaultThemeLight:"Claro",allHistoric:"Ver conversas de outras filas",allHistoricEnabled:"Habilitado",allHistoricDisabled:"Desabilitado",allUserChat:"Ver conversas de outros usu\xe1rios",userClosePendingTicket:"Permitir fechar tickets pendentes",showDashboard:"Ver Dashboard",allowRealTime:"Ver Painel de Atendimentos",allowConnections:"Permitir a\xe7\xf5es nas conex\xf5es"},tabs:{general:"Geral",permissions:"Permiss\xf5es"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar",addImage:"Adicionar Imagem",editImage:"Editar Imagem"},success:"Usu\xe1rio salvo com sucesso."},companyModal:{title:{add:"Adicionar empresa",edit:"Editar empresa"},form:{name:"Nome",email:"Email",passwordDefault:"Senha",numberAttendants:"Usu\xe1rios",numberConections:"Conex\xf5es"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Empresa salvo com sucesso."},scheduleModal:{title:{add:"Novo Agendamento",edit:"Editar Agendamento"},form:{body:"Mensagem",contact:"Contato",sendAt:"Data de Agendamento",sentAt:"Data de Envio",assinar:"Enviar Assinatura"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar",addSchedule:"Adicionar agendamento"},success:"Agendamento salvo com sucesso."},tagModal:{title:{add:"Nova Tag",edit:"Editar Tag",addKanban:"Nova Lane",editKanban:"Editar Lane"},form:{name:"Nome",color:"Cor",timeLane:"Tempo em horas para redirecionar para lane",nextLaneId:"Lane",greetingMessageLane:"Mensagem de sauda\xe7\xe3o da lane",rollbackLaneId:"Voltar para Lane ap\xf3s retomar atendimento"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Tag salva com sucesso.",successKanban:"Lane salva com sucesso."},fileModal:{title:{add:"Adicionar lista de arquivos",edit:"Editar lista de arquivos"},buttons:{okAdd:"Salvar",okEdit:"Editar",cancel:"Cancelar",fileOptions:"Adicionar arquivo"},form:{name:"Nome da lista de arquivos",message:"Detalhes da lista",fileOptions:"Lista de arquivos",extraName:"Mensagem para enviar com arquivo",extraValue:"Valor da op\xe7\xe3o"},success:"Lista de arquivos salva com sucesso!"},chat:{noTicketMessage:"Selecione um ticket para come\xe7ar a conversar."},uploads:{titles:{titleUploadMsgDragDrop:"\u2b07\ufe0f ARRASTE E SOLTE ARQUIVOS NO CAMPO ABAIXO \u2b07\ufe0f",titleFileList:"Lista de arquivo(s)"}},chatInternal:{new:"Nova",modal:{conversation:"Conversa",title:"T\xedtulo",filterUsers:"Filtro por Usu\xe1rios",cancel:"Fechar",save:"Salvar"},modalDelete:{title:"Excluir Conversa",message:"Esta a\xe7\xe3o n\xe3o pode ser revertida, confirmar?"}},ticketsManager:{questionCloseTicket:"VOC\xca DESEJA FECHAR TODOS OS TICKETS?",yes:"SIM",not:"N\xc3O",buttons:{newTicket:"Novo",resolveAll:"Resolver Todos",close:"Fechar",new:"Novo"}},ticketsQueueSelect:{placeholder:"Filas"},tickets:{inbox:{closedAllTickets:"Fechar todos os tickets?",closedAll:"Fechar Todos",newTicket:"Novo Ticket",yes:"SIM",no:"N\xc3O",open:"Abertos",resolverd:"Resolvidos"},toasts:{deleted:"O atendimento que voc\xea estava foi deletado."},notification:{message:"Mensagem de"},tabs:{open:{title:"Abertas"},closed:{title:"Resolvidos"},search:{title:"Busca"}},search:{placeholder:"Buscar atendimento e mensagens",filterConections:"Filtro por Conex\xe3o",filterConectionsOptions:{open:"Aberto",closed:"Fechado",pending:"Pendente"},filterUsers:"Filtro por Usuarios",filterContacts:"Filtro por Contatos",ticketsPerPage:"Tickets por p\xe1gina"},buttons:{showAll:"Todos",returnQueue:"Devolver a Fila",scredule:"Agendamento",deleteTicket:"Deletar Ticket",quickmessageflash:"Mensagem R\xe1pida"},closedTicket:{closedMessage:"Fechar Ticket Com Mensagem de Despedida",closedNotMessage:"Fechar Ticket Sem Mensagem de Despedida"}},transferTicketModal:{title:"Transferir Ticket",fieldLabel:"Digite para buscar usu\xe1rios",fieldQueueLabel:"Transferir para fila",fieldQueuePlaceholder:"Selecione uma fila",fieldWhatsapp:"Selecione um whatsapp",noOptions:"Nenhum usu\xe1rio encontrado com esse nome",msgTransfer:"Observa\xe7\xf5es - mensagem interna, n\xe3o vai para o cliente",buttons:{ok:"Transferir",cancel:"Cancelar"}},chatInternal:{new:"Nova",modal:{conversation:"Conversa",title:"T\xedtulo",filterUsers:"Filtro por Usu\xe1rios",cancel:"Fechar",save:"Salvar"},modalDelete:{title:"Excluir Conversa",message:"Esta a\xe7\xe3o n\xe3o pode ser revertida, confirmar?"}},ticketsList:{called:"Chamado",today:"Hoje",missedCall:"Chamada de voz/v\xeddeo perdida \xe0s",pendingHeader:"Aguardando",assignedHeader:"Atendendo",groupingHeader:"Grupos",noTicketsTitle:"Nada aqui!",noTicketsMessage:"Nenhum atendimento encontrado com esse status ou termo pesquisado",noQueue:"Sem Fila",buttons:{accept:"Aceitar",cancel:"Cancelar",start:"iniciar",closed:"Fechar",reopen:"Reabrir",transfer:"Transferir",ignore:"Ignorar",exportAsPDF:"Exportar para PDF",kanbanActions:"Op\xe7\xf5es de Kanban"},acceptModal:{title:"Aceitar Chat",queue:"Selecionar setor"}},newTicketModal:{title:"Criar Ticket",fieldLabel:"Digite para pesquisar o contato",add:"Adicionar",buttons:{ok:"Salvar",cancel:"Cancelar"}},SendContactModal:{title:"Enviar contato",fieldLabel:"Digite para pesquisar o contato",add:"Adicionar",buttons:{ok:"Enviar",cancel:"Cancelar"}},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Conex\xf5es",chatsTempoReal:"Painel",tickets:"Atendimentos",quickMessages:"Respostas r\xe1pidas",contacts:"Contatos",queues:"Filas & Chatbot",tags:"Tags",administration:"Administra\xe7\xe3o",companies:"Empresas",users:"Usu\xe1rios",settings:"Configura\xe7\xf5es",files:"Lista de arquivos",helps:"Ajuda",messagesAPI:"API",schedules:"Agendamentos",campaigns:"Campanhas",annoucements:"Informativos",chats:"Chat Interno",financeiro:"Financeiro",queueIntegration:"Integra\xe7\xf5es",version:"Vers\xe3o",kanban:"Kanban",prompts:"Talk.Ai",allConnections:"Gerenciar conex\xf5es",reports:"Relat\xf3rios",management:"Ger\xeancia"},appBar:{user:{profile:"Perfil",logout:"Sair",message:"Ol\xe1",messageEnd:"seja bem-vindo a",active:"Ativo at\xe9",goodMorning:"Oi,",myName:"meu nome \xe9",continuity:"e darei continuidade em seu atendimento.",virtualAssistant:"Assistente Virtual",token:"Token inv\xe1lido, por favor entre em contato com o administrador da plataforma."},message:{location:"Localiza\xe7\xe3o",contact:"Contato"},notRegister:"Nenhum registro",refresh:"Atualizar"}},languages:{undefined:"Idioma","pt-BR":"Portugu\xeas",es:"Espa\xf1ol",en:"English",tr:"T\xfcrk\xe7e"},messagesAPI:{title:"API",textMessage:{number:"N\xfamero",body:"Mensagem",token:"Token cadastrado",userId:"ID do usu\xe1rio/atendente",queueId:"ID da Fila"},mediaMessage:{number:"N\xfamero",body:"Nome do arquivo",media:"Arquivo",token:"Token cadastrado"},API:{title:"Documenta\xe7\xe3o para envio de mensagens",methods:{title:"M\xe9todos de Env\xedo",messagesText:"Mensagens de Texto",messagesMidia:"Mensagens de Media"},instructions:{title:"Instru\xe7\xf5es",comments:"Observa\xe7\xf5es Importantes",comments1:"Antes de enviar mensagens, \xe9 necess\xe1rio o cadastro do token vinculado \xe0 conex\xe3o que enviar\xe1 as mensagens. <br />Para realizar o cadastro acesse o menu 'Conex\xf5es', clique no bot\xe3o editar da conex\xe3o e insira o token no devido campo.",comments2:"O n\xfamero para envio n\xe3o deve ter mascara ou caracteres especiais e deve ser composto por:",codeCountry:"C\xf3digo do Pa\xeds",code:"DDD",number:"N\xfamero"},text:{title:"1. Mensagens de Texto",instructions:"Seguem abaixo a lista de informa\xe7\xf5es necess\xe1rias para envio das mensagens de texto:"},media:{title:"2. Mensagens de Media",instructions:"Seguem abaixo a lista de informa\xe7\xf5es necess\xe1rias para envio das mensagens de texto:"}}},notifications:{noTickets:"Nenhuma notifica\xe7\xe3o."},quickMessages:{title:"Respostas R\xe1pidas",searchPlaceholder:"Pesquisar...",noAttachment:"Sem anexo",confirmationModal:{deleteTitle:"Exclus\xe3o",deleteMessage:"Esta a\xe7\xe3o \xe9 irrevers\xedvel! Deseja prosseguir?"},buttons:{add:"Adicionar",attach:"Anexar Arquivo",cancel:"Cancelar",edit:"Editar"},toasts:{success:"Atalho adicionado com sucesso!",deleted:"Atalho removido com sucesso!"},dialog:{title:"Mensagem R\xe1pida",shortcode:"Atalho",message:"Resposta",save:"Salvar",cancel:"Cancelar",geral:"Permitir editar",add:"Adicionar",edit:"Editar",visao:"Permitir vis\xe3o"},table:{shortcode:"Atalho",message:"Mensagem",actions:"A\xe7\xf5es",mediaName:"Nome do Arquivo",status:"Status"}},contactLists:{title:"Listas de Contatos",table:{name:"Nome",contacts:"Contatos",actions:"A\xe7\xf5es"},buttons:{add:"Nova Lista"},dialog:{name:"Nome",company:"Empresa",okEdit:"Editar",okAdd:"Adicionar",add:"Adicionar",edit:"Editar",cancel:"Cancelar"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},toasts:{deleted:"Registro exclu\xeddo"}},contactListItems:{title:"Contatos",searchPlaceholder:"Pesquisa",buttons:{add:"Novo",lists:"Listas",import:"Importar"},dialog:{name:"Nome",number:"N\xfamero",whatsapp:"Whatsapp",email:"E-mail",okEdit:"Editar",okAdd:"Adicionar",add:"Adicionar",edit:"Editar",cancel:"Cancelar"},table:{name:"Nome",number:"N\xfamero",whatsapp:"Whatsapp",email:"E-mail",actions:"A\xe7\xf5es"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida.",importMessage:"Deseja importar os contatos desta planilha? ",importTitlte:"Importar"},toasts:{deleted:"Registro exclu\xeddo"}},kanban:{title:"Kanban",searchPlaceholder:"Pesquisa",subMenus:{list:"Painel",tags:"Lanes"}},campaigns:{title:"Campanhas",searchPlaceholder:"Pesquisa",subMenus:{list:"Listagem",listContacts:"Lista de contatos",settings:"Configura\xe7\xf5es"},settings:{randomInterval:"Intervalo Rand\xf4mico de Disparo",noBreak:"Sem Intervalo",intervalGapAfter:"Intervalo maior ap\xf3s",undefined:"N\xe3o definido",messages:"mensagens",laggerTriggerRange:"Intervalo de disparo maior",addVar:"Adicionar vari\xe1vel",save:"Salvar",close:"Fechar",add:"Adicionar",shortcut:"Atalho",content:"Conte\xfado"},buttons:{add:"Nova Campanha",contactLists:"Listas de Contatos"},table:{name:"Nome",whatsapp:"Conex\xe3o",contactList:"Lista de Contatos",option:"Nenhuma",disabled:"Desabilitada",enabled:"Habilitada",status:"Status",scheduledAt:"Agendamento",completedAt:"Conclu\xedda",confirmation:"Confirma\xe7\xe3o",actions:"A\xe7\xf5es"},dialog:{new:"Nova Campanha",update:"Editar Campanha",readonly:"Apenas Visualiza\xe7\xe3o",help:"Utilize vari\xe1veis como {nome}, {numero}, {email} ou defina vari\xe1veis personalizadas.",form:{name:"Nome",message1:"Mensagem 1",message2:"Mensagem 2",message3:"Mensagem 3",message4:"Mensagem 4",message5:"Mensagem 5",confirmationMessage1:"Mensagem de Confirma\xe7\xe3o 1",confirmationMessage2:"Mensagem de Confirma\xe7\xe3o 2",confirmationMessage3:"Mensagem de Confirma\xe7\xe3o 3",confirmationMessage4:"Mensagem de Confirma\xe7\xe3o 4",confirmationMessage5:"Mensagem de Confirma\xe7\xe3o 5",messagePlaceholder:"Conte\xfado da mensagem",whatsapp:"Conex\xe3o",status:"Status",scheduledAt:"Agendamento",confirmation:"Confirma\xe7\xe3o",contactList:"Lista de Contato",tagList:"Tags",statusTicket:"Status do Ticket",openTicketStatus:"Aberto",pendingTicketStatus:"Pendente",closedTicketStatus:"Fechado",enabledOpenTicket:"Habilitado",disabledOpenTicket:"Desabilitado",openTicket:"Abrir ticket"},buttons:{add:"Adicionar",edit:"Atualizar",okadd:"Ok",cancel:"Cancelar Disparos",restart:"Reiniciar Disparos",close:"Fechar",attach:"Anexar Arquivo"}},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},toasts:{success:"Opera\xe7\xe3o realizada com sucesso",cancel:"Campanha cancelada",restart:"Campanha reiniciada",deleted:"Registro exclu\xeddo"}},campaignReport:{title:"Relat\xf3rio de",inactive:"Inativa",scheduled:"Programada",process:"Em Andamento",cancelled:"Cancelada",finished:"Finalizada",campaign:"Campanha",validContacts:"Contatos V\xe1lidos",confirmationsRequested:"Confirma\xe7\xf5es Solicitadas",confirmations:"Confirma\xe7\xf5es",deliver:"Entregues",connection:"Conex\xe3o",contactLists:"Lista de Contatos",schedule:"Agendamento",conclusion:"Conclus\xe3o"},announcements:{title:"Informativos",searchPlaceholder:"Pesquisa",active:"Ativo",inactive:"Inativo",buttons:{add:"Novo Informativo",contactLists:"Listas de Informativos"},table:{priority:"Prioridade",title:"Title",text:"Texto",mediaName:"Arquivo",status:"Status",actions:"A\xe7\xf5es"},dialog:{edit:"Edi\xe7\xe3o de Informativo",add:"Novo Informativo",update:"Editar Informativo",readonly:"Apenas Visualiza\xe7\xe3o",form:{priority:"Prioridade",title:"Title",text:"Texto",mediaPath:"Arquivo",status:"Status",high:"Alta",medium:"M\xe9dia",low:"Baixa",active:"Ativo",inactive:"Inativo"},buttons:{add:"Adicionar",edit:"Atualizar",okadd:"Ok",cancel:"Cancelar",close:"Fechar",attach:"Anexar Arquivo"}},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},toasts:{success:"Opera\xe7\xe3o realizada com sucesso",deleted:"Registro exclu\xeddo"}},campaignsConfig:{title:"Configura\xe7\xf5es de Campanhas"},queues:{title:"Filas & Chatbot",table:{name:"Nome",color:"Cor",greeting:"Mensagem de sauda\xe7\xe3o",orderQueue:"Ordena\xe7\xe3o da fila (bot)",actions:"A\xe7\xf5es",ID:"ID"},buttons:{add:"Adicionar fila"},toasts:{success:"Fila salva com sucesso",deleted:"Fila exclu[ida com sucesso"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Voc\xea tem certeza? Essa a\xe7\xe3o n\xe3o pode ser revertida! Os atendimentos dessa fila continuar\xe3o existindo, mas n\xe3o ter\xe3o mais nenhuma fila atribu\xedda."}},queue:{queueData:"Dados"},queueSelect:{inputLabel:"Filas",inputLabelRO:"Filas somente leitura",withoutQueue:"Sem fila"},reports:{title:"Relat\xf3rios de Atendimentos",table:{id:"Ticket",user:"Usu\xe1rio",dateOpen:"Data Abertura",dateClose:"Data Fechamento",NPS:"NPS",status:"Status",whatsapp:"Conex\xe3o",queue:"Fila",actions:"A\xe7\xf5es",lastMessage:"\xdalt. Mensagem",contact:"Cliente",supportTime:"Tempo de Atendimento"},buttons:{filter:"Aplicar Filtro",onlyRated:"Apenas Avaliados"},searchPlaceholder:"Pesquisar..."},queueIntegration:{title:"Integra\xe7\xf5es",table:{id:"ID",type:"Tipo",name:"Nome",projectName:"Nome do Projeto",language:"Linguagem",lastUpdate:"Ultima atualiza\xe7\xe3o",actions:"A\xe7\xf5es"},buttons:{add:"Adicionar Projeto"},searchPlaceholder:"Pesquisar...",confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Voc\xea tem certeza? Essa a\xe7\xe3o n\xe3o pode ser revertida! e ser\xe1 removida das filas e conex\xf5es vinculadas"}},users:{title:"Usu\xe1rios",table:{status:"Status",name:"Nome",email:"Email",profile:"Perfil",startWork:"Inicio de trabalho",endWork:"Fim de trabalho",actions:"A\xe7\xf5es",ID:"ID"},buttons:{add:"Adicionar usu\xe1rio"},toasts:{deleted:"Usu\xe1rio exclu\xeddo com sucesso."},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Todos os dados do usu\xe1rio ser\xe3o perdidos. Os atendimento abertos deste usu\xe1rio ser\xe3o movidos para a fila."}},compaies:{title:"Empresas",table:{ID:"ID",status:"Ativo",name:"Nome",email:"Email",password:"Senha",phone:"Telefone",plan:"Plano",active:"Ativo",numberAttendants:"Atendentes",numberConections:"Conex\xf5es",value:"Valor",namePlan:"Nome Plano",numberQueues:"Filas",useCampaigns:"Campanhas",useExternalApi:"Rest API",useFacebook:"Facebook",useInstagram:"Instagram",useWhatsapp:"Whatsapp",useInternalChat:"Chat Interno",useSchedules:"Agendamento",createdAt:"Criada Em",dueDate:"Vencimento",lastLogin:"Ult. Login",actions:"A\xe7\xf5es",money:"R$",yes:"Sim",no:"N\xe3o",document:"CNPJ/CPF",recurrence:"Recorr\xeancia",monthly:"Mensal",bimonthly:"Bimestral",quarterly:"Trimestral",semester:"Semestral",yearly:"Anual",clear:"Limpar",delete:"Excluir",user:"Usu\xe1rio",save:"Salvar"},buttons:{add:"Adicionar empresa"},toasts:{deleted:"Empresa exclu\xeddo com sucesso."},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Todos os dados da empresa ser\xe3o perdidos. Os tickets abertos deste usu\xe1rio ser\xe3o movidos para a fila."}},plans:{form:{name:"Nome",users:"Usu\xe1rios",connections:"Conex\xf5es",campaigns:"Campanhas",schedules:"Agendamentos",enabled:"Habilitadas",disabled:"Desabilitadas",clear:"Cancelar",delete:"Excluir",save:"Salvar",yes:"Sim",no:"N\xe3o",money:"R$",public:"P\xfablico"}},helps:{title:"Central de Ajuda",settings:{codeVideo:"C\xf3digo do Video",description:"Descri\xe7\xe3o",clear:"Limpar",delete:"Excluir",save:"Salvar"}},schedules:{title:"Agendamentos",confirmationModal:{deleteTitle:"Voc\xea tem certeza que quer excluir este Agendamento?",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},table:{contact:"Contato",body:"Mensagem",sendAt:"Data de Agendamento",sentAt:"Data de Envio",status:"Status",actions:"A\xe7\xf5es"},buttons:{add:"Novo Agendamento"},toasts:{deleted:"Agendamento exclu\xeddo com sucesso."}},tags:{title:"Tags",confirmationModal:{deleteTitle:"Voc\xea tem certeza que quer excluir esta Tag?",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},table:{id:"ID",name:"Nome",kanban:"Kanban",color:"Cor",tickets:"Registros Tags",contacts:"Contatos",actions:"A\xe7\xf5es"},buttons:{add:"Nova Tag"},toasts:{deleted:"Tag exclu\xeddo com sucesso."}},tagsKanban:{title:"Lanes",laneDefault:"Em aberto",confirmationModal:{deleteTitle:"Voc\xea tem certeza que quer excluir esta Lane?",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},table:{name:"Nome",color:"Cor",tickets:"Tickets",actions:"A\xe7\xf5es"},buttons:{add:"Nova Lane"},toasts:{deleted:"Lane exclu\xedda com sucesso."}},files:{title:"Lista de arquivos",table:{name:"Nome",contacts:"Contatos",actions:"A\xe7\xe3o"},toasts:{deleted:"Lista exclu\xedda com sucesso!",deletedAll:"Todas as listas foram exclu\xeddas com sucesso!"},buttons:{add:"Adicionar",deleteAll:"Deletar Todos"},confirmationModal:{deleteTitle:"Deletar",deleteAllTitle:"Deletar Todos",deleteMessage:"Tem certeza que deseja deletar esta lista?",deleteAllMessage:"Tem certeza que deseja deletar todas as listas?"}},settings:{success:"Configura\xe7\xf5es salvas com sucesso.",title:"Configura\xe7\xf5es",tabs:{options:"Op\xe7\xf5es",plans:"Planos",helps:"Ajuda"},settings:{userCreation:{name:"Cria\xe7\xe3o de usu\xe1rio",options:{enabled:"Ativado",disabled:"Desativado"}},tabs:{options:"Op\xe7\xf5es",schedules:"Hor\xe1rios",plans:"Planos",help:"Ajuda"},options:{disabled:"Desabilitado",enabled:"Habilitado",updating:"Atualizando...",creationCompanyUser:"Cria\xe7\xe3o de Company/Usu\xe1rio",evaluations:"Avalia\xe7\xf5es",officeScheduling:"Agendamento de Expediente",queueManagement:"Gerenciamento por Fila",companyManagement:"Gerenciamento por Empresa",connectionManagement:"Gerenciamento por Conex\xe3o",sendGreetingAccepted:"Enviar sauda\xe7\xe3o ao aceitar o ticket",sendMsgTransfTicket:"Enviar mensagem transfer\xeancia de setor/atendente",checkMsgIsGroup:"Ignorar Mensagens de Grupos",chatBotType:"Tipo do Bot",userRandom:"Escolher atendente aleat\xf3rio",buttons:"Bot\xf5es",acceptCallWhatsapp:"Informar que n\xe3o aceita liga\xe7\xe3o no whatsapp?",sendSignMessage:"Permite atendente escolher ENVIAR Assinatura",sendGreetingMessageOneQueues:"Enviar sauda\xe7\xe3o quando houver somente 1 fila",sendQueuePosition:"Enviar mensagem com a posi\xe7\xe3o da fila",sendFarewellWaitingTicket:"Enviar mensagem de despedida no Aguardando",acceptAudioMessageContact:"Aceita receber audio de todos contatos?",enableLGPD:"Habilitar tratamento LGPD",requiredTag:"Tag obrigatoria para fechar ticket",closeTicketOnTransfer:"Fechar ticket ao transferir para outra fila",DirectTicketsToWallets:"Mover automaticamente cliente para carteira",showNotificationPending:"Mostrar notifica\xe7\xe3o para tickets pendentes"},customMessages:{sendQueuePositionMessage:"Mensagem de posi\xe7\xe3o na fila",AcceptCallWhatsappMessage:"Mensagem para informar que n\xe3o aceita liga\xe7\xf5es",greetingAcceptedMessage:"Mensagem de Sauda\xe7\xe3o ao aceitar ticket",transferMessage:"Mensagem de transfer\xeancia - ${queue.name} = fila destino"},LGPD:{title:"LGPD",welcome:"Mensagem de boas vindas(LGPD)",linkLGPD:"Link da pol\xedtica de privacidade",obfuscateMessageDelete:"Ofuscar mensagem apagada",alwaysConsent:"Sempre solicitar consentimento",obfuscatePhoneUser:"Ofuscar n\xfamero telefone para usu\xe1rios",enabled:"Habilitado",disabled:"Desabilitado"}}},messagesList:{header:{assignedTo:"Atribu\xeddo \xe0:",dialogRatingTitle:"Deseja deixar uma avalia\xe7\xe3o de atendimento para o cliente?",dialogClosingTitle:"Finalizando o atendimento com o cliente!",dialogRatingCancel:"Resolver COM Mensagem de Despedida",dialogRatingSuccess:"Resolver e Enviar Avalia\xe7\xe3o",dialogRatingWithoutFarewellMsg:"Resolver SEM Mensagem de Despedida",ratingTitle:"Escolha um menu de avalia\xe7\xe3o",notMessage:"Nenhuma mensagem selecionada",amount:"Valor de prospec\xe7\xe3o",buttons:{return:"Retornar",resolve:"Resolver",reopen:"Reabrir",accept:"Aceitar",rating:"Enviar Avalia\xe7\xe3o",enableIntegration:"Habilitar integra\xe7\xe3o",disableIntegration:"Desabilitar integra\xe7\xe3o",logTicket:"Logs do Ticket",requiredTag:"Voc\xea deve atribuir uma tag antes de fechar o ticket."}}},messagesInput:{placeholderPrivateMessage:"Digite uma mensagem ou aperte / para respostas r\xe1pidas",placeholderOpen:"Digite uma mensagem ou aperte / para respostas r\xe1pidas",placeholderClosed:"Reabra ou aceite esse ticket para enviar uma mensagem.",signMessage:"Assinar",privateMessage:"Mensagem Privada"},contactDrawer:{header:"Dados do contato",buttons:{edit:"Editar contato",block:"Bloquear",unblock:"Desbloquear"},extraInfo:"Outras informa\xe7\xf5es"},messageVariablesPicker:{label:"Variav\xe9is dispon\xedveis",vars:{contactFirstName:"Primeiro Nome",contactName:"Nome",user:"Atendente",greeting:"Sauda\xe7\xe3o",protocolNumber:"Protocolo",date:"Data",hour:"Hora",ticket_id:"N\xba do Chamado",queue:"Setor",connection:"Conex\xe3o"}},ticketOptionsMenu:{schedule:"Agendamento",delete:"Deletar",transfer:"Transferir",registerAppointment:"Observa\xe7\xf5es do Contato",resolveWithNoFarewell:"Finalizar sem despedida",acceptAudioMessage:"Aceitar \xe1udios do contato?",appointmentsModal:{title:"Observa\xe7\xf5es do Ticket",textarea:"Observa\xe7\xe3o",placeholder:"Insira aqui a informa\xe7\xe3o que deseja registrar"},confirmationModal:{title:"Deletar o ticket do contato",titleFrom:"do contato ",message:"Aten\xe7\xe3o! Todas as mensagens relacionadas ao ticket ser\xe3o perdidas."},buttons:{delete:"Excluir",cancel:"Cancelar"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancelar"}},messageInput:{tooltip:{signature:"Habilitar/Desabilitar Assinatura",privateMessage:"Habilitar/Desabilitar Mensagem Privada",meet:"Enviar link para videoconferencia"},type:{imageVideo:"Fotos e v\xeddeos",cam:"C\xe2mera",contact:"Contato",meet:"V\xeddeo chamada"}},messageOptionsMenu:{delete:"Deletar",reply:"Responder",edit:"Editar",forward:"Encaminhar",toForward:"Encaminhar",talkTo:"Conversar Com",confirmationModal:{title:"Apagar mensagem?",message:"Esta a\xe7\xe3o n\xe3o pode ser revertida."}},invoices:{table:{invoices:"Faturas",details:"Detalhes",users:"Usu\xe1rios",connections:"Conex\xf5es",queue:"Filas",value:"Valor",expirationDate:"Data Venc.",action:"A\xe7\xe3o"}},backendErrors:{ERR_NO_OTHER_WHATSAPP:"Deve haver pelo menos um WhatsApp padr\xe3o.",ERR_NO_DEF_WAPP_FOUND:"Nenhum WhatsApp padr\xe3o encontrado. Verifique a p\xe1gina de conex\xf5es.",ERR_WAPP_NOT_INITIALIZED:"Esta sess\xe3o do WhatsApp n\xe3o foi inicializada. Verifique a p\xe1gina de conex\xf5es.",ERR_WAPP_CHECK_CONTACT:"N\xe3o foi poss\xedvel verificar o contato do WhatsApp. Verifique a p\xe1gina de conex\xf5es",ERR_WAPP_INVALID_CONTACT:"Este n\xe3o \xe9 um n\xfamero de Whatsapp v\xe1lido.",ERR_WAPP_DOWNLOAD_MEDIA:"N\xe3o foi poss\xedvel baixar m\xeddia do WhatsApp. Verifique a p\xe1gina de conex\xf5es.",ERR_INVALID_CREDENTIALS:"Erro de autentica\xe7\xe3o. Por favor, tente novamente.",ERR_SENDING_WAPP_MSG:"Erro ao enviar mensagem do WhatsApp. Verifique a p\xe1gina de conex\xf5es.",ERR_DELETE_WAPP_MSG:"N\xe3o foi poss\xedvel excluir a mensagem do WhatsApp.",ERR_OTHER_OPEN_TICKET:"J\xe1 existe um t\xedquete aberto para este contato.",ERR_SESSION_EXPIRED:"Sess\xe3o expirada. Por favor entre.",ERR_USER_CREATION_DISABLED:"A cria\xe7\xe3o do usu\xe1rio foi desabilitada pelo administrador.",ERR_NO_PERMISSION:"Voc\xea n\xe3o tem permiss\xe3o para acessar este recurso.",ERR_DUPLICATED_CONTACT:"J\xe1 existe um contato com este n\xfamero.",ERR_NO_SETTING_FOUND:"Nenhuma configura\xe7\xe3o encontrada com este ID.",ERR_NO_CONTACT_FOUND:"Nenhum contato encontrado com este ID.",ERR_NO_TICKET_FOUND:"Nenhum t\xedquete encontrado com este ID.",ERR_NO_USER_FOUND:"Nenhum usu\xe1rio encontrado com este ID.",ERR_NO_WAPP_FOUND:"Nenhum WhatsApp encontrado com este ID.",ERR_CREATING_MESSAGE:"Erro ao criar mensagem no banco de dados.",ERR_CREATING_TICKET:"Erro ao criar t\xedquete no banco de dados.",ERR_FETCH_WAPP_MSG:"Erro ao buscar a mensagem no WhtasApp, talvez ela seja muito antiga.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"Esta cor j\xe1 est\xe1 em uso, escolha outra.",ERR_WAPP_GREETING_REQUIRED:"A mensagem de sauda\xe7\xe3o \xe9 obrigat\xf3rio quando h\xe1 mais de uma fila.",ERR_OUT_OF_HOURS:"Fora do Hor\xe1rio de Expediente!"}}},en:{translations:{signup:{title:"Sign up",toasts:{success:"User created successfully! Please login!",fail:"Error creating user. Check the reported data."},form:{name:"Name",email:"Email",password:"Password"},buttons:{submit:"Register",login:"Already have an account? Log in!"}},login:{title:"Login",form:{email:"Email",password:"Password"},buttons:{submit:"Enter",register:"Don't have an account? Register!"}},auth:{toasts:{success:"Login successfully!"}},dashboard:{charts:{perDay:{title:"Tickets today: "}}},connections:{title:"Connections",toasts:{deleted:"WhatsApp connection deleted sucessfully!",disconnected:"Connection disconnected successfully!"},confirmationModal:{deleteTitle:"Delete",deleteMessage:"Are you sure? It cannot be reverted.",disconnectTitle:"Disconnect",disconnectMessage:"Are you sure? You'll need to read QR Code again."},buttons:{add:"Add WhatsApp",disconnect:"Disconnect",tryAgain:"Try Again",qrcode:"QR CODE",newQr:"New QR CODE",connecting:"Connectiing"},toolTips:{disconnected:{title:"Failed to start WhatsApp session",content:"Make sure your cell phone is connected to the internet and try again, or request a new QR Code"},qrcode:{title:"Waiting for QR Code read",content:"Click on 'QR CODE' button and read the QR Code with your cell phone to start session"},connected:{title:"Connection established"},timeout:{title:"Connection with cell phone has been lost",content:"Make sure your cell phone is connected to the internet and WhatsApp is open, or click on 'Disconnect' button to get a new QRcode"}},table:{name:"Name",status:"Status",lastUpdate:"Last Update",default:"Default",actions:"Actions",session:"Session"}},whatsappModal:{title:{add:"Add WhatsApp",edit:"Edit WhatsApp"},form:{name:"Name",default:"Default"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"WhatsApp saved successfully."},qrCode:{message:"Read QrCode to start the session"},contacts:{title:"Contacts",toasts:{deleted:"Contact deleted sucessfully!"},searchPlaceholder:"Search ...",confirmationModal:{deleteTitle:"Delete",importTitlte:"Import contacts",deleteMessage:"Are you sure you want to delete this contact? All related tickets will be lost.",importMessage:"Do you want to import all contacts from the phone?"},buttons:{import:"Import Contacts",add:"Add Contact"},table:{name:"Name",whatsapp:"WhatsApp",email:"Email",actions:"Actions"}},contactModal:{title:{add:"Add contact",edit:"Edit contact"},form:{mainInfo:"Contact details",extraInfo:"Additional information",name:"Name",number:"Whatsapp number",email:"Email",extraName:"Field name",extraValue:"Value"},buttons:{addExtraInfo:"Add information",okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"Contact saved successfully."},queueModal:{title:{add:"Add queue",edit:"Edit queue"},form:{name:"Name",color:"Color",greetingMessage:"Greeting Message"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"}},userModal:{title:{add:"Add user",edit:"Edit user"},form:{name:"Name",email:"Email",password:"Password",profile:"Profile"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"User saved successfully."},chat:{noTicketMessage:"Select a ticket to start chatting."},ticketsManager:{buttons:{newTicket:"New"}},ticketsQueueSelect:{placeholder:"Queues"},tickets:{toasts:{deleted:"The ticket you were on has been deleted."},notification:{message:"Message from"},tabs:{open:{title:"Inbox"},closed:{title:"Resolved"},search:{title:"Search"}},search:{placeholder:"Search tickets and messages."},buttons:{showAll:"All",quickmessageflash:"Quick Message"}},transferTicketModal:{title:"Transfer Ticket",fieldLabel:"Type to search for users",noOptions:"No user found with this name",buttons:{ok:"Transfer",cancel:"Cancel"}},ticketsList:{pendingHeader:"Queue",assignedHeader:"Working on",noTicketsTitle:"Nothing here!",noTicketsMessage:"No tickets found with this status or search term.",buttons:{accept:"Accept"}},newTicketModal:{title:"Create Ticket",fieldLabel:"Type to search for a contact",add:"Add",buttons:{ok:"Save",cancel:"Cancel"}},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Connections",tickets:"Tickets",contacts:"Contacts",queues:"Queues",administration:"Administration",users:"Users",settings:"Settings"},appBar:{user:{profile:"Profile",logout:"Logout"}}},notifications:{noTickets:"No notifications."},queues:{title:"Queues",table:{name:"Name",color:"Color",greeting:"Greeting message",actions:"Actions"},buttons:{add:"Add queue"},confirmationModal:{deleteTitle:"Delete",deleteMessage:"Are you sure? It cannot be reverted! Tickets in this queue will still exist, but will not have any queues assigned."}},queueSelect:{inputLabel:"Queues"},users:{title:"Users",table:{name:"Name",email:"Email",profile:"Profile",actions:"Actions"},buttons:{add:"Add user"},toasts:{deleted:"User deleted sucessfully."},confirmationModal:{deleteTitle:"Delete",deleteMessage:"All user data will be lost. Users' open tickets will be moved to queue."}},settings:{success:"Settings saved successfully.",title:"Settings",settings:{userCreation:{name:"User creation",options:{enabled:"Enabled",disabled:"Disabled"}}}},messagesList:{header:{assignedTo:"Assigned to:",buttons:{return:"Return",resolve:"Resolve",reopen:"Reopen",accept:"Accept"}}},messagesInput:{placeholderOpen:"Type a message",placeholderClosed:"Reopen or accept this ticket to send a message.",signMessage:"Sign"},contactDrawer:{header:"Contact details",buttons:{edit:"Edit contact"},extraInfo:"Other information"},ticketOptionsMenu:{delete:"Delete",transfer:"Transfer",confirmationModal:{title:"Delete ticket #",titleFrom:"from contact ",message:"Attention! All ticket's related messages will be lost."},buttons:{delete:"Delete",cancel:"Cancel"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancel"}},messageOptionsMenu:{delete:"Delete",reply:"Reply",confirmationModal:{title:"Delete message?",message:"This action cannot be reverted."}},backendErrors:{ERR_NO_OTHER_WHATSAPP:"There must be at lest one default WhatsApp connection.",ERR_NO_DEF_WAPP_FOUND:"No default WhatsApp found. Check connections page.",ERR_WAPP_NOT_INITIALIZED:"This WhatsApp session is not initialized. Check connections page.",ERR_WAPP_CHECK_CONTACT:"Could not check WhatsApp contact. Check connections page.",ERR_WAPP_INVALID_CONTACT:"This is not a valid whatsapp number.",ERR_WAPP_DOWNLOAD_MEDIA:"Could not download media from WhatsApp. Check connections page.",ERR_INVALID_CREDENTIALS:"Authentication error. Please try again.",ERR_SENDING_WAPP_MSG:"Error sending WhatsApp message. Check connections page.",ERR_DELETE_WAPP_MSG:"Couldn't delete message from WhatsApp.",ERR_OTHER_OPEN_TICKET:"There's already an open ticket for this contact.",ERR_SESSION_EXPIRED:"Session expired. Please login.",ERR_USER_CREATION_DISABLED:"User creation was disabled by administrator.",ERR_NO_PERMISSION:"You don't have permission to access this resource.",ERR_DUPLICATED_CONTACT:"A contact with this number already exists.",ERR_NO_SETTING_FOUND:"No setting found with this ID.",ERR_NO_CONTACT_FOUND:"No contact found with this ID.",ERR_NO_TICKET_FOUND:"No ticket found with this ID.",ERR_NO_USER_FOUND:"No user found with this ID.",ERR_NO_WAPP_FOUND:"No WhatsApp found with this ID.",ERR_CREATING_MESSAGE:"Error while creating message on database.",ERR_CREATING_TICKET:"Error while creating ticket on database.",ERR_FETCH_WAPP_MSG:"Error fetching the message in WhtasApp, maybe it is too old.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"This color is already in use, pick another one.",ERR_WAPP_GREETING_REQUIRED:"Greeting message is required if there is more than one queue."}}},es:{translations:{signup:{title:"Registro",toasts:{success:"\xa1El usuario ha sido creado satisfactoriamente! \xa1Ahora inicia sesi\xf3n!",fail:"Error creando el usuario. Verifica la data reportada."},form:{name:"Nombre",email:"Correo Electr\xf3nico",password:"Contrase\xf1a",company:"Nombre de la Empresa",phone:"Whatsapp (COD + N\xdaMERO)"},buttons:{submit:"Reg\xedstrate",login:"\xbfYa tienes una cuenta? \xa1Inicia sesi\xf3n!"}},login:{title:"Inicio de Sesi\xf3n",form:{email:"Correo Electr\xf3nico",password:"Contrase\xf1a",button:"Ingresar"},buttons:{submit:"Ingresa",register:"\xbfNo tienes cuenta? \xa1Reg\xedstrate!"}},companies:{title:"Registrar Empresa",form:{name:"Nombre de la Empresa",plan:"Plan",token:"Token",submit:"Registrar",success:"Empresa creada con \xe9xito!"}},auth:{toasts:{success:"\xa1Inicio de sesi\xf3n exitoso!"},dueDate:{expiration:"Suscripci\xf3n caducar\xe1 en",days:"d\xedas!",day:"d\xeda!",expirationToday:"Su suscripci\xf3n termina hoy!"},token:"Token"},dashboard:{tabs:{indicators:"Indicadores",assessments:"Evaluaciones",attendants:"Agentes"},charts:{perDay:{title:"Tickets hoy: "}},cards:{inAttendance:"Atenci\xf3n actual",waiting:"Esperando",activeAttendants:"Agentes Activos",finalized:"Finalizados",newContacts:"Nuevos Contactos",totalReceivedMessages:"Total de Mensajes Recibidas",totalSentMessages:"Total de Mensajes Enviadas",averageServiceTime:"T.P. de Atenci\xf3n",averageWaitingTime:"T.P. de Espera",status:"Status (Actual)"},users:{name:"Nombre",numberAppointments:"Total de tickets",statusNow:"Actual",totalCallsUser:"Total de atenci\xf3n por usuario",totalAttendances:"Total de atenciones"},date:{initialDate:"Fecha Inicial",finalDate:"Fecha Final"},licence:{available:"Dispon\xedble hasta"},assessments:{totalCalls:"Total de Tickets",callsWaitRating:"Tickets aguardando evaluaci\xf3n",callsWithoutRating:"Ticket sin evaluaci\xf3n",ratedCalls:"Tickets evaluados",evaluationIndex:"\xcdndice de evaluaci\xf3n",score:"Puntaje",prosecutors:"Promotores",neutral:"Neutrales",detractors:"Dectratores"}},reports:{title:"Reporte de Pesquisas Realizadas",operator:"Agente",period:"Per\xedodo",until:"Hasta",date:"Fecha",reportTitle:"Relatorios",calls:"Atenciones",search:"Pesquisas",durationCalls:"Duraci\xf3n de la atenci\xf3n",grupoSessions:"Atenci\xf3n en grupos grupos",groupTicketsReports:{timezone:"America/Monterrey",msgToast:"Generando relatorio compactado, por favor espere.",errorToast:"Erro ao generar relatorio",back:"Volver",groupServiceReport:"Relatorio de Atenci\xf3n en Grupos",loading:"Cargando...",contact:"Contacto",dateOpen:"Fecha de Apertura",dateLastUpdated:"Fecha Ultima Actualizaci\xf3n",agent:"Agente",agentClosed:"Agente(cerr\xf3)",waitingAssistance:"Esperando atenci\xf3n",process:"En proceso"},researchReports:{response:"respuesta",active:"(Activa)",inactive:"(Inactiva)",quantity:"Cantidade",percentage:"porcentaje",title:"Relatorio de Pesquisas Realizadas",activeSearch:"Pesquisa activa",inactiveSearch:"Pesquisa inactiva"},ticketDurationDetail:{msgToast:"Generando relatorio compactado, por favor espere.",title:"Relatorio de Duraci\xf3n de la Atenci\xf3n",startService:"In\xedcio de la Atenci\xf3n",lastUpdated:"\xdaltima actualizaci\xf3n",lastAgent:"\xdaltimo agente",durationFinished:"Duraci\xf3n despu\xe9s de finalizado"},ticketDuration:{title:"Relatorio de Duraci\xf3n de Atenci\xf3n",contact:"Contacto",open:"Abiertos",pending:"Pendientes",finished:"Finalizados",durationFinished:"Duraci\xf3n de los finalizados",durationAfterFinished:"Duraci\xf3n despu\xe9s de finalizado",actions:"Acciones"},ticketReports:{msgToast:"Generando relatorio compactado, por favor aguarde.",title:"Relatrio de Atenci\xf3n"},pdf:{title:"Relaci\xf3n de Atenciones Realizadas",exportTitle:"Relaci\xf3n de Atenciones en Grupos Realizadas"}},todo:{newTask:"Nueva Tarea",add:"Agregar",task:"Tareas"},contactImportWpModal:{title:"Exportar Contactos para Excel",buttons:{downloadModel:"Download - modelo de excel para importaci\xf3n",closed:"Cerrar",import:"Seleccione el archivo de excel para importar los Contactos"}},connections:{title:"Conexiones",waitConnection:"Espere... Las conexiones ser\xe1n reiniciadas!",newConnection:"Nueva Conexi\xf3n",restartConnections:"Reiniciar Conexiones",callSupport:"Soporte",newConnection:"Nueva Conexi\xf3n",toasts:{deleted:"\xa1La conexi\xf3n de WhatsApp ha sido borrada satisfactoriamente!",disconnected:"\xa1Conexi\xf3n desconectada con \xe9xito!",closedimported:"Estamos cerrando los tickets importados, por favor espere."},confirmationModal:{closedImportedTitle:"Cerrar tickets importados",closedImportedMessage:"\xbfSeguro? Todos los tickets importados seran cerrados.",deleteTitle:"Borrar",deleteMessage:"\xbfEst\xe1s seguro? Este proceso no puede ser revertido.",disconnectTitle:"Desconectar",disconnectMessage:"Est\xe1s seguro? Deber\xe1 volver a leer el c\xf3digo QR"},buttons:{add:"Agrega WhatsApp",disconnect:"Desconectar",tryAgain:"Int\xe9ntalo de nuevo",qrcode:"QR CODE",newQr:"Nuevo QR CODE",closedImported:"Cerrar todos los tickets Importados",preparing:"Preparando mensajes para importaci\xf3n",importing:"Importando Mensajes del WhatsApp",newQr:"Nuevo QR CODE",processed:"Processado",in:"de",connecting:"Conectando"},typography:{processed:"Processado",in:"de",date:"Fecha del mensaje"},toolTips:{disconnected:{title:"No se pudo iniciar la sesi\xf3n de WhatsApp",content:"Aseg\xfarese de que su tel\xe9fono celular est\xe9 conectado a Internet y vuelva a intentarlo o solicite un nuevo c\xf3digo QR"},qrcode:{title:"Esperando la lectura del c\xf3digo QR",content:"Haga clic en el bot\xf3n 'C\xd3DIGO QR' y lea el C\xf3digo QR con su tel\xe9fono celular para iniciar la sesi\xf3n"},connected:{title:"Conexi\xf3n establecida"},timeout:{title:"Se perdi\xf3 la conexi\xf3n con el tel\xe9fono celular",content:"Aseg\xfarese de que su tel\xe9fono celular est\xe9 conectado a Internet y que WhatsApp est\xe9 abierto, o haga clic en el bot\xf3n 'Desconectar' para obtener un nuevo c\xf3digo QR"}},table:{name:"Nombre",status:"Estado",lastUpdate:"\xdaltima Actualizaci\xf3n",default:"Por Defecto",actions:"Acciones",session:"Sesi\xf3n",number:"N\xfamero de Whatsapp"}},showTicketOpenModal:{title:{header:"Servicio existente"},form:{message:"Hay un ticket abierto para este contacto:",user:"Agente",queue:"Fila",messageWait:"Este contacto ya est\xe1 en espera."}},showTicketLogModal:{title:{header:"Historico"},options:{create:"Ticket creado.",chatBot:"ChatBot iniciado.",queue:" - Fila definida.",open:"iniciou la atenci\xf3n.",access:"acces\xf3 el ticket.",transfered:"transferi\xf3 el ticket.",receivedTransfer:"recibi\xf3 el ticket transferido.",pending:"regres\xf3 a la fila.",closed:"cerr\xf3 el ticket",reopen:"abri\xf3 el ticket"}},whatsappModal:{title:{add:"Agrega WhatsApp",edit:"Edita WhatsApp"},tabs:{general:"Geral",messages:"Mensajes",assessments:"Evaluaciones",integrations:"Integraciones",schedules:"Horario de trabajo"},form:{importOldMessagesEnable:"Importar mensajes del celular",importOldMessages:"Fecha de inicio",importRecentMessages:"Fecha Final",importOldMessagesGroups:"Importar mensajes de grupo",closedTicketsPostImported:"Cerrar tickets despu\xe9s de la importaci\xf3n",name:"Nombre",queueRedirection:"Redirecci\xf3n de Fila",queueRedirectionDesc:"Seleccione una fila para los contactos que no tienen una fila para redirigir",default:"Por Defecto",group:"Permitir grupos",timeSendQueue:"Tiempo en minutos para redireccionar a la fila",importAlert:"ATENCI\xd3N: Guardando, su conexi\xf3n ser\xe1 cerrada, usted tendr\xe1 que volver a leer el QR Code para importar los mensajes",groupAsTicket:"Grupos como Ticket",timeCreateNewTicket:"Iniciar un nuevo ticket en *n* minutos",maxUseBotQueues:"Cantidad m\xe1xima de veces que el chatbot va a ser enviado",timeUseBotQueues:"Tiempo en minutos para nuevo env\xedo del chatbot",expiresTicket:"Cerrar chats abiertos ap\xf3s *n* horas",expiresTicketNPS:"Cerrar chats aguardando la evaluacion luego de x minutos",maxUseBotQueuesNPS:"Cantidad m\xe1xima de veces que la evaluaci\xf3n ser\xe1 enviada",closeLastMessageOptions1:"Del Agente/Cliente",closeLastMessageOptions2:"Del Agente",outOfHoursMessage:"Mensaje fuera de horario de atenci\xf3n",greetingMessage:"Mensaje de saludo",complationMessage:"Mensaje de conclusi\xf3n",lgpdLinkPrivacy:"Link para pol\xedticas de privacidad",lgpdMessage:"Mensaje inicial de LPD",lgpdDeletedMessages:"Ofuscar mensaje borrada por el contacto",lgpdSendMessage:"Siempre solicitar confirmaci\xf3n del contacto",ratingMessage:"Mensaje de evaluaci\xf3n - Rango de 0 a 10",token:"Token para integraci\xf3n externa",sendIdQueue:"Fila",inactiveMessage:"Mensaje de inactividad",timeInactiveMessage:"Tiempo em minutos para el env\xedo del aviso de inactividad",whenExpiresTicket:"Cerrar chats abiertos cuando el \xfaltimo mensaje sea",expiresInactiveMessage:"Mensaje al cerrar por inactividade",prompt:"Prompt"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},menuItem:{enabled:"Activado",disabled:"Desactivado",minutes:"minutos"},success:"WhatsApp guardado satisfactoriamente.",errorSendQueue:"Adem\xe1s del tiempo debes seleccinar una fila para redirecionar. Se necesitan los dos campos.",errorExpiresNPS:"Es necesario llenar el tiempo para la evaluaci\xf3n para el NPS."},qrCode:{message:"L\xe9e el c\xf3digo QR para empezar la sesi\xf3n."},contacts:{title:"Contactos",toasts:{deleted:"\xa1Contacto borrado satisfactoriamente!"},searchPlaceholder:"Buscar...",confirmationModal:{deleteTitle:"Borrar",importTitlte:"Importar contactos",exportContact:"Exportar contactos",deleteMessage:"\xbfEst\xe1s seguro que deseas borrar este contacto? Todos los tickets relacionados se perder\xe1n.",blockContact:"\xbfEst\xe1s seguro que quieres bloquear este contacto?",unblockContact:"\xbfEst\xe1s seguro que quieres desbloquear este contacto?",importMessage:"\xbfQuieres importar todos los contactos del tel\xe9fono?",importChat:"Importar Conversaciones",wantImport:"\xbfQuieres importar todas las conversaciones del tel\xe9fono?"},buttons:{import:"Importar Contactos",add:"Agregar Contacto",export:"Exportar Contacto"},table:{name:"Nombre",whatsapp:"WhatsApp",email:"Correo Electr\xf3nico",actions:"Acciones",lastMessage:"Ultimo Mensaje"},menu:{importYourPhone:"Importar del celular por default",importToExcel:"Importar / Exportar del Excel"}},forwardMessage:{text:"Reenviada"},forwardMessageModal:{title:"Reenviar mensaje",buttons:{ok:"Reenviar"}},promptModal:{form:{name:"Nombre",prompt:"Prompt",voice:"Voz",max_tokens:"M\xe1ximo de Tokens en la respuesta",temperature:"Temperatura",apikey:"API Key",max_messages:"M\xe1ximo de mensajes del Historico",voiceKey:"Llave de la API de la Voz",voiceRegion:"Regi\xf3n de la Voz"},success:"Prompt guardado",title:{add:"Agregar Prompt",edit:"Editar Prompt"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"}},prompts:{title:"Prompts",table:{name:"Nombre",queue:"Sector/Fila",max_tokens:"M\xe1ximo Tokens Respuestas",actions:"Acciones"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"\xbfEst\xe1s seguro? \xa1Esta acci\xf3n no se puede revertir!"},buttons:{add:"Agregar Prompt"}},contactModal:{title:{add:"Agregar contacto",edit:"Editar contacto"},form:{mainInfo:"Detalles del contacto",extraInfo:"Informaci\xf3n adicional",name:"Nombre",number:"N\xfamero de Whatsapp",email:"Correo Electr\xf3nico",extraName:"Nombre del Campo",extraValue:"Valor",chatBotContact:"Desactivar chatbot para este contacto",termsLGDP:"T\xe9rminos P.P. aceptados en:",allTicket:"Visualizar tickets sin fila",allowGroup:"Permitir grupos"},buttons:{addExtraInfo:"Agregar informaci\xf3n",okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"Contacto guardado satisfactoriamente."},queueModal:{title:{queueData:"Datos de la fila",text:"Horarios de atenci\xf3n",add:"Agregar fila",edit:"Editar fila",confirmationDelete:"\xbfEst\xe1 seguro? Todas las opciones integradas tambi\xe9n se eliminar\xe1n."},form:{name:"Nombre",color:"Color",orderQueue:"Orden de la fila (Bot)",rotate:"Rotativo",timeRotate:"Tiempo de Rotaci\xf3n",greetingMessage:"Mensaje de saludo",complationMessage:"Mensaje de cierre",outOfHoursMessage:"Mensaje fuera de horario de atenci\xf3n",token:"Token",integrationId:"Integraci\xf3n",fileListId:"Listado de archivos",closeTicket:"Cerrar ticket",queueType:"Tipo de menu",message:"Mensaje de respuesta",queue:"Fila para transferencia",integration:"Integraci\xf3n",file:"Listado de archivos"},buttons:{okAdd:"Agregar",okEdit:"Editar",cancel:"Cancelar"},bot:{title:"Opciones",toolTipTitle:"Agregue las opciones para construir un chatbot",toolTip:"Si solo hay una opci\xf3n, se elegir\xe1 autom\xe1ticamente, lo que har\xe1 que el bot responda con el mensaje de la opci\xf3n y avance.",selectOption:"Seleccione una opci\xf3n",text:"Texto",attendent:"Agente",queue:"Fila",integration:"Integranci\xf3n",file:"Archivo",toolTipMessageTitle:"El mensaje es obligatorio para pasar al siguiente nivel",toolTipMessageContent:"El mensaje es obligatorio para pasar al siguiente nivel",selectUser:"Seleccione un Usuario",selectQueue:"Seleccione una Fila",selectIntegration:"Seleccione um Integraci\xf3n",addOptions:"Agregar opciones"},serviceHours:{dayWeek:"D\xeda",startTimeA:"Hora de Inicio",endTimeA:"Hora del t\xe9rmino",startTimeB:"Hora de Inicio",endTimeB:"Hora del t\xe9rmino",monday:"Lunes",tuesday:"Martes",wednesday:"Mi\xe9rcoles",thursday:"Jueves",friday:"Viernes",saturday:"Sabado",sunday:"Domingo"}},queueIntegrationModal:{title:{add:"Agregar proyecto",edit:"Editar proyecto"},form:{id:"ID",type:"Tipo",name:"Nombre",projectName:"Nombre del Proyecto",language:"Idioma",jsonContent:"JsonContent",urlN8N:"URL",typebotSlug:"Typebot - Slug",typebotExpires:"Tiempo en minutos para expirar una conversaci\xf3n",typebotKeywordFinish:"Palabra para finalizar la conversaci\xf3n",typebotUnknownMessage:"Mensaje de opci\xf3n invalida"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar",test:"Probar Bot"},messages:{testSuccess:"\xa1Integraci\xf3n testada con \xe9xito!",addSuccess:"\xa1Integraci\xf3n agregada con \xe9xito!",editSuccess:"\xa1Integraci\xf3n editada con \xe9xito!"}},userModal:{warning:"Para importar los mensajes por favor vuelva a leer el QRCode.",title:{add:"Agregar usuario",edit:"Editar usuario",updateImage:"Actualizar Imagen",removeImage:"Excluir Imagen"},form:{name:"Nombre",email:"Correo Electr\xf3nico",password:"Contrase\xf1a",farewellMessage:"Mensaje de despedida",profile:"Perfil",startWork:"Inicio del Horario",endWork:"Final del Horario",whatsapp:"Conexi\xf3n Defautl",allTicketEnable:"Activado",allTicketDisable:"Desactivado",allTicket:"Visualizar mensajes sin fila",allowGroup:"Permitir Grupos",defaultMenuOpen:"Abierto",defaultMenuClosed:"Cerrado",defaultMenu:"Menu Est\xe1ndar",defaultTheme:"Tema Est\xe1ndar",defaultThemeDark:"Oscuro",defaultThemeLight:"Claro",allHistoric:"Ver historicos",allHistoricEnabled:"Activado",allHistoricDisabled:"Desactivado",allUserChat:"Ver conversaci\xf3n de otros usuarios",userClosePendingTicket:"Permitir cerrar tickets pendientes",showDashboard:"Ver Dashboard"},tabs:{general:"General",permissions:"Permissos"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar",addImage:"Agregar Imagen",editImage:"Editar Imagen"},success:"Usuario guardado satisfactoriamente."},companyModal:{title:{add:"Agregar empresa",edit:"Editar empresa"},form:{name:"Nombre",email:"Correo electr\xf3nico",passwordDefault:"Contrase\xf1a",numberAttendants:"Usuarios",numberConections:"Conexiones"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"La Empresa fue guardada satisfactoriamente."},scheduleModal:{title:{add:"Nuevo Programa",edit:"Editar Programa"},form:{body:"Mensaje",contact:"Contacto",sendAt:"Fecha del Programa",sentAt:"Fecha de Env\xedo"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"Programa guardado satisfactoriamente."},tagModal:{title:{add:"Nueva Tag",edit:"Editar Tag",addKanban:"Nueva Lane",editKanban:"Editar Lane"},form:{name:"Nombre",color:"Color"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"Tag guardada satisfactoriamente.",successKanban:"Lane guardada satisfactoriamente."},fileModal:{title:{add:"Agregar men\xfa de evaluaci\xf3n",edit:"Editar men\xfa de evaluaci\xf3n"},buttons:{okAdd:"Guardar",okEdit:"Editar",cancel:"Cancelar",fileOptions:"Agregar archivo"},form:{name:"Nombre",message:"Mensaje de Evaluaci\xf3n",options:"Opciones de Evaluaci\xf3n",extraName:"Nombre de la opci\xf3n",extraValue:"Valor de la opci\xf3n"},success:"Evaluaci\xf3n guardada satisfactoriamente."},chat:{noTicketMessage:"Selecciona un ticket para empezar a chatear."},uploads:{titles:{titleUploadMsgDragDrop:"\u2b07\ufe0f ARRASTRE Y SUELTE LOS ARCHIVOS EN EL CAMPO \u2b07\ufe0f",titleFileList:"Listado de archivo(s)"}},chatInternal:{new:"Nuevo",modal:{conversation:"Inicio",title:"T\xedtulo",filterUsers:"Filtro por Usuarios",cancel:"Cerrar",save:"Guardar"},modalDelete:{title:"Excluir Chat",message:"Esta acci\xf3n no se puede revertir, \xbfconfirmar?"}},ticketsManager:{questionCloseTicket:"\xbfQuieres cerrar todos los tickets?",yes:"SI",not:"NO",buttons:{newTicket:"Nuevo",resolvAll:"Resolver Todos",close:"Cerrar",new:"Nuevo"}},ticketsQueueSelect:{placeholder:"Filas"},tickets:{inbox:{closedAllTickets:"\xbfCerrar todos los tickets?",closedAll:"Cerrar Todos",newTicket:"Nuevo Ticket",yes:"SI",no:"NO",open:"Abiertos",resolverd:"Resueltos"},toasts:{deleted:"El ticket en el que estabas ha sido borrado."},notification:{message:"Mensaje de"},tabs:{open:{title:"Bandeja"},closed:{title:"Resueltos"},search:{title:"Buscar"}},search:{placeholder:"Buscar tickets y mensajes.",filterConections:"Filtro por Conexi\xf3n",filterConectionsOptions:{open:"Abierto",closed:"Cerrado",pending:"Pendiente"},filterUsers:"Filtro por usuarios"},buttons:{showAll:"Todos",returnQueue:"Regresar a la Fila",scredule:"Programar",deleteTicket:"Borrar Ticket",quickmessageflash:"Mensaje R\xe1pido"},closedTicket:{closedMessage:"Cerrar CON un mensaje de despedida",closedNotMessage:"Cerrar SIN un mensaje de despedida"}},transferTicketModal:{title:"Transferir Ticket",fieldLabel:"Escriba para buscar usuarios",fieldQueueLabel:"Transferir para fila",fieldQueuePlaceholder:"Seleccione una fila",fieldWhatsapp:"Seleccione un whatsapp",noOptions:"No se encontraron usuarios con ese nombre",msgTransfer:"Observaci\xf3n - los mensajes internos, no ser\xe1n visualizados por el cliente.",buttons:{ok:"Transferir",cancel:"Cancelar"}},chatInternal:{new:"Nuevo",modal:{conversation:"Conversaci\xf3n",title:"T\xedtulo",filterUsers:"Filtro por Usuarios",cancel:"Cerrar",save:"Guardar"},modalDelete:{title:"Excluir Conversaci\xf3n",message:"Esta acci\xf3n no se puede revertir, \xbfconfirmar?"}},ticketsList:{called:"Entradas",today:"Hoy",missedCall:"Llamada de voz/v\xeddeo perdida a las",pendingHeader:"Esperando",assignedHeader:"Trabajando en",groupingHeader:"Grupos",noTicketsTitle:"\xa1Nada ac\xe1!",noTicketsMessage:"No se encontraron tickets con este estado o t\xe9rmino de b\xfasqueda",noQueue:"Sin Fila",buttons:{accept:"Aceptar",cancel:"Cancelar",start:"Iniciar",closed:"Cerrar",reopen:"Reabrir",transfer:"Transferir",ignore:"Ignorar",exportAsPDF:"Exportar para PDF"},acceptModal:{title:"Aceptar Chat",queue:"Seleccionar tag"}},newTicketModal:{title:"Crear Ticket",fieldLabel:"Escribe para buscar un contacto",add:"Agregar",buttons:{ok:"Guardar",cancel:"Cancelar"}},SendContactModal:{title:"Enviar contacto",fieldLabel:"Buscar contacto",add:"Agregar",buttons:{ok:"Enviar",cancel:"Cancelar"}},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Conexiones",chatsTempoReal:"Panel de Asistencia",tickets:"Inbox",quickMessages:"Respuestas R\xe1pidas",contacts:"Contactos",queues:"Filas",tags:"Tags",administration:"Administraci\xf3n",companies:"Empresas",users:"Usuarios",settings:"Configuraci\xf3n",ratings:"Regist. Evaluaciones",helps:"Ayuda",messagesAPI:"API",schedules:"Programa",campaigns:"Campa\xf1as",annoucements:"Informativos",chats:"Chat Interno",financeiro:"Financiero",queueIntegration:"Integraciones",version:"Versi\xf3n",kanban:"Kanban",prompts:"Talk.Ai",allConnections:"Admin conexiones"},appBar:{user:{profile:"Perfil",logout:"Cerrar Sesi\xf3n",message:"Hola",messageEnd:"bienvenido a",active:"Activo hasta",goodMorning:"Hola,",myName:"mi nombre es",continuity:"y te seguir\xe9 apoyando.",virtualAssistant:"Asistente Virtual",token:"Token inv\xe1lido, favor comunicarse con el administrador de la plataforma."},message:{location:"Localizaci\xf3n",contact:"Contacto"},notRegister:"No hay registros",refresh:"Atuaclizar"}},languages:{undefined:"Idioma","es-Mx":"Espa\xf1ol",es:"Espa\xf1ol",en:"English",tr:"T\xfcrk\xe7e"},messagesAPI:{title:"API",textMessage:{number:"N\xfamero",body:"Mensaje",token:"Token registrado",userId:"ID usuario/agente",queueId:"ID Fila"},mediaMessage:{number:"N\xfamero",body:"Nombre del archivo",media:"Archivo",token:"Token registrado"},API:{title:"Documentaci\xf3n para env\xedo de mensajes",methods:{title:"M\xe9todos de Env\xedo",messagesText:"Mensajes de Texto",messagesMidia:"Mensajes de Midia"},instructions:{title:"Instrucciones",comments:"Observaciones Importantes",comments1:"Antes de enviar mensajes, es necesario registrar el token vinculado a la conexi\xf3n que enviar\xe1 los mensajes. <br />Para registrarse, acceda al men\xfa 'Conexiones', haga clic en el bot\xf3n de edici\xf3n de la conexi\xf3n e inserte el token en el campo correspondiente.",comments2:"El n\xfamero de env\xedo no debe tener m\xe1scara ni caracteres especiales y debe constar de:",codeCountry:"C\xf3digo del Pa\xeds",code:"C\xf3digo del Estado",number:"Numero"},text:{title:"1. Mensajes de Texto",instructions:"A continuaci\xf3n se muestra la lista de informaci\xf3n necesaria para enviar mensajes de texto:"},media:{title:"2. Mensagens de Media",instructions:"A continuaci\xf3n se muestra la lista de informaci\xf3n necesaria para enviar mensajes con archivos:"}}},notifications:{noTickets:"Sin notificaciones."},quickMessages:{title:"Respuestas R\xe1pidas",searchPlaceholder:"Buscar...",noAttachment:"No hay",confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta acci\xf3n no se puede revertir. \xbfContinuar?"},buttons:{add:"Agregar",attach:"Adjuntar Archivo",cancel:"Cancelar",edit:"Editar"},toasts:{success:"Atajo agregado satisfactoriamente.",deleted:"Atajo excluido satisfactoriamente."},dialog:{title:"Mensaje R\xe1pida",shortcode:"Atajo",message:"Respuesta",save:"Guardar",cancel:"Cancelar",geral:"Global",add:"Agregar",edit:"Editar",visao:"Permitir visi\xf3n"},table:{shortcode:"Atajo",message:"Mensaje",actions:"Acciones",mediaName:"Nombre del Archivo",status:"Status"}},contactLists:{title:"Listado de Contactos",table:{name:"Nombre",contacts:"Contactos",actions:"Acciones"},buttons:{add:"Nuevo Listado"},dialog:{name:"Nombre",company:"Empresa",okEdit:"Editar",okAdd:"Agregar",add:"Agregar",edit:"Editar",cancel:"Cancelar"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta acci\xf3n no se puede revertir."},toasts:{deleted:"Registro exclu\xeddo"}},contactListItems:{title:"Contactos",searchPlaceholder:"B\xfasqueda",buttons:{add:"Nuevo",lists:"Listados",import:"Importar"},dialog:{name:"Nombre",number:"N\xfamero",whatsapp:"Whatsapp",email:"Correo electr\xf3nico",okEdit:"Editar",okAdd:"Agregar",add:"Agregar",edit:"Editar",cancel:"Cancelar"},table:{name:"Nombre",number:"N\xfamero",whatsapp:"Whatsapp",email:"Correo electr\xf3nico",actions:"Acciones"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta acci\xf3n no se puede revertir.",importMessage:"\xbfQuieres importar esta plantilla? ",importTitlte:"Importar"},toasts:{deleted:"Registro exclu\xeddo"}},kanban:{title:"Kanban",searchPlaceholder:"B\xfasqueda",subMenus:{list:"Admin",tags:"Lanes"}},campaigns:{title:"Campa\xf1as",searchPlaceholder:"B\xfasqueda",subMenus:{list:"Listados",listContacts:"Listados de contatos",settings:"Configuraciones"},settings:{randomInterval:"Intervalo de disparo aleatorio",noBreak:"Sin Intervalo",intervalGapAfter:"Intervalo mayor despu\xe9s de",undefined:"No definido",messages:"mensajes",laggerTriggerRange:"Intervalo de env\xedo m\xe1s grande",addVar:"Agregar variable",save:"Guardar",close:"Cerrar",add:"Agregar",shortcut:"Atajo",content:"Contenido"},buttons:{add:"Nueva Campa\xf1a",contactLists:"Listado de Contactos"},table:{name:"Nombre",whatsapp:"Conexi\xf3n",contactList:"Listado de Contactos",option:"Ninguna",disabled:"Activada",enabled:"Desactivada",status:"Status",scheduledAt:"Programa",completedAt:"Finalizada",confirmation:"Confirmaci\xf3n",actions:"Acciones"},dialog:{new:"Nueva Campa\xf1a",update:"Editar Campa\xf1a",readonly:"Solo Visualizar",help:"Use variables como {nombre}, {numero}, {email} o defina variables personalizadas.",form:{name:"Nombre",message1:"Mensaje 1",message2:"Mensaje 2",message3:"Mensaje 3",message4:"Mensaje 4",message5:"Mensaje 5",confirmationMessage1:"Mensaje de Confirmaci\xf3n 1",confirmationMessage2:"Mensaje de Confirmaci\xf3n 2",confirmationMessage3:"Mensaje de Confirmaci\xf3n 3",confirmationMessage4:"Mensaje de Confirmaci\xf3n 4",confirmationMessage5:"Mensaje de Confirmaci\xf3n 5",messagePlaceholder:"Contenido del Mensaje",whatsapp:"Conexi\xf3n",status:"Status",scheduledAt:"Programa",confirmation:"Confirmaci\xf3n",contactList:"Listado de Contacto",tagList:"Tags",statusTicket:"Status del Ticket",openTicketStatus:"Abierto",closedTicketStatus:"Cerrado",enabledOpenTicket:"Activado",disabledOpenTicket:"Desactivado",openTicket:"Abrir ticket"},buttons:{add:"Agregar",edit:"Actualizar",okadd:"Ok",cancel:"Cancelar Env\xedos",restart:"Reiniciar Env\xedos",close:"Cerrar",attach:"Anexar Archivo"}},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta acci\xf3n no se puede revertir."},toasts:{success:"Acci\xf3n realizada satisfactoriamente",cancel:"Campa\xf1a cancelada",restart:"Campa\xf1a reiniciada",deleted:"Registro excluido"}},campaignReport:{title:"Reporte de",inactive:"Inactiva",scheduled:"Programada",process:"En Proceso",cancelled:"Cancelada",finished:"Finalizada",campaign:"Campa\xf1a",validContacts:"Contactos V\xe1lidos",confirmationsRequested:"Confirmaciones Solicitadas",confirmations:"Confirmaciones",deliver:"Entregadas",connection:"Conexi\xf3n",contactLists:"Listado de Contactos",schedule:"Programados",conclusion:"Conclusi\xf3n"},announcements:{title:"Boletines",searchPlaceholder:"B\xfasqueda",active:"Activo",inactive:"Inactivo",buttons:{add:"Nuevo Boletin",contactLists:"Listados de Boletines"},table:{priority:"Prioridad",title:"T\xedtulo",text:"Texto",mediaName:"Archivo",status:"Status",actions:"Acciones"},dialog:{edit:"Editar Boletin",add:"Nuevo Boletin",update:"Editar Boletin",readonly:"Solo visualizar",form:{priority:"Prioridad",title:"T\xedtulo",text:"Texto",mediaPath:"Archivo",status:"Status",high:"Alta",medium:"Mediana",low:"Baja",active:"Activo",inactive:"Inactivo"},buttons:{add:"Agregar",edit:"Actualizar",okadd:"Ok",cancel:"Cancelar",close:"Cerrar",attach:"Anexar Archivo"}},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta acci\xf3n no se puede revertir."},toasts:{success:"Acci\xf3n realizada satisfactoriamente",deleted:"Registro excluido"}},campaignsConfig:{title:"Configuraciones de Campa\xf1as"},queues:{title:"Filas",table:{name:"Nombre",color:"Color",greeting:"Mensaje de saludo",orderQueue:"Orden de la fila (bot)",actions:"Acciones",ID:"ID"},buttons:{add:"Agregar fila"},toasts:{success:"Fila guardada",deleted:"Fila excluida"},confirmationModal:{deleteTitle:"Eliminar",deleteMessage:"\xbfEst\xe1s seguro? \xa1Esta acci\xf3n no se puede revertir! Los tickets en esa fila seguir\xe1n existiendo, pero ya no tendr\xe1n ninguna fila asignada."}},queue:{queueData:"Datos"},queueSelect:{inputLabel:"Filas",inputLabelRO:"Filas solo para lectura"},queueIntegration:{title:"Integraciones",table:{id:"ID",type:"Tipo",name:"Nombre",projectName:"Nombre del Proyecto",language:"Idioma",lastUpdate:"Ultima actualizaci\xf3n",actions:"Acciones"},buttons:{add:"Agregar Proyecto"},searchPlaceholder:"Buscar...",confirmationModal:{deleteTitle:"Excluir",deleteMessage:"\xbfEst\xe1s seguro? \xa1Esta acci\xf3n no se puede revertir! Se eliminar\xe1n las filas y conexiones enlazadas"}},users:{title:"Usuarios",table:{status:"Status",name:"Nombre",email:"Correo Electr\xf3nico",profile:"Perfil",startWork:"Inicio del trabajo",endWork:"Final de trabajo",actions:"Acciones",ID:"ID"},buttons:{add:"Agregar usuario"},toasts:{deleted:"Usuario borrado satisfactoriamente."},confirmationModal:{deleteTitle:"Borrar",deleteMessage:"Toda la informaci\xf3n del usuario se perder\xe1. Los tickets abiertos de los usuarios se mover\xe1n a la fila."}},compaies:{title:"Empresas",table:{ID:"ID",status:"Activo",name:"Nombre",email:"Correo",password:"Contrase\xf1a",phone:"Tel\xe9fono",plan:"Plan",active:"Activo",numberAttendants:"Agentes",numberConections:"Conexiones",value:"Valor",namePlan:"Nombre del Plan",numberQueues:"Filas",useCampaigns:"Campa\xf1as",useExternalApi:"Rest API",useFacebook:"Facebook",useInstagram:"Instagram",useWhatsapp:"Whatsapp",useInternalChat:"Chat Interno",useSchedules:"Programa",createdAt:"F.Creaci\xf3n",dueDate:"Caducidad",lastLogin:"Ult. Login",actions:"Acciones",money:"MXN",yes:"Si",no:"No",document:"CURP/RFC",recurrence:"Recurencia",monthly:"Mensual",bimonthly:"Bimestral",quarterly:"Trimestral",semester:"Semestral",yearly:"Anual",clear:"Limpiar",delete:"Eliminar",user:"Usuario",save:"Guardar"},buttons:{add:"Agregar empresa"},toasts:{deleted:"Empresa excluida satisfactoriamente."},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Todas las informaciones de la empresa ser\xe1n eliminadas. Los tickets abiertos de este usu\xe1rio ser\xe1n movidos a la fila."}},plans:{form:{name:"Nombre",users:"Usuarios",connections:"Conexiones",campaigns:"Campa\xf1as",schedules:"Programas",enabled:"Activada",disabled:"Desactivada",clear:"Limpiar",delete:"Eliminar",save:"Guardar",yes:"Si",no:"No",money:"MXN"}},helps:{title:"Ayuda",settings:{codeVideo:"C\xf3digo del Video",description:"Descripci\xf3n",clear:"Limpiar",delete:"Eliminar",save:"Guardar"}},schedules:{title:"Programas",confirmationModal:{deleteTitle:"\xbfSeguro que quieres excluir este Programa?",deleteMessage:"Esta acci\xf3n no se puede revertir."},table:{contact:"Contacto",body:"Mensaje",sendAt:"Fecha del Programa",sentAt:"Fecha de Env\xedo",status:"Status",actions:"Acciones"},buttons:{add:"Nuevo Programa"},toasts:{deleted:"Programa eliminado satisfactoriamente."}},tags:{title:"Tags",confirmationModal:{deleteTitle:"\xbfSeguro que quieres excluir esta Tag?",deleteMessage:"Esta acci\xf3n no se puede revertir."},table:{name:"Nombre",kanban:"Kanban",color:"Color",tickets:"Registros Tags",contacts:"Contactos",actions:"Acciones"},buttons:{add:"Nueva Tag"},toasts:{deleted:"Tag eliminada satisfactoriamente."}},tagsKanban:{title:"Lanes",laneDefault:"Abierto(s)",confirmationModal:{deleteTitle:"\xbfSeguro que quieres excluir esta Lane?",deleteMessage:"Esta acci\xf3n no se puede revertir."},table:{name:"Nombre",color:"Color",tickets:"Tickets",actions:"Acciones"},buttons:{add:"Nueva Lane"},toasts:{deleted:"Lane eliminada satisfactoriamente."}},files:{title:"Listado de archivos",table:{name:"Nombre",contacts:"Contactos",actions:"Acci\xf3n"},toasts:{deleted:"Listado borrado satisfactoriamente!",deletedAll:"Todos los listados fueron borrados satisfactoriamente!"},buttons:{add:"Agregar",deleteAll:"Borrar Todos"},confirmationModal:{deleteTitle:"Borrar",deleteAllTitle:"Borrar Todos",deleteMessage:"Est\xe1s seguro de borrar este listado?",deleteAllMessage:"Est\xe1s seguro de borrar todos los listado?"}},settings:{success:"Configuraci\xf3n guardada satisfactoriamente.",title:"Configuraci\xf3n",tabs:{options:"Opciones",plans:"Planes",helps:"Ayuda"},settings:{userCreation:{name:"Creaci\xf3n de usuarios",options:{enabled:"Habilitado",disabled:"Deshabilitado"}},tabs:{options:"Opciones",schedules:"Horarios",plans:"Planes",help:"Ayuda"},options:{disabled:"Desactivadas",enabled:"Activadas",updating:"Actualizando...",creationCompanyUser:"Creaci\xf3n de Company/Usu\xe1rio",evaluations:"Evaluaciones",officeScheduling:"Programar horarios",queueManagement:"Gerenciar por Fila",companyManagement:"Gerenciar por Empresa",connectionManagement:"Gerenciar por Conexi\xf3n",sendGreetingAccepted:"Enviar saludos al aceptar ticket",sendMsgTransfTicket:"Enviar mensaje de transferencia (departamento/agente)",checkMsgIsGroup:"Ignorar mensajes de Grupos",chatBotType:"Tipo de Bot",userRandom:"Escojer agente aleatorio",buttons:"Botones",acceptCallWhatsapp:"No aceptar llamada en el whatsapp",sendSignMessage:"Permitir agente escoger ENVIAR Firma",sendGreetingMessageOneQueues:"Enviar saludos cuando hay solamente 1 fila",sendQueuePosition:"Enviar mensaje con la posici\xf3n de la fila",sendFarewellWaitingTicket:"Enviar mensaje de despedida(estado Esperando)",acceptAudioMessageContact:"Aceptar audios de todos",enableLGPD:"Habilitar opci\xf3n P.P.",requiredTag:"Tag obligatoria para cerrar ticket",closeTicketOnTransfer:"Cerrar ticket al transferir para otra fila",DirectTicketsToWallets:"Mover automaticamente cliente para cartera"},LGPD:{title:"Politica de Privacidad",welcome:"Mensaje de bienvenida (PP)",linkLGPD:"Link de la pol\xedtica de privacidad",obfuscateMessageDelete:"Ofuscar mensaje borrada",alwaysConsent:"Requerir siempre el consentimiento",obfuscatePhoneUser:"Ofuscar n\xfamero de telefono para usuarios",enabled:"Activado",disabled:"Desactivado"}}},messagesList:{header:{assignedTo:"Asignado a:",dialogRatingTitle:"\xbfQuieres dejar un mensaje de evaluaci\xf3n para el cliente?",dialogClosingTitle:"Finalizando la atenci\xf3n al cliente!",dialogRatingCancel:"Cerrar CON Mensaje de Despedida",dialogRatingSuccess:"Cerrar y Enviar Evaluaci\xf3n",dialogRatingWithoutFarewellMsg:"Cerrar SIN Mensaje de Despedida",ratingTitle:"Elegir men\xfa de evaluaci\xf3n",notMessage:"No hay mensaje seleccionado",buttons:{return:"Devolver",resolve:"Resolver",reopen:"Reabrir",accept:"Aceptar",rating:"Enviar Evaluaci\xf3n",enableIntegration:"Activar/Desactivar integraci\xf3n",logTicket:"Logs del Ticket",requiredTag:"Opps! Debes asignar una tag antes de cerrar el ticket."}}},messagesInput:{placeholderPrivateMessage:"Entre como un mensaje o con / para respuestas r\xe1pidas",placeholderOpen:"Entre como un mensaje o con / para respuestas r\xe1pidas",placeholderClosed:"Vuelva a abrir o acepte este ticket para enviar un mensaje.",signMessage:"Firmar",privateMessage:"Mensaje Privada"},contactDrawer:{header:"Detalles del contacto",buttons:{edit:"Editar contacto",block:"Bloquear",unblock:"Desbloquear"},extraInfo:"Otras informaciones"},messageVariablesPicker:{label:"Variables disponibles",vars:{contactFirstName:"Primer Nombre",contactName:"Nombre",user:"Agente",greeting:"Saludos",protocolNumber:"Protocolo",date:"Fecha",hour:"Hora",ticket_id:"N\xba del Ticket",queue:"Sector",connection:"Conexi\xf3n"}},ticketOptionsMenu:{schedule:"Programa",delete:"Borrar",transfer:"Transferir",registerAppointment:"Observaciones del Contacto",resolveWithNoFarewell:"Cerrar sin despedida",acceptAudioMessage:"\xbfAceptar audios del contacto?",appointmentsModal:{title:"Observaciones del Contacto",textarea:"Observaci\xf3n",placeholder:"Agregue aqui la informaci\xf3n"},confirmationModal:{title:"\xbfBorrar ticket #",titleFrom:"del contacto ",message:"\xa1Atenci\xf3n! Todos los mensajes Todos los mensajes relacionados con el ticket se perder\xe1n."},buttons:{delete:"Borrar",cancel:"Cancelar"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancelar"}},messageInput:{tooltip:{signature:"Activar/Desactivar firma",privateMessage:"Activar/Desactivar mensaje privado",meet:"Enviar link para videollamada"},type:{imageVideo:"Fotos y videos",cam:"C\xe1mara",contact:"Contacto",meet:"Link Jitsi Meet"}},messageOptionsMenu:{delete:"Borrar",reply:"Responder",edit:"Editar",forward:"Enviar",toForward:"Enviar",talkTo:"Platicar Con",confirmationModal:{title:"\xbfBorrar mensaje?",message:"Esta acci\xf3n no puede ser revertida."}},invoices:{table:{invoices:"Facturas",details:"Detalles",users:"Usuarios",connections:"Conexiones",queue:"Filas",value:"Valor",expirationDate:"Fecha Venc.",action:"Acci\xf3n"}},backendErrors:{ERR_NO_OTHER_WHATSAPP:"Debe haber al menos una conexi\xf3n de WhatsApp predeterminada.",ERR_NO_DEF_WAPP_FOUND:"No se encontr\xf3 WhatsApp predeterminado. Verifique la p\xe1gina de conexiones.",ERR_WAPP_NOT_INITIALIZED:"Esta sesi\xf3n de WhatsApp no \u200b\u200best\xe1 inicializada. Verifique la p\xe1gina de conexiones.",ERR_WAPP_CHECK_CONTACT:"No se pudo verificar el contacto de WhatsApp. Verifique la p\xe1gina de conexiones.",ERR_WAPP_INVALID_CONTACT:"Este no es un n\xfamero de whatsapp v\xe1lido.",ERR_WAPP_DOWNLOAD_MEDIA:"No se pudieron descargar los medios de WhatsApp. Verifique la p\xe1gina de conexiones.",ERR_INVALID_CREDENTIALS:"Error de autenticaci\xf3n. Vuelva a intentarlo.",ERR_SENDING_WAPP_MSG:"Error al enviar el mensaje de WhatsApp. Verifique la p\xe1gina de conexiones.",ERR_DELETE_WAPP_MSG:"No se pudo borrar el mensaje de WhatsApp.",ERR_OTHER_OPEN_TICKET:"Ya hay un ticket abierto para este contacto.",ERR_SESSION_EXPIRED:"Sesi\xf3n caducada. Inicie sesi\xf3n.",ERR_USER_CREATION_DISABLED:"La creaci\xf3n de usuarios fue deshabilitada por el administrador.",ERR_NO_PERMISSION:"No tienes permiso para acceder a este recurso.",ERR_DUPLICATED_CONTACT:"Ya existe un contacto con este n\xfamero.",ERR_NO_SETTING_FOUND:"No se encontr\xf3 ninguna configuraci\xf3n con este ID.",ERR_NO_CONTACT_FOUND:"No se encontr\xf3 ning\xfan contacto con este ID.",ERR_NO_TICKET_FOUND:"No se encontr\xf3 ning\xfan ticket con este ID.",ERR_NO_USER_FOUND:"No se encontr\xf3 ning\xfan usuario con este ID.",ERR_NO_WAPP_FOUND:"No se encontr\xf3 WhatsApp con este ID.",ERR_CREATING_MESSAGE:"Error al crear el mensaje en la base de datos.",ERR_CREATING_TICKET:"Error al crear el ticket en la base de datos.",ERR_FETCH_WAPP_MSG:"Error al obtener el mensaje en WhtasApp, tal vez sea demasiado antiguo.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"Este color ya est\xe1 en uso, elija otro.",ERR_WAPP_GREETING_REQUIRED:"El mensaje de saludo es obligatorio cuando hay m\xe1s de una fila.",ERR_OUT_OF_HOURS:"\xa1Fuera del horario de oficina!"}}}};aa.a.use(ta.a).init({debug:!1,defaultNS:["translations"],fallbackLng:"pt",ns:["translations"],resources:na});var la=t(29);var oa=e=>{var a,t;const n=null===(a=e.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.error;return n?aa.a.exists("backendErrors."+n)?void S.b.error(aa.a.t("backendErrors."+n),{toastId:n,autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"}):void S.b.error(n,{toastId:n,autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"}):Object(la.isString)(e)?void S.b.error(e):void S.b.error("An error occurred!")},ra=t(348);class ia{constructor(e,a){return ia.instance||(this.companyId=e,this.userId=a,this.socket=null,this.configureSocket(),this.eventListeners={},ia.instance=this),ia.instance}configureSocket(){this.socket=Object(ra.a)("http://localhost:8081/"+(null===this||void 0===this?void 0:this.companyId),{autoConnect:!0,reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:1/0,query:{userId:this.userId}}),this.socket.on("connect",()=>{console.log("Conectado ao servidor Socket.IO")}),this.socket.on("disconnect",()=>{console.log("Desconectado do servidor Socket.IO"),this.reconnectAfterDelay()})}on(e,a){this.connect(),this.socket.on(e,a),this.eventListeners[e]||(this.eventListeners[e]=[]),this.eventListeners[e].push(a)}emit(e,a){this.connect(),this.socket.emit(e,a)}off(e,a){this.connect(),this.eventListeners[e]&&(a?(this.socket.off(e,a),this.eventListeners[e]=this.eventListeners[e].filter(e=>e!==a)):(this.eventListeners[e].forEach(a=>this.socket.off(e,a)),delete this.eventListeners[e]))}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null,this.instance=null,console.log("Socket desconectado manualmente"))}reconnectAfterDelay(){setTimeout(()=>{this.socket&&this.socket.connected||(console.log("Tentando reconectar ap\xf3s desconex\xe3o"),this.connect())},1e3)}connect(){this.socket||this.configureSocket()}forceReconnect(){}}var sa=(e,a)=>new ia(e,a);var ca=t(30),da=t.n(ca);var ma=()=>{const e=Object(O.useHistory)(),[a,t]=Object(n.useState)(!1),[l,o]=Object(n.useState)(!0),[r,i]=Object(n.useState)({}),[s,c]=Object(n.useState)({});u.interceptors.request.use(e=>{const a=localStorage.getItem("token");return a&&(e.headers.Authorization="Bearer "+JSON.parse(a),t(!0)),e},e=>{Promise.reject(e)}),u.interceptors.response.use(e=>e,async e=>{var a,n;const l=e.config;if(403===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&!l._retry){l._retry=!0;const{data:e}=await u.post("/auth/refresh_token");return e&&(localStorage.setItem("token",JSON.stringify(e.token)),u.defaults.headers.Authorization="Bearer "+e.token),u(l)}return 401===(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status)&&(localStorage.removeItem("token"),u.defaults.headers.Authorization=void 0,t(!1)),Promise.reject(e)}),Object(n.useEffect)(()=>{const e=localStorage.getItem("token");(async()=>{if(e)try{const{data:e}=await u.post("/auth/refresh_token");u.defaults.headers.Authorization="Bearer "+e.token,t(!0),i(e.user)}catch(a){oa(a)}o(!1)})()},[]),Object(n.useEffect)(()=>{if(Object.keys(r).length&&r.id>0){let e;return Object.keys(s).length?e=s:(e=function(e){let a="",t="";var n,l;return Object(la.isObject)(e)&&(t=null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.companyId,a=null===e||void 0===e||null===(l=e.user)||void 0===l?void 0:l.id),sa(t,a)}({user:r}),c(e)),e.on(`company-${r.companyId}-user`,e=>{"update"===e.action&&e.user.id===r.id&&i(e.user)}),()=>{e.off(`company-${r.companyId}-user`)}}},[r]);return{isAuth:a,user:r,loading:l,handleLogin:async a=>{o(!0);try{const{data:s}=await u.post("/auth/login",a),{user:{company:c}}=s;if(Object(la.has)(c,"companieSettings")&&Object(la.isArray)(c.companieSettings[0])){const e=c.companieSettings[0].find(e=>"campaignsEnabled"===e.key);e&&"true"===e.value&&localStorage.setItem("cshow",null)}if(Object(la.has)(c,"companieSettings")&&Object(la.isArray)(c.companieSettings[0])){const e=c.companieSettings[0].find(e=>"sendSignMessage"===e.key),a="enable"===e.value;e&&"enabled"===e.value&&localStorage.setItem("sendSignMessage",a)}let d;localStorage.setItem("profileImage",s.user.profileImage),da.a.locale("pt-br"),d=1===s.user.company.id?"2999-12-31T00:00:00.000Z":s.user.company.dueDate;da()(da()()).format("DD/MM/yyyy");const m=da()(d).format("DD/MM/yyyy");var n=da()(d).diff(da()(da()()).format()),l=da()(da()().format()).isBefore(d),r=da.a.duration(n).asDays();!0===l?(localStorage.setItem("token",JSON.stringify(s.token)),localStorage.setItem("companyDueDate",m),u.defaults.headers.Authorization="Bearer "+s.token,i(s.user),t(!0),S.b.success(aa.a.t("auth.toasts.success")),Math.round(r)<5&&S.b.warn(`Sua assinatura vence em ${Math.round(r)} ${1===Math.round(r)?"dia":"dias"} `),e.push("/tickets"),o(!1)):(localStorage.setItem("token",JSON.stringify(s.token)),u.defaults.headers.Authorization="Bearer "+s.token,i(s.user),t(!0),oa(`Opss! Sua assinatura venceu ${m}.\nEntre em contato com o Suporte para mais informa\xe7\xf5es! `),e.push("/financeiro"),o(!1))}catch(s){oa(s),o(!1)}},handleLogout:async()=>{o(!0);try{await u.delete("/auth/logout"),t(!1),i({}),localStorage.removeItem("token"),localStorage.removeItem("cshow"),u.defaults.headers.Authorization=void 0,o(!1),e.push("/login")}catch(a){oa(a),o(!1)}},getCurrentUserInfo:async()=>{try{const{data:e}=await u.get("/auth/me");return console.log(e),e}catch(e){return null}},socket:s}};const ua=Object(n.createContext)(),pa=e=>{let{children:a}=e;const{loading:t,user:n,isAuth:o,handleLogin:r,handleLogout:i,socket:s}=ma();return l.a.createElement(ua.Provider,{value:{loading:t,user:n,isAuth:o,handleLogin:r,handleLogout:i,socket:s}},a)},ga=(e,a)=>{if("LOAD_WHATSAPPS"===a.type){return[...a.payload]}if("UPDATE_WHATSAPPS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("UPDATE_SESSION"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n].status=t.status,e[n].updatedAt=t.updatedAt,e[n].qrcode=t.qrcode,e[n].retries=t.retries,[...e]):[...e]}if("DELETE_WHATSAPPS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]};var Ea=()=>{const[e,a]=Object(n.useReducer)(ga,[]),[t,l]=Object(n.useState)(!0),{user:o,socket:r}=Object(n.useContext)(ua);return Object(n.useEffect)(()=>{l(!0);(async()=>{try{const{data:e}=await u.get("/whatsapp/?session=0");a({type:"LOAD_WHATSAPPS",payload:e}),l(!1)}catch(e){l(!1)}})()},[]),Object(n.useEffect)(()=>{if(o.companyId){const e=o.companyId,t=e=>{"update"===e.action&&a({type:"UPDATE_WHATSAPPS",payload:e.whatsapp}),"delete"===e.action&&a({type:"DELETE_WHATSAPPS",payload:e.whatsappId})},n=e=>{"update"===e.action&&a({type:"UPDATE_SESSION",payload:e.session})};return r.on(`company-${e}-whatsapp`,t),r.on(`company-${e}-whatsappSession`,n),()=>{r.off(`company-${e}-whatsapp`,t),r.off(`company-${e}-whatsappSession`,n)}}},[r]),{whatsApps:e,loading:t}};const ba=Object(n.createContext)(),fa=e=>{let{children:a}=e;const{loading:t,whatsApps:n}=Ea();return l.a.createElement(ba.Provider,{value:{whatsApps:n,loading:t}},a)};var ha={user:{static:[]},admin:{static:["dashboard:view","drawer-admin-items:view","tickets-manager:showall","user-modal:editProfile","user-modal:editQueues","ticket-options:deleteTicket","contacts-page:deleteContact","connections-page:actionButtons","connections-page:addConnection","connections-page:editOrDeleteConnection","tickets-manager:closeAll"]}};const Aa=e=>{let{role:a,perform:t,data:n,yes:l,no:o}=e;return((e,a,t)=>{const n=ha[e];if(!n)return!1;const l=n.static;if(l&&l.includes(a))return!0;const o=n.dynamic;if(o){const e=o[a];return!!e&&e(t)}return!1})(a,t,n)?l():o()};Aa.defaultProps={yes:()=>null,no:()=>null};var va=()=>({getPlanList:async e=>{const{data:a}=await m.request({url:"/plans/list",method:"GET",params:e});return a},list:async e=>{const{data:a}=await u.request({url:"/plans/all",method:"GET",params:e});return a},save:async e=>{const{data:a}=await u.request({url:"/plans",method:"POST",data:e});return a},update:async e=>{const{data:a}=await u.request({url:"/plans/"+e.id,method:"PUT",data:e});return a},remove:async e=>{const{data:a}=await u.request({url:"/plans/"+e,method:"DELETE"});return a},getPlanCompany:async(e,a)=>{const{data:t}=await u.request({url:"/companies/listPlan/"+a,method:"GET",params:e});return t}});var ya=()=>({getVersion:async()=>{const{data:e}=await u.request({url:"/version",method:"GET"});return e}}),xa=t(1566),Ca=t(1567);const ka=Object(I.a)(e=>({listItem:{height:"44px",width:"auto","&:hover $iconHoverActive":{backgroundColor:e.palette.primary.main,color:"#fff"}},listItemText:{fontSize:"14px",color:"light"===e.mode?"#666":"#FFF"},avatarActive:{backgroundColor:"transparent"},avatarHover:{backgroundColor:"transparent"},iconHoverActive:{display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",height:36,width:36,backgroundColor:"light"===e.mode?"rgba(120,120,120,0.1)":"rgba(120,120,120,0.5)",color:"light"===e.mode?"#666":"#FFF","&:hover, &.active":{backgroundColor:e.palette.primary.main,color:"#fff"},"& .MuiSvgIcon-root":{fontSize:"1.4rem"}}}));function wa(e){const{icon:a,primary:t,to:n,tooltip:o,showBadge:r}=e,i=ka(),{activeMenu:s}=v(),c=Object(O.useLocation)(),d=s===n||c.pathname===n,m=l.a.useMemo(()=>l.a.forwardRef((e,a)=>l.a.createElement(T.b,Object.assign({to:n,ref:a},e))),[n]),u=e=>{let{children:a,tooltipEnabled:n}=e;return n?l.a.createElement(ne.a,{title:t,placement:"right"},a):a};return l.a.createElement(u,{tooltipEnabled:!!o},l.a.createElement("li",null,l.a.createElement(_.a,{button:!0,component:m,className:i.listItem},a?l.a.createElement($.a,null,r?l.a.createElement(N.a,{badgeContent:"!",color:"error",overlap:"circular",className:i.badge},l.a.createElement(R.a,{className:`${i.iconHoverActive} ${d?"active":""}`},a)):l.a.createElement(R.a,{className:`${i.iconHoverActive} ${d?"active":""}`},a)):null,l.a.createElement(ee.a,{primary:l.a.createElement(z.a,{className:i.listItemText},t)}))))}const Ta=(e,a)=>{if("LOAD_CHATS"===a.type){const t=a.payload,n=[];return Object(la.isArray)(t)&&t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_CHATS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_CHAT"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[];if("CHANGE_CHAT"===a.type){return e.map(e=>e.id===a.payload.chat.id?a.payload.chat:e)}};var Oa=e=>{let{collapsed:a,drawerClose:t}=e;const o=Object(F.a)(),r=ka(),{whatsApps:i}=Object(n.useContext)(ba),{user:s,socket:c}=Object(n.useContext)(ua),{setActiveMenu:d}=v(),m=Object(O.useLocation)(),[p,g]=Object(n.useState)(!1),[E,b]=Object(n.useState)(!1),[f,h]=Object(n.useState)(!1),[A,y]=Object(n.useState)(!1),[x,C]=Object(n.useState)(!1),[k,w]=Object(n.useState)(!1),[T,S]=Object(n.useState)(!1),[M,I]=Object(n.useState)(!1),[j,P]=Object(n.useState)(!1),[D,W]=Object(n.useState)(!1),[q,H]=Object(n.useState)(!1),[U,Q]=Object(n.useState)(!1),[V,G]=Object(n.useState)(!0),[K,Y]=Object(n.useState)(1),[X]=Object(n.useState)(""),[J,le]=Object(n.useReducer)(Ta,[]),[re,se]=Object(n.useState)(!1),[de,ue]=Object(n.useState)(!1),[ge,be]=Object(n.useState)(!1),[he,ve]=Object(n.useState)(!1),{list:xe}=Z(),[ke,Te]=Object(n.useState)(!1);Object(n.useEffect)(()=>{!async function(){const e=await xe();Te(e.length>0)}()},[]);const Se="/"===m.pathname||m.pathname.startsWith("/reports")||m.pathname.startsWith("/moments"),Ie="/campaigns"===m.pathname||m.pathname.startsWith("/contact-lists")||m.pathname.startsWith("/campaigns-config"),Ne=m.pathname.startsWith("/phrase-lists");m.pathname.startsWith("/flowbuilders"),Object(n.useEffect)(()=>{m.pathname.startsWith("/tickets")?d("/tickets"):d("")},[m,d]);const{getPlanCompany:Fe}=va(),{getVersion:De}=ya();Object(n.useEffect)(()=>{!async function(){const e=await De();se(e.version)}()},[]),Object(n.useEffect)(()=>{le({type:"RESET"}),Y(1)},[X]),Object(n.useEffect)(()=>{!async function(){const e=s.companyId,a=await Fe(void 0,e);C(a.plan.useCampaigns),w(a.plan.useKanban),I(a.plan.useOpenAi),P(a.plan.useIntegrations),W(a.plan.useSchedules),H(a.plan.useInternalChat),Q(a.plan.useExternalApi),S(da()(da()().format()).isBefore(s.company.dueDate))}()},[]),Object(n.useEffect)(()=>{const e=setTimeout(()=>{Be()},500);return()=>clearTimeout(e)},[X,K]),Object(n.useEffect)(()=>{if(s.id){const e=s.companyId,a=e=>{"new-message"===e.action&&le({type:"CHANGE_CHAT",payload:e}),"update"===e.action&&le({type:"CHANGE_CHAT",payload:e})};return c.on(`company-${e}-chat`,a),()=>{c.off(`company-${e}-chat`,a)}}},[c]),Object(n.useEffect)(()=>{let e=0;if(J.length>0)for(let a of J)for(let t of a.users)t.userId===s.id&&(e+=t.unreads);G(!(e>0))},[J,s.id]),Object(n.useEffect)(()=>{const e=setTimeout(()=>{if(i.length>0){i.filter(e=>"qrcode"===e.status||"PAIRING"===e.status||"DISCONNECTED"===e.status||"TIMEOUT"===e.status||"OPENING"===e.status).length>0?g(!0):g(!1)}},2e3);return()=>clearTimeout(e)},[i]);const Be=async()=>{try{const{data:e}=await u.get("/chats/",{params:{searchParam:X,pageNumber:K}});le({type:"LOAD_CHATS",payload:e.records})}catch(e){oa(e)}};return l.a.createElement("div",{onClick:t},T&&l.a.createElement(Aa,{role:"user"===s.profile&&"enabled"===s.showDashboard||"enabled"===s.allowRealTime?"admin":s.profile,perform:"drawer-admin-items:view",yes:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(ne.a,{title:a?aa.a.t("mainDrawer.listItems.management"):"",placement:"right"},l.a.createElement(_.a,{dense:!0,button:!0,onClick:()=>y(e=>!e),onMouseEnter:()=>ue(!0),onMouseLeave:()=>ue(!1)},l.a.createElement($.a,null,l.a.createElement(R.a,{className:`${r.iconHoverActive} ${Se||de?"active":""}`},l.a.createElement(Ye.a,null))),l.a.createElement(ee.a,{primary:l.a.createElement(z.a,{className:r.listItemText},aa.a.t("mainDrawer.listItems.management"))}),A?l.a.createElement(Re.a,null):l.a.createElement(Pe.a,null))),l.a.createElement(te.a,{in:A,timeout:"auto",unmountOnExit:!0,style:{backgroundColor:"light"===o.mode?"rgba(120,120,120,0.1)":"rgba(120,120,120,0.5)"}},l.a.createElement(Aa,{role:"user"===s.profile&&"enabled"===s.showDashboard?"admin":s.profile,perform:"drawer-admin-items:view",yes:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(wa,{small:!0,to:"/",primary:"Dashboard",icon:l.a.createElement(oe.a,null),tooltip:a}),l.a.createElement(wa,{small:!0,to:"/reports",primary:aa.a.t("mainDrawer.listItems.reports"),icon:l.a.createElement(Xe.a,null),tooltip:a}))}),l.a.createElement(Aa,{role:"user"===s.profile&&"enabled"===s.allowRealTime?"admin":s.profile,perform:"drawer-admin-items:view",yes:()=>l.a.createElement(wa,{to:"/moments",primary:aa.a.t("mainDrawer.listItems.chatsTempoReal"),icon:l.a.createElement(Je.a,null),tooltip:a})})))}),T&&l.a.createElement(wa,{to:"/tickets",primary:aa.a.t("mainDrawer.listItems.tickets"),icon:l.a.createElement(ie.a,null),tooltip:a}),T&&l.a.createElement(wa,{to:"/quick-messages",primary:aa.a.t("mainDrawer.listItems.quickMessages"),icon:l.a.createElement(Ae.a,null),tooltip:a}),k&&T&&l.a.createElement(l.a.Fragment,null,l.a.createElement(wa,{to:"/kanban",primary:aa.a.t("mainDrawer.listItems.kanban"),icon:l.a.createElement(we.a,null),tooltip:a})),T&&l.a.createElement(wa,{to:"/contacts",primary:aa.a.t("mainDrawer.listItems.contacts"),icon:l.a.createElement(Ee.a,null),tooltip:a}),D&&T&&l.a.createElement(l.a.Fragment,null,l.a.createElement(wa,{to:"/schedules",primary:aa.a.t("mainDrawer.listItems.schedules"),icon:l.a.createElement(Oe.a,null),tooltip:a})),T&&l.a.createElement(wa,{to:"/tags",primary:aa.a.t("mainDrawer.listItems.tags"),icon:l.a.createElement(Me.a,null),tooltip:a}),q&&T&&l.a.createElement(l.a.Fragment,null,l.a.createElement(wa,{to:"/chats",primary:aa.a.t("mainDrawer.listItems.chats"),icon:l.a.createElement(N.a,{color:"secondary",variant:"dot",invisible:V},l.a.createElement(Ue.a,null)),tooltip:a})),ke&&T&&l.a.createElement(wa,{to:"/helps",primary:aa.a.t("mainDrawer.listItems.helps"),icon:l.a.createElement(ye.a,null),tooltip:a}),l.a.createElement(Aa,{role:"user"===s.profile&&"enabled"===s.allowConnections?"admin":s.profile,perform:"dashboard:view",yes:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(B.a,null),l.a.createElement(ae.a,{inset:!0},aa.a.t("mainDrawer.listItems.administration")),x&&T&&l.a.createElement(Aa,{role:s.profile,perform:"dashboard:view",yes:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(ne.a,{title:a?aa.a.t("mainDrawer.listItems.campaigns"):"",placement:"right"},l.a.createElement(_.a,{dense:!0,button:!0,onClick:()=>b(e=>!e),onMouseEnter:()=>be(!0),onMouseLeave:()=>be(!1)},l.a.createElement($.a,null,l.a.createElement(R.a,{className:`${r.iconHoverActive} ${Ie||ge?"active":""}`},l.a.createElement(je.a,null))),l.a.createElement(ee.a,{primary:l.a.createElement(z.a,{className:r.listItemText},aa.a.t("mainDrawer.listItems.campaigns"))}),E?l.a.createElement(Re.a,null):l.a.createElement(Pe.a,null))),l.a.createElement(te.a,{in:E,timeout:"auto",unmountOnExit:!0,style:{backgroundColor:"light"===o.mode?"rgba(120,120,120,0.1)":"rgba(120,120,120,0.5)"}},l.a.createElement(L.a,{dense:!0,component:"div",disablePadding:!0},l.a.createElement(wa,{to:"/campaigns",primary:aa.a.t("campaigns.subMenus.list"),icon:l.a.createElement(We.a,null),tooltip:a}),l.a.createElement(wa,{to:"/contact-lists",primary:aa.a.t("campaigns.subMenus.listContacts"),icon:l.a.createElement(Le.a,null),tooltip:a}),l.a.createElement(wa,{to:"/campaigns-config",primary:aa.a.t("campaigns.subMenus.settings"),icon:l.a.createElement(me.a,null),tooltip:a}))))}),T&&l.a.createElement(Aa,{role:s.profile,perform:"dashboard:view",yes:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(ne.a,{title:a?aa.a.t("mainDrawer.listItems.campaigns"):"",placement:"right"},l.a.createElement(_.a,{dense:!0,button:!0,onClick:()=>h(e=>!e),onMouseEnter:()=>ve(!0),onMouseLeave:()=>ve(!1)},l.a.createElement($.a,null,l.a.createElement(R.a,{className:`${r.iconHoverActive} ${Ne||he?"active":""}`},l.a.createElement(xa.a,null))),l.a.createElement(ee.a,{primary:l.a.createElement(z.a,{className:r.listItemText},aa.a.t("Flowbuilder"))}),f?l.a.createElement(Re.a,null):l.a.createElement(Pe.a,null))),l.a.createElement(te.a,{in:f,timeout:"auto",unmountOnExit:!0,style:{backgroundColor:"light"===o.mode?"rgba(120,120,120,0.1)":"rgba(120,120,120,0.5)"}},l.a.createElement(L.a,{dense:!0,component:"div",disablePadding:!0},l.a.createElement(wa,{to:"/phrase-lists",primary:"Fluxo de Campanha",icon:l.a.createElement(je.a,null),tooltip:a}),l.a.createElement(wa,{to:"/flowbuilders",primary:"Fluxo de conversa",icon:l.a.createElement(Ca.a,null)}))))}),s.super&&l.a.createElement(wa,{to:"/announcements",primary:aa.a.t("mainDrawer.listItems.annoucements"),icon:l.a.createElement(ze.a,null),tooltip:a}),U&&T&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Aa,{role:s.profile,perform:"dashboard:view",yes:()=>l.a.createElement(wa,{to:"/messages-api",primary:aa.a.t("mainDrawer.listItems.messagesAPI"),icon:l.a.createElement(Ce.a,null),tooltip:a})})),T&&l.a.createElement(Aa,{role:s.profile,perform:"dashboard:view",yes:()=>l.a.createElement(wa,{to:"/users",primary:aa.a.t("mainDrawer.listItems.users"),icon:l.a.createElement(pe.a,null),tooltip:a})}),T&&l.a.createElement(Aa,{role:s.profile,perform:"dashboard:view",yes:()=>l.a.createElement(wa,{to:"/queues",primary:aa.a.t("mainDrawer.listItems.queues"),icon:l.a.createElement(fe.a,null),tooltip:a})}),M&&T&&l.a.createElement(Aa,{role:s.profile,perform:"dashboard:view",yes:()=>l.a.createElement(wa,{to:"/prompts",primary:aa.a.t("mainDrawer.listItems.prompts"),icon:l.a.createElement(Ze.a,null),tooltip:a})}),j&&T&&l.a.createElement(Aa,{role:s.profile,perform:"dashboard:view",yes:()=>l.a.createElement(wa,{to:"/queue-integration",primary:aa.a.t("mainDrawer.listItems.queueIntegration"),icon:l.a.createElement(_e.a,null),tooltip:a})}),T&&l.a.createElement(Aa,{role:"user"===s.profile&&"enabled"===s.allowConnections?"admin":s.profile,perform:"drawer-admin-items:view",yes:()=>l.a.createElement(wa,{to:"/connections",primary:aa.a.t("mainDrawer.listItems.connections"),icon:l.a.createElement(ce.a,null),showBadge:p,tooltip:a})}),s.super&&l.a.createElement(wa,{to:"/allConnections",primary:aa.a.t("mainDrawer.listItems.allConnections"),icon:l.a.createElement($e.a,null),tooltip:a}),T&&l.a.createElement(Aa,{role:s.profile,perform:"dashboard:view",yes:()=>l.a.createElement(wa,{to:"/files",primary:aa.a.t("mainDrawer.listItems.files"),icon:l.a.createElement(ea.a,null),tooltip:a})}),l.a.createElement(Aa,{role:s.profile,perform:"dashboard:view",yes:()=>l.a.createElement(wa,{to:"/financeiro",primary:aa.a.t("mainDrawer.listItems.financeiro"),icon:l.a.createElement(Ve.a,null),tooltip:a})}),T&&l.a.createElement(Aa,{role:s.profile,perform:"dashboard:view",yes:()=>l.a.createElement(wa,{to:"/settings",primary:aa.a.t("mainDrawer.listItems.settings"),icon:l.a.createElement(me.a,null),tooltip:a})}),s.super&&l.a.createElement(wa,{to:"/companies",primary:aa.a.t("mainDrawer.listItems.companies"),icon:l.a.createElement(Ke.a,null),tooltip:a}))}),!a&&l.a.createElement(l.a.Fragment,null,l.a.createElement(B.a,null),l.a.createElement(z.a,{style:{fontSize:"12px",padding:"10px",textAlign:"center",fontWeight:"bold"}},"v.3.5.0")))},Sa=t(981),Ma=t(496),Ia=t(1444),ja=t(501),Na=t.n(ja),Ra=t(901),Fa=t(902),Pa=t(898),Da=t(1730),La=t(576),Ba=t(1572),Wa=t(128),qa=t.n(Wa),za=t(682),Ha=t.n(za),Ua=t(681),Qa=t.n(Ua),Va=t(899);const Ga=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Ka=["a","b","strong","em","u","code","del"],Ya=e=>{let{children:a,...t}=e;return l.a.createElement("a",Object.assign({},t,{target:"_blank",rel:"noopener noreferrer"}),a)};var Xa=e=>{let{children:a}=e;const t=/\*(.*?)\*/g,n=/~(.*?)~/g;a&&a.includes("***")&&(a=a.replace(/\*\*\*/g,"###PIX_MARKER###")),a&&t.test(a)&&(a=a.replace(t,"**$1**")),a&&a.includes("###PIX_MARKER###")&&(a=a.replace(new RegExp("###PIX_MARKER###","g"),"***")),a&&n.test(a)&&(a=a.replace(n,"~~$1~~"));const o=l.a.useMemo(()=>{const e={disableParsingRawHTML:!0,forceInline:!0,overrides:{a:{component:Ya}}};return Ga.forEach(a=>{Ka.includes(a)||(e.overrides[a]=e=>e.children||null)}),e},[]);return a?l.a.createElement(Va.a,{options:o},a):null},Ja=t(900),Za=t.n(Ja),_a=t.p+"static/media/instagram.79535458.png",$a=t.p+"static/media/whatsapp.7f02d15e.png";const et=Object(n.createContext)(),at=e=>{let{children:a}=e;const[t,o]=Object(n.useState)({id:null,code:null}),[r,i]=Object(n.useState)("open"),s=Object(O.useHistory)();return Object(n.useEffect)(()=>{null!==t.id&&s.push("/tickets/"+t.uuid)},[t]),l.a.createElement(et.Provider,{value:{currentTicket:t,setCurrentTicket:o,tabOpen:r,setTabOpen:i}},a)},tt=Object(I.a)(e=>({ticket:{position:"relative"},pendingTicket:{cursor:"unset"},noTicketsDiv:{display:"flex",height:"100px",margin:40,flexDirection:"column",alignItems:"center",justifyContent:"center"},noTicketsText:{textAlign:"center",color:"rgb(104, 121, 146)",fontSize:"14px",lineHeight:"1.4"},noTicketsTitle:{textAlign:"center",fontSize:"16px",fontWeight:"600",margin:"0px"},contactNameWrapper:{display:"flex",justifyContent:"space-between"},lastMessageTime:{position:"absolute",marginRight:5,right:20,bottom:30},closedBadge:{alignSelf:"center",justifySelf:"flex-end",marginRight:32,marginLeft:"auto"},contactLastMessage:{paddingRight:20},newMessagesCount:{alignSelf:"center",marginRight:8,marginLeft:"auto"},bottomButton:{top:"12px"},badgeStyle:{color:"white",backgroundColor:La.a[500]},acceptButton:{position:"absolute",left:"50%"},ticketQueueColor:{flex:"none",width:"8px",height:"100%",position:"absolute",top:"0%",left:"0%"},userTag:{position:"absolute",marginRight:110,right:20,bottom:30,backgroundColor:e.palette.background.default,color:e.palette.primary.main,border:"1px solid #CCC",padding:1,paddingLeft:5,paddingRight:5,borderRadius:10,fontSize:"0.9em"},divTags:{position:"absolute",marginRight:0,left:0,bottom:0,flexWrap:"wrap",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},tags:{color:"#FFF",border:"1px solid #CCC",padding:0,paddingLeft:5,paddingRight:5,borderRadius:0,fontSize:"0.6em",textAlign:"center"},divUser:{position:"absolute",marginRight:0,left:0,top:0,flexWrap:"wrap",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},user:{color:"#eee",border:"1px solid #CCC",padding:0,paddingLeft:5,paddingRight:5,borderRadius:0,fontSize:"0.6em",textAlign:"center"},tagsWrapper:{zIndex:500},badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px "+e.palette.background.paper,"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}})),nt=Object(j.a)(e=>({root:{width:22,height:22,border:"2px solid "+e.palette.background.paper}}))(R.a);var lt=e=>{var a,t,o,r,i,s,c,d;let{ticket:m}=e;const p=tt(),g=Object(O.useHistory)(),[E,b]=Object(n.useState)(!1),{ticketId:f}=Object(O.useParams)(),h=Object(n.useRef)(!0),{user:A}=Object(n.useContext)(ua),{setCurrentTicket:v,setTabOpen:y}=Object(n.useContext)(et);Object(n.useEffect)(()=>{console.log("======== TicketListItemCustom ==========="),console.log(m),console.log("=========================================")},[m]),Object(n.useEffect)(()=>()=>{h.current=!1},[]);const x=async e=>{b(!0);try{await u.put("/tickets/"+e.id,{status:"closed"})}catch(a){b(!1),oa(a)}h.current&&b(!1)},C=e=>e.replace(Object(Pa.a)(),"").trim().split(" ")[0];return l.a.createElement(l.a.Fragment,{key:m.id},l.a.createElement(_.a,{dense:!0,button:!0,onClick:e=>{(e=>{const a=Object(Da.a)(),{id:t,uuid:n}=e;y(e.status),v({id:t,uuid:n,code:a})})(m)},selected:f&&+f===m.id,className:Object(M.a)(p.ticket,{[p.pendingTicket]:"pending"===m.status})},l.a.createElement(ne.a,{arrow:!0,placement:"right",title:(null===(a=m.queue)||void 0===a?void 0:a.name)||"Sem departamento"},l.a.createElement("span",{style:{backgroundColor:(null===(t=m.queue)||void 0===t?void 0:t.color)||"#7C7C7C"},className:p.ticketQueueColor})),l.a.createElement(Ba.a,null,l.a.createElement(N.a,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:l.a.createElement(nt,{alt:null===m||void 0===m?void 0:m.channel,src:(k=null===m||void 0===m?void 0:m.channel,"facebook"===k?Za.a:"whatsapp"===k||"whatsappapi"===k?$a:"instagram"===k?_a:void 0)})},l.a.createElement(R.a,{alt:null===m||void 0===m||null===(o=m.contact)||void 0===o?void 0:o.name,src:null===m||void 0===m||null===(r=m.contact)||void 0===r?void 0:r.urlPicture}))),l.a.createElement(ee.a,{disableTypography:!0,primary:l.a.createElement("span",{className:p.contactNameWrapper},l.a.createElement(z.a,{noWrap:!0,component:"span",variant:"body2",color:"textPrimary"},m.contact.name),m.lastMessage&&l.a.createElement(z.a,{className:p.lastMessageTime,component:"span",variant:"body2",color:"textSecondary"},Object(Ra.a)(Object(Fa.a)(m.updatedAt),new Date)?l.a.createElement(l.a.Fragment,null,Object(Sa.a)(Object(Fa.a)(m.updatedAt),"HH:mm")):l.a.createElement(l.a.Fragment,null,Object(Sa.a)(Object(Fa.a)(m.updatedAt),"dd/MM/yyyy"))),m.whatsappId&&l.a.createElement("div",{className:p.userTag,title:aa.a.t("ticketsList.connectionTitle")},null===(i=m.whatsapp)||void 0===i?void 0:i.name)),secondary:l.a.createElement("span",{className:p.contactNameWrapper},"closed"===m.status&&(null===m||void 0===m?void 0:m.userRating)?function(e){let a="";return 1===e?a="\ud83d\ude21":2===e?a="\ud83d\ude20":3===e?a="\ud83d\ude10":4===e?a="\ud83d\ude03":5===e&&(a="\ud83d\ude0d"),a}(null===m||void 0===m||null===(s=m.userRating)||void 0===s?void 0:s.rate):null,l.a.createElement(z.a,{className:p.contactLastMessage,noWrap:!0,component:"span",variant:"body2",color:"textSecondary"},m.lastMessage?l.a.createElement(Xa,null,m.lastMessage):l.a.createElement("br",null)),l.a.createElement(N.a,{overlap:"rectangular",className:p.newMessagesCount,badgeContent:m.unreadMessages,classes:{badge:p.badgeStyle}}))}),"pending"===m.status&&l.a.createElement(D.a,{className:p.bottomButton,color:"primary",loading:E.toString(),onClick:e=>m.isBot?(async e=>{b(!0);try{await u.put("/tickets/"+e.id,{status:"open",userId:null===A||void 0===A?void 0:A.id})}catch(a){b(!1),oa(a)}h.current&&b(!1),g.push("/tickets/"+e.uuid)})(m):(async e=>{b(!0);try{await u.put("/tickets/"+e.id,{status:"open",userId:null===A||void 0===A?void 0:A.id})}catch(a){b(!1),oa(a)}h.current&&b(!1),g.push("/tickets/"+e.uuid)})(m)},l.a.createElement(qa.a,null)),l.a.createElement("div",{className:p.divTags},m.isGroup&&l.a.createElement("div",{className:p.tagsWrapper},l.a.createElement("div",{key:m.id,className:p.tags,style:{backgroundColor:"#7C7C7C"}},"Grupo")),(null===(c=m.user)||void 0===c?void 0:c.id)&&"ADMIN"===A.profile.toUpperCase()&&l.a.createElement("div",{className:p.tagsWrapper},l.a.createElement("div",{key:m.user.id,className:p.tags,title:C(m.user.name),style:{backgroundColor:""!==m.user.color&&m.user.color?m.user.color:"#7C7C7C"}},C(m.user.name))),(null===(d=m.tags)||void 0===d?void 0:d.length)>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:p.tagsWrapper},l.a.createElement("div",{key:m.tags[0].id,className:p.tags,title:m.tags[0].name,style:{backgroundColor:m.tags[0].color}},m.tags[0].name)),m.tags.length>1&&l.a.createElement("div",{key:m.tags[1].id,className:p.tags,title:m.tags[1].name,style:{backgroundColor:m.tags[1].color}},"+",m.tags.length-1))),"pending"===m.status&&("enabled"===A.showDashboard||"admin"===A.profile)&&l.a.createElement(D.a,{className:p.bottomButton,color:"primary",onClick:e=>x(m)},l.a.createElement(Qa.a,null)),"open"===m.status&&l.a.createElement(D.a,{className:p.bottomButton,color:"primary",onClick:e=>(async e=>{b(!0);try{await u.put("/tickets/"+e.id,{status:"pending"})}catch(a){b(!1),oa(a)}h.current&&b(!1),g.push("/tickets/"+e.uuid)})(m)},l.a.createElement(Ha.a,null)),"open"===m.status&&l.a.createElement(D.a,{className:p.bottomButton,color:"primary",onClick:e=>x(m)},l.a.createElement(Qa.a,null)),"closed"===m.status&&l.a.createElement(D.a,{className:p.bottomButton,color:"primary",onClick:e=>(async e=>{b(!0);try{await u.put("/tickets/"+e.id,{status:"open",userId:null===A||void 0===A?void 0:A.id})}catch(a){b(!1),oa(a)}h.current&&b(!1),g.push("/tickets/"+e.uuid)})(m)},l.a.createElement(Ha.a,null)),"closed"===m.status&&l.a.createElement(D.a,{className:p.bottomButton,color:"primary"})),l.a.createElement(B.a,{variant:"inset",component:"li"}));var k},ot=t(1740);var rt=e=>{let{searchParam:a,tags:t,users:l,pageNumber:o,status:r,date:i,updatedAt:s,showAll:c,queueIds:d,withUnreadMessages:m,whatsappIds:p,statusFilter:g,forceSearch:E,userFilter:b,sortTickets:f,searchOnMessages:h}=e;const[A,v]=Object(n.useState)(!0),[y,x]=Object(n.useState)(!1),[C,k]=Object(n.useState)([]),[w,T]=Object(n.useState)(0);return Object(n.useEffect)(()=>{v(!0);const e=setTimeout(()=>{(async()=>{if(void 0===b||null===b)try{const{data:e}=await u.get("/tickets",{params:{searchParam:a,pageNumber:o,tags:t,users:l,status:r,date:i,updatedAt:s,showAll:c,queueIds:d,withUnreadMessages:m,whatsapps:p,statusFilter:g,sortTickets:f,searchOnMessages:h}});let n=[];n=e.tickets,k(n),x(e.hasMore),T(e.count),v(!1)}catch(e){v(!1),oa(e)}else try{const{data:e}=await u.get("/dashboard/moments",{params:{status:r,showAll:c,queueIds:d,dateStart:Object(Sa.a)(Object(ot.a)(new Date,{days:30}),"yyyy-MM-dd"),dateEnd:Object(Sa.a)(new Date,"yyyy-MM-dd"),userId:b}});let a=[];a=e.filter(e=>e.userId==b),k(a),x(null),v(!1)}catch(e){v(!1),oa(e)}})()},500);return()=>clearTimeout(e)},[a,t,l,o,r,i,s,c,d,m,p,g,E,f,h]),{tickets:C,loading:A,hasMore:y,count:w}},it=t(903),st=t.n(it);var ct=()=>({getAll:async e=>{const{data:a}=await u.request({url:"/companySettings/"+e,method:"GET"});return a},get:async e=>{const{data:a}=await u.request({url:"/companySettingOne",method:"GET",params:e});return a},update:async e=>{const{data:a}=await u.request({url:"/companySettings",method:"PUT",data:e});return a},getTypePayment:async e=>{const{data:a}=await u.request({url:"/companySettingOnePayment",method:"GET",params:e});return a}}),dt=t(315),mt=t.n(dt);const ut=Object(I.a)(e=>({tabContainer:{overflowY:"auto",maxHeight:350,...e.scrollbarStyles},popoverPaper:{width:"100%",maxWidth:350,marginLeft:e.spacing(2),marginRight:e.spacing(1),[e.breakpoints.down("sm")]:{maxWidth:270}},noShadow:{boxShadow:"none !important"}}));var pt=e=>{const a=ut(),t=Object(F.a)(),o=Object(O.useHistory)(),{user:r,socket:i}=Object(n.useContext)(ua),{profile:s,queues:c}=r,d=+o.location.pathname.split("/")[2],m=Object(n.useRef)(d),u=Object(n.useRef)(),[p,g]=Object(n.useState)(!1),[E,b]=Object(n.useState)([]),{get:f}=(c.map(e=>e.id),ct()),{setCurrentTicket:h,setTabOpen:A}=Object(n.useContext)(et),[v,y]=Object(n.useState)(!1),[x,k]=Object(n.useState)(!1),[w,T]=Object(n.useState)(!1),[,S]=Object(n.useState)([]),{tickets:M}=rt({withUnreadMessages:"true"}),[I]=Object(Ma.a)(st.a,e),j=Object(n.useRef)(),R=Object(n.useRef)(o);Object(n.useEffect)(()=>{(async()=>{try{!0===(await f({column:"showNotificationPending"})).showNotificationPending&&k(!0),"enable"===r.allTicket&&y(!0),!0===r.allowGroup&&T(!0)}catch(e){oa(e)}})()},[y,k]),Object(n.useEffect)(()=>{j.current=I,"Notification"in window?Notification.requestPermission():console.log("This browser doesn't support notifications")},[I]),Object(n.useEffect)(()=>{b(M)},[M]),Object(n.useEffect)(()=>{m.current=d},[d]),Object(n.useEffect)(()=>{const e=r.companyId;if(r.id){c.map(e=>e.id);const a=()=>{i.emit("joinNotification")},t=e=>{"updateUnread"!==e.action&&"delete"!==e.action||(b(a=>{const t=a.findIndex(a=>a.id===e.ticketId);return-1!==t?(a.splice(t,1),[...a]):a}),S(a=>{const t=a.findIndex(a=>a.tag===String(e.ticketId));return-1!==t?(a[t].close(),a.splice(t,1),[...a]):a}))},n=e=>{var a,t,n,l,o,i,s,c;if("create"===e.action&&!e.message.fromMe&&!e.message.read&&((null===(a=e.ticket)||void 0===a?void 0:a.userId)===(null===r||void 0===r?void 0:r.id)||!(null===(t=e.ticket)||void 0===t?void 0:t.userId))&&((null===r||void 0===r||null===(n=r.queues)||void 0===n?void 0:n.some(a=>a.id===e.ticket.queueId))||!e.ticket.queueId&&!0===v)&&(!["pending","lgpd","nps","group"].includes(null===(l=e.ticket)||void 0===l?void 0:l.status)||"pending"===(null===(o=e.ticket)||void 0===o?void 0:o.status)&&!0===x||"group"===(null===(i=e.ticket)||void 0===i?void 0:i.status)&&"enabled"===(null===(s=e.ticket)||void 0===s||null===(c=s.whatsapp)||void 0===c?void 0:c.groupAsTicket)&&!0===w)){var d,u;b(a=>{const t=a.findIndex(a=>a.id===e.ticket.id);return-1!==t?(a[t]=e.ticket,[...a]):[e.ticket,...a]});if(!0===(e.message.ticketId===m.current&&"visible"===document.visibilityState||e.ticket.userId&&e.ticket.userId!==(null===r||void 0===r?void 0:r.id)||e.ticket.isGroup&&"disabled"===(null===(d=e.ticket)||void 0===d||null===(u=d.whatsapp)||void 0===u?void 0:u.groupAsTicket)&&!1===w))return;P(e)}};return i.on("connect",a),i.on(`company-${e}-ticket`,t),i.on(`company-${e}-appMessage`,n),()=>{i.off("connect",a),i.off(`company-${e}-ticket`,t),i.off(`company-${e}-appMessage`,n)}}},[r,s,c,v,i,x,w]);const P=e=>{const{message:a,contact:t,ticket:n}=e,l={body:`${a.body} - ${Object(Sa.a)(new Date,"HH:mm")}`,icon:t.urlPicture,tag:n.id,renotify:!0},o=new Notification(`${aa.a.t("tickets.notification.message")} ${t.name}`,l);o.onclick=e=>{e.preventDefault(),window.focus(),A(n.status),R.current.push("/tickets/"+n.uuid)},S(e=>{const a=e.findIndex(e=>e.tag===o.tag);return-1!==a?(e[a]=o,[...e]):[o,...e]}),j.current()},B=()=>{g(!1)},W=e=>{let{children:a}=e;return l.a.createElement("div",{onClick:B},a)};return l.a.createElement(l.a.Fragment,null,(E.length>0?E.length<21?document.title="\u24ff\u278a\u278b\u278c\u278d\u278e\u278f\u2790\u2791\u2792\u2793\u24eb\u24ec\u24ed\u24ee\u24ef\u24f0\u24f1\u24f2\u24f3\u24f4".substring(E.length,E.length+1)+" - "+(t.appName||"..."):document.title="("+E.length+")"+(t.appName||"..."):document.title=t.appName||"...",l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{animated:!0,url:(null===t||void 0===t?void 0:t.appLogoFavicon)?t.appLogoFavicon:mt.a,alertCount:E.length,iconSize:195}))),l.a.createElement(D.a,{onClick:()=>{g(e=>!e)},ref:u,"aria-label":"Open Notifications",color:"inherit",style:{color:"white"}},l.a.createElement(N.a,{overlap:"rectangular",badgeContent:E.length,color:"secondary"},l.a.createElement(Na.a,null))),l.a.createElement(Ia.a,{disableScrollLock:!0,open:p,anchorEl:u.current,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},classes:{paper:a.popoverPaper},onClose:B},l.a.createElement(L.a,{dense:!0,className:a.tabContainer},0===E.length?l.a.createElement(_.a,null,l.a.createElement(ee.a,null,aa.a.t("notifications.noTickets"))):E.map(e=>l.a.createElement(W,{key:e.id},l.a.createElement(lt,{ticket:e}))))))},gt=t(683),Et=t.n(gt),bt=t(904),ft=t.n(bt),ht=t(1573),At=t(998);const vt=Object(I.a)(e=>({tabContainer:{padding:e.spacing(2)},popoverPaper:{width:"100%",maxWidth:350,marginLeft:e.spacing(2),marginRight:e.spacing(1),[e.breakpoints.down("sm")]:{maxWidth:270}},noShadow:{boxShadow:"none !important"},icons:{color:"#fff"},customBadge:{backgroundColor:"#f44336",color:"#fff"}}));var yt=e=>{let{volume:a,setVolume:t}=e;const o=vt(),r=Object(n.useRef)(),[i,s]=Object(n.useState)(!1);return l.a.createElement(l.a.Fragment,null,l.a.createElement(D.a,{className:o.icons,onClick:()=>{s(e=>!e)},ref:r,"aria-label":"Open Notifications"},l.a.createElement(Et.a,{color:"inherit"})),l.a.createElement(Ia.a,{disableScrollLock:!0,open:i,anchorEl:r.current,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},classes:{paper:o.popoverPaper},onClose:()=>{s(!1)}},l.a.createElement(L.a,{dense:!0,className:o.tabContainer},l.a.createElement(ht.a,{container:!0,spacing:2},l.a.createElement(ht.a,{item:!0},l.a.createElement(ft.a,null)),l.a.createElement(ht.a,{item:!0,xs:!0},l.a.createElement(At.a,{value:Number(a),"aria-labelledby":"continuous-slider",step:.1,min:0,max:1,onChange:(e,a)=>(e=>{t(e),localStorage.setItem("volume",e)})(a)})),l.a.createElement(ht.a,{item:!0},l.a.createElement(Et.a,null))))))},xt=t(17),Ct=t(6),kt=t(991),wt=t(1448),Tt=t(1577),Ot=t(1581),St=t(1580),Mt=t(1578),It=t(1582),jt=t(1455),Nt=t(999),Rt=t(699),Ft=t(503),Pt=t.n(Ft);const Dt=Object(I.a)(e=>({chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2}}));var Lt=e=>{let{selectedQueueIds:a,onChange:t}=e;const o=Dt(),[r,i]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await u.get("/queue");i(e)}catch(e){oa(e)}})()},[]);return l.a.createElement("div",{style:{marginTop:6}},l.a.createElement(Rt.a,{fullWidth:!0,margin:"dense",variant:"outlined"},l.a.createElement(Nt.a,null,aa.a.t("queueSelect.inputLabel")),l.a.createElement(jt.a,{multiple:!0,labelWidth:60,value:a,onChange:e=>{t(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:e=>l.a.createElement("div",{className:o.chips},(null===e||void 0===e?void 0:e.length)>0&&e.map(e=>{const a=r.find(a=>a.id===e);return a?l.a.createElement(H.a,{key:e,style:{backgroundColor:a.color},variant:"outlined",label:a.name,className:o.chip}):null}))},r.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name)))))},Bt=t(583),Wt=t(1723),qt=t(1579);var zt=e=>{let{children:a,value:t,name:n,...o}=e;return t===n?l.a.createElement("div",Object.assign({role:"tabpanel",id:"simple-tabpanel-"+n,"aria-labelledby":"simple-tab-"+n},o),l.a.createElement(l.a.Fragment,null,a)):null},Ht=t(504),Ut=t.n(Ht),Qt=t(909),Vt=t.n(Qt),Gt=t(990);const Kt=Ut()(e=>({avatar:{width:e.spacing(12),height:e.spacing(12),margin:e.spacing(2),cursor:"pointer",borderRadius:"50%",border:"2px solid #ccc"}}));var Yt=e=>{let{setAvatar:a,avatar:t,companyId:o}=e;Kt();const[r,i]=Object(n.useState)(null),[s,c]=Object(n.useState)(null),d=Object(n.useContext)(ua);return l.a.createElement(Gt.a,{display:"flex",flexDirection:"column",alignItems:"center"},!s&&t?l.a.createElement(l.a.Fragment,null,l.a.createElement(R.a,{src:`http://localhost:8081/public/company${o}/user/${t}`,style:{width:120,height:120}})):t||s?l.a.createElement(R.a,{alt:"Preview Avatar",src:s||d.avatar,style:{width:120,height:120}}):l.a.createElement(l.a.Fragment,null,l.a.createElement(R.a,{src:"http://localhost:8081/public/app/noimage.png",style:{width:120,height:120}})),l.a.createElement("input",{accept:"image/*",type:"file",id:"avatar-upload",style:{display:"none"},onChange:e=>{const t=e.target.files[0];if(i(t),a(t),t){const e=new FileReader;e.onload=()=>{c(e.result)},e.readAsDataURL(t)}}}),l.a.createElement("label",{htmlFor:"avatar-upload",style:{marginTop:10}},l.a.createElement(kt.a,{variant:"contained",component:"span",startIcon:l.a.createElement(Vt.a,null)},"Upload Avatar")))};const Xt=w(),Jt=(t(624),Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},textField:{marginRight:e.spacing(1),flex:1},container:{display:"flex",flexWrap:"wrap"},avatar:{width:e.spacing(12),height:e.spacing(12),margin:e.spacing(2),cursor:"pointer",borderRadius:"50%",border:"2px solid #ccc"},updateDiv:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},updateInput:{display:"none"},updateLabel:{padding:e.spacing(1),margin:e.spacing(1),textTransform:"uppercase",textAlign:"center",cursor:"pointer",border:"2px solid #ccc",borderRadius:"5px",minWidth:160,fontWeight:"bold",color:"#555"},errorUpdate:{border:"2px solid red"},errorText:{color:"red",fontSize:"0.8rem",fontWeight:"bold"}}))),Zt=xt.c().shape({name:xt.e().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:xt.e().min(5,"Too Short!").max(50,"Too Long!"),email:xt.e().email("Invalid email").required("Required"),allHistoric:xt.e().nullable()});var _t=e=>{let{open:a,onClose:t,userId:o}=e;const r=Jt(),i={name:"",email:"",password:"",profile:"user",startWork:"00:00",endWork:"23:59",farewellMessage:"",allTicket:"disable",allowGroup:!1,defaultTheme:"light",defaultMenu:"open",allHistoric:"disabled",allUserChat:"disabled",userClosePendingTicket:"enabled",showDashboard:"disabled",allowRealTime:"disabled",allowConnections:"disabled"},{user:s}=Object(n.useContext)(ua),[c,d]=Object(n.useState)(i),[m,p]=Object(n.useState)([]),[g,E]=Object(n.useState)(!1),{loading:b,whatsApps:f}=Ea(),[h,A]=Object(n.useState)(null),[v,y]=Object(n.useState)("general"),[x,C]=Object(n.useState)(null),k=Object(n.useRef)(),w=Object(n.useRef)();Object(n.useEffect)(()=>{(async()=>{if(o)try{var e;const{data:a}=await u.get("/users/"+o);d(e=>({...e,...a}));const{profileImage:t}=a;A(`${Xt}/public/company${a.companyId}/user/${t}`);const n=null===(e=a.queues)||void 0===e?void 0:e.map(e=>e.id);p(n),E(a.whatsappId?a.whatsappId:"")}catch(a){oa(a)}})()},[o,a]);const T=()=>{t(),d(i)},O=(e,a)=>{y(a)};return l.a.createElement("div",{className:r.root},l.a.createElement(Tt.a,{open:a,onClose:T,maxWidth:"sm",fullWidth:!0,scroll:"paper"},l.a.createElement(Mt.a,{id:"form-dialog-title"},o?""+aa.a.t("userModal.title.edit"):""+aa.a.t("userModal.title.add")),l.a.createElement(Ct.e,{initialValues:c,enableReinitialize:!0,validationSchema:Zt,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a=async e=>{const a=new FormData;a.append("userId",e.id),a.append("typeArch","user"),a.append("profileImage",x);const{data:t}=await u.post(`/users/${e.id}/media-upload`,a);localStorage.setItem("profileImage",t.user.profileImage)},t={...e,whatsappId:g,queueIds:m};console.log("userData",t);try{if(o){const{data:e}=await u.put("/users/"+o,t);console.log("avatar",x,null===c||void 0===c?void 0:c.profileImage,null===x||void 0===x?void 0:x.name),!x||(null===c||void 0===c?void 0:c.profileImage)&&!(null===c||void 0===c?void 0:c.profileImage)===x.name||a(e)}else await u.post("/users",t),!(null===c||void 0===c?void 0:c.profileImage)&&x&&a(c);o===s.id?(T(),S.b.success(aa.a.t("userModal.success")),window.location.reload()):(T(),S.b.success(aa.a.t("userModal.success")))}catch(n){oa(n)}})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,setFieldValue:i}=e;return l.a.createElement(Ct.d,null,l.a.createElement(Bt.a,{className:r.mainPaper,elevation:1},l.a.createElement(Wt.a,{value:v,indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",onChange:O,className:r.tab},l.a.createElement(qt.a,{label:aa.a.t("userModal.tabs.general"),value:"general"}),l.a.createElement(qt.a,{label:aa.a.t("userModal.tabs.permissions"),value:"permissions"}))),l.a.createElement(Bt.a,{className:r.paper,elevation:0},l.a.createElement(St.a,{dividers:!0},l.a.createElement(zt,{className:r.container,value:v,name:"general"},l.a.createElement(ht.a,{container:!0,spacing:1,alignContent:"center",alignItems:"center",justifyContent:"center"},l.a.createElement(Rt.a,{className:r.updateDiv},l.a.createElement(Yt,{setAvatar:C,avatar:c.profileImage,companyId:c.companyId}),c.profileImage&&l.a.createElement(kt.a,{variant:"outlined",color:"secondary",onClick:()=>{c.profileImage=null,i("profileImage",null),C(null)}},aa.a.t("userModal.title.removeImage")))),l.a.createElement(ht.a,{container:!0,spacing:1},l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("userModal.form.name"),autoFocus:!0,name:"name",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:"outlined",margin:"dense",fullWidth:!0})),l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("userModal.form.password"),type:"password",name:"password",error:a.password&&Boolean(t.password),helperText:a.password&&t.password,variant:"outlined",margin:"dense",fullWidth:!0}))),l.a.createElement(ht.a,{container:!0,spacing:1},l.a.createElement(ht.a,{item:!0,xs:12,md:8,xl:8},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("userModal.form.email"),name:"email",error:a.email&&Boolean(t.email),helperText:a.email&&t.email,variant:"outlined",margin:"dense",fullWidth:!0})),l.a.createElement(ht.a,{item:!0,xs:12,md:4,xl:4},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",fullWidth:!0},l.a.createElement(Aa,{role:s.profile,perform:"user-modal:editProfile",yes:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(Nt.a,{id:"profile-selection-input-label"},aa.a.t("userModal.form.profile")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("userModal.form.profile"),name:"profile",labelId:"profile-selection-label",id:"profile-selection",required:!0},l.a.createElement(Q.a,{value:"admin"},"Admin"),l.a.createElement(Q.a,{value:"user"},"User")))})))),l.a.createElement(ht.a,{container:!0,spacing:1},l.a.createElement(ht.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(Aa,{role:s.profile,perform:"user-modal:editQueues",yes:()=>l.a.createElement(Lt,{selectedQueueIds:m,onChange:e=>p(e),fullWidth:!0})}))),l.a.createElement(ht.a,{container:!0,spacing:1},l.a.createElement(ht.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(Aa,{role:s.profile,perform:"user-modal:editProfile",yes:()=>l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",className:r.maxWidth,fullWidth:!0},l.a.createElement(Nt.a,null,aa.a.t("userModal.form.whatsapp")),l.a.createElement(Ct.b,{as:jt.a,value:g,onChange:e=>E(e.target.value),label:aa.a.t("userModal.form.whatsapp")},l.a.createElement(Q.a,{value:""},"\xa0"),f.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name))))}))),l.a.createElement(Aa,{role:s.profile,perform:"user-modal:editProfile",yes:()=>l.a.createElement(ht.a,{container:!0,spacing:1},l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("userModal.form.startWork"),type:"time",ampm:"false",inputRef:k,InputLabelProps:{shrink:!0},inputProps:{step:600},fullWidth:!0,name:"startWork",error:a.startWork&&Boolean(t.startWork),helperText:a.startWork&&t.startWork,variant:"outlined",margin:"dense",className:r.textField})),l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("userModal.form.endWork"),type:"time",ampm:"false",inputRef:w,InputLabelProps:{shrink:!0},inputProps:{step:600},fullWidth:!0,name:"endWork",error:a.endWork&&Boolean(t.endWork),helperText:a.endWork&&t.endWork,variant:"outlined",margin:"dense",className:r.textField})))}),l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("userModal.form.farewellMessage"),type:"farewellMessage",multiline:!0,rows:4,fullWidth:!0,name:"farewellMessage",error:a.farewellMessage&&Boolean(t.farewellMessage),helperText:a.farewellMessage&&t.farewellMessage,variant:"outlined",margin:"dense"}),l.a.createElement(ht.a,{container:!0,spacing:1},l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Rt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},l.a.createElement(l.a.Fragment,null,l.a.createElement(Nt.a,null,aa.a.t("userModal.form.defaultTheme")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("userModal.form.defaultTheme"),name:"defaultTheme",type:"defaultTheme",required:!0},l.a.createElement(Q.a,{value:"light"},aa.a.t("userModal.form.defaultThemeLight")),l.a.createElement(Q.a,{value:"dark"},aa.a.t("userModal.form.defaultThemeDark")))))),l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Rt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},l.a.createElement(l.a.Fragment,null,l.a.createElement(Nt.a,null,aa.a.t("userModal.form.defaultMenu")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("userModal.form.defaultMenu"),name:"defaultMenu",type:"defaultMenu",required:!0},l.a.createElement(Q.a,{value:"open"},aa.a.t("userModal.form.defaultMenuOpen")),l.a.createElement(Q.a,{value:"closed"},aa.a.t("userModal.form.defaultMenuClosed")))))))),l.a.createElement(zt,{className:r.container,value:v,name:"permissions"},l.a.createElement(Aa,{role:s.profile,perform:"user-modal:editProfile",yes:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(ht.a,{container:!0,spacing:1},l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Rt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},l.a.createElement(l.a.Fragment,null,l.a.createElement(Nt.a,null,aa.a.t("userModal.form.allTicket")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("userModal.form.allTicket"),name:"allTicket",type:"allTicket",required:!0},l.a.createElement(Q.a,{value:"enable"},aa.a.t("userModal.form.allTicketEnable")),l.a.createElement(Q.a,{value:"disable"},aa.a.t("userModal.form.allTicketDisable")))))),l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Rt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},l.a.createElement(l.a.Fragment,null,l.a.createElement(Nt.a,null,aa.a.t("userModal.form.allowGroup")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("userModal.form.allowGroup"),name:"allowGroup",type:"allowGroup",required:!0},l.a.createElement(Q.a,{value:!0},aa.a.t("userModal.form.allTicketEnable")),l.a.createElement(Q.a,{value:!1},aa.a.t("userModal.form.allTicketDisable"))))))),l.a.createElement(ht.a,{container:!0,spacing:1},l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Rt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},l.a.createElement(l.a.Fragment,null,l.a.createElement(Nt.a,null,aa.a.t("userModal.form.allHistoric")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("userModal.form.allHistoric"),name:"allHistoric",type:"allHistoric",required:!0},l.a.createElement(Q.a,{value:"disabled"},aa.a.t("userModal.form.allHistoricDisabled")),l.a.createElement(Q.a,{value:"enabled"},aa.a.t("userModal.form.allHistoricEnabled")))))),l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Rt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},l.a.createElement(l.a.Fragment,null,l.a.createElement(Nt.a,null,aa.a.t("userModal.form.allUserChat")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("userModal.form.allUserChat"),name:"allUserChat",type:"allUserChat",required:!0},l.a.createElement(Q.a,{value:"disabled"},aa.a.t("userModal.form.allHistoricDisabled")),l.a.createElement(Q.a,{value:"enabled"},aa.a.t("userModal.form.allHistoricEnabled"))))))),l.a.createElement(ht.a,{container:!0,spacing:1},l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Rt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},l.a.createElement(l.a.Fragment,null,l.a.createElement(Nt.a,null,aa.a.t("userModal.form.userClosePendingTicket")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("userModal.form.userClosePendingTicket"),name:"userClosePendingTicket",type:"userClosePendingTicket",required:!0},l.a.createElement(Q.a,{value:"disabled"},aa.a.t("userModal.form.allHistoricDisabled")),l.a.createElement(Q.a,{value:"enabled"},aa.a.t("userModal.form.allHistoricEnabled")))))),l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Rt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},l.a.createElement(l.a.Fragment,null,l.a.createElement(Nt.a,null,aa.a.t("userModal.form.allowConnections")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("userModal.form.allowConnections"),name:"allowConnections",type:"allowConnections",required:!0},l.a.createElement(Q.a,{value:"disabled"},aa.a.t("userModal.form.allHistoricDisabled")),l.a.createElement(Q.a,{value:"enabled"},aa.a.t("userModal.form.allHistoricEnabled"))))))),l.a.createElement(ht.a,{container:!0,spacing:1},l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Rt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},l.a.createElement(l.a.Fragment,null,l.a.createElement(Nt.a,null,aa.a.t("userModal.form.showDashboard")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("userModal.form.showDashboard"),name:"showDashboard",type:"showDashboard",required:!0},l.a.createElement(Q.a,{value:"disabled"},aa.a.t("userModal.form.allHistoricDisabled")),l.a.createElement(Q.a,{value:"enabled"},aa.a.t("userModal.form.allHistoricEnabled")))))),l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Rt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},l.a.createElement(l.a.Fragment,null,l.a.createElement(Nt.a,null,aa.a.t("userModal.form.allowRealTime")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("userModal.form.allowRealTime"),name:"allowRealTime",type:"allowRealTime",required:!0},l.a.createElement(Q.a,{value:"disabled"},aa.a.t("userModal.form.allHistoricDisabled")),l.a.createElement(Q.a,{value:"enabled"},aa.a.t("userModal.form.allHistoricEnabled"))))))))})))),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:T,color:"secondary",disabled:n,variant:"outlined"},aa.a.t("userModal.buttons.cancel")),l.a.createElement(kt.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:r.btnWrapper},o?""+aa.a.t("userModal.buttons.okEdit"):""+aa.a.t("userModal.buttons.okAdd"),n&&l.a.createElement(It.a,{size:24,className:r.buttonProgress}))))})))},$t=t(1447);const en=Object(I.a)(e=>({backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}));var an=()=>{const e=en();return l.a.createElement($t.a,{className:e.backdrop,open:!0},l.a.createElement(It.a,{color:"inherit"}))},tn=t(1583);const nn=Object(I.a)(e=>({mainPaper:{flex:1,maxHeight:300,maxWidth:500,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));function ln(e){let{announcement:a,open:t,handleClose:n}=e;return l.a.createElement(Tt.a,{open:t,onClose:()=>n(),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(Mt.a,{id:"alert-dialog-title"},a.title),l.a.createElement(St.a,null,a.mediaPath&&l.a.createElement("div",{style:{border:"1px solid #f1f1f1",margin:"0 auto 20px",textAlign:"center",width:"95%",height:300,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}},l.a.createElement("img",{alt:"announcement image",src:a.mediaPath,style:{width:"95%",height:"100%"}})),l.a.createElement(tn.a,{id:"alert-dialog-description",style:{whiteSpace:"pre-line"}},a.text)),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:()=>n(),color:"primary",autoFocus:!0},"Fechar")))}const on=(e,a)=>{if("LOAD_ANNOUNCEMENTS"===a.type){const t=a.payload,n=[];return Object(la.isArray)(t)&&t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_ANNOUNCEMENTS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_ANNOUNCEMENT"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]};function rn(){const e=nn(),[a,t]=Object(n.useState)(!1),[o,r]=Object(n.useState)(null),[i,s]=Object(n.useState)(1),[c,d]=Object(n.useState)(!1),[m]=Object(n.useState)(""),[p,g]=Object(n.useReducer)(on,[]),[E,b]=Object(n.useState)(!1),[f,h]=Object(n.useState)({}),[A,v]=Object(n.useState)(!1),{user:y,socket:x}=Object(n.useContext)(ua);Object(n.useEffect)(()=>{g({type:"RESET"}),s(1)},[m]),Object(n.useEffect)(()=>{t(!0);const e=setTimeout(()=>{C()},500);return()=>clearTimeout(e)},[m,i]),Object(n.useEffect)(()=>{if(y.companyId){y.companyId;const e=e=>{"update"!==e.action&&"create"!==e.action||(g({type:"UPDATE_ANNOUNCEMENTS",payload:e.record}),b(!1)),"delete"===e.action&&g({type:"DELETE_ANNOUNCEMENT",payload:+e.id})};return x.on("company-announcement",e),()=>{x.off("company-announcement",e)}}},[y]);const C=async()=>{try{const{data:e}=await u.get("/announcements/",{params:{searchParam:m,pageNumber:i}});g({type:"LOAD_ANNOUNCEMENTS",payload:e.records}),d(e.hasMore),t(!1)}catch(e){oa(e)}},k=Boolean(o),w=k?"simple-popover":void 0;return l.a.createElement("div",null,l.a.createElement(ln,{announcement:f,open:A,handleClose:()=>v(!1)}),l.a.createElement(D.a,{variant:"contained","aria-describedby":w,onClick:e=>{r(e.currentTarget),b(!0)},style:{color:"white"}},l.a.createElement(N.a,{color:"secondary",variant:"dot",invisible:E||p.length<1},l.a.createElement(ze.a,null))),l.a.createElement(Ia.a,{id:w,open:k,anchorEl:o,onClose:()=>{r(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},l.a.createElement(Bt.a,{variant:"outlined",onScroll:e=>{if(!c||a)return;const{scrollTop:t,scrollHeight:n,clientHeight:l}=e.currentTarget;n-(t+100)<l&&s(e=>e+1)},className:e.mainPaper},l.a.createElement(L.a,{component:"nav","aria-label":"main mailbox folders",style:{minWidth:300}},Object(la.isArray)(p)&&p.map((e,a)=>{return l.a.createElement(_.a,{key:a,style:{background:a%2===0?"primary":"secondary",border:"1px solid #eee",borderLeft:(t=e.priority,1===t?"4px solid #b81111":2===t?"4px solid orange":3===t?"4px solid grey":void 0),cursor:"pointer"},onClick:()=>(h(e),v(!0),void r(null))},e.mediaPath&&l.a.createElement(Ba.a,null,l.a.createElement(R.a,{src:e.mediaPath})),l.a.createElement(ee.a,{primary:e.title,secondary:l.a.createElement(l.a.Fragment,null,l.a.createElement(z.a,{component:"span",style:{fontSize:12}},da()(e.createdAt).format("DD/MM/YYYY")),l.a.createElement("span",{style:{marginTop:5,display:"block"}}),l.a.createElement(z.a,{component:"span",variant:"body2"},e.text))}));var t}),Object(la.isArray)(p)&&0===p.length&&l.a.createElement(ee.a,{primary:aa.a.t("mainDrawer.appBar.notRegister")})))))}var sn=t(208),cn=t.n(sn),dn=t(253),mn=t.n(dn);function un(){return{dateToClient:function(e){return da()(e).isValid()?da()(e).format("DD/MM/YYYY"):e},datetimeToClient:function(e){return da()(e).isValid()?da()(e).format("DD/MM/YYYY HH:mm"):e},dateToDatabase:function(e){return da()(e,"DD/MM/YYYY").isValid()?da()(e).format("YYYY-MM-DD HH:mm:ss"):e},returnDays:function(e){let a=new Date,t=new Date(e).getTime()-a.getTime(),n=Math.ceil(t/864e5);return-0===n&&(n=0),n}}}var pn=t(911),gn=t.n(pn);const En=Object(I.a)(e=>({mainPaper:{flex:1,maxHeight:300,maxWidth:500,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}})),bn=(e,a)=>{if("LOAD_CHATS"===a.type){const t=a.payload,n=[];return Object(la.isArray)(t)&&t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_CHATS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_CHAT"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[];if("CHANGE_CHAT"===a.type){return e.map(e=>e.id===a.payload.chat.id?a.payload.chat:e)}};function fn(){const e=En(),{user:a,socket:t}=Object(n.useContext)(ua),[o,r]=Object(n.useState)(!1),[i,s]=Object(n.useState)(null),[c,d]=Object(n.useState)(1),[m,p]=Object(n.useState)(!1),[g]=Object(n.useState)(""),[E,b]=Object(n.useReducer)(bn,[]),[f,h]=Object(n.useState)(!0),{datetimeToClient:A}=un(),[v]=Object(Ma.a)(gn.a),y=Object(n.useRef)();Object(n.useEffect)(()=>{y.current=v,"Notification"in window?Notification.requestPermission():console.log("This browser doesn't support notifications")},[v]),Object(n.useEffect)(()=>{b({type:"RESET"}),d(1)},[g]),Object(n.useEffect)(()=>{r(!0);const e=setTimeout(()=>{x()},500);return()=>clearTimeout(e)},[g,c]),Object(n.useEffect)(()=>{if(a.companyId){const e=a.companyId,n=e=>{"new-message"===e.action&&(b({type:"CHANGE_CHAT",payload:e}),e.newMessage.senderId!==a.id&&y.current()),"update"===e.action&&b({type:"CHANGE_CHAT",payload:e})};return t.on(`company-${e}-chat`,n),()=>{t.off(`company-${e}-chat`,n)}}},[a]),Object(n.useEffect)(()=>{let e=0;if(E.length>0)for(let t of E)for(let n of t.users)n.userId===a.id&&(e+=n.unreads);h(!(e>0))},[E,a.id]);const x=async()=>{try{const{data:e}=await u.get("/chats/",{params:{searchParam:g,pageNumber:c}});b({type:"LOAD_CHATS",payload:e.records}),p(e.hasMore),r(!1)}catch(e){oa(e)}},C=Boolean(i),k=C?"simple-popover":void 0;return l.a.createElement("div",null,l.a.createElement(D.a,{"aria-describedby":k,variant:"contained",color:f?"default":"inherit",onClick:e=>{s(e.currentTarget),h(!0)},style:{color:"white"}},l.a.createElement(N.a,{color:"secondary",variant:"dot",invisible:f},l.a.createElement(Ue.a,null))),l.a.createElement(Ia.a,{id:k,open:C,anchorEl:i,onClose:()=>{s(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},l.a.createElement(Bt.a,{variant:"outlined",onScroll:e=>{if(!m||o)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&d(e=>e+1)},className:e.mainPaper},l.a.createElement(L.a,{component:"nav","aria-label":"main mailbox folders",style:{minWidth:300}},Object(la.isArray)(E)&&E.map((e,a)=>l.a.createElement(_.a,{key:a,style:{background:a%2===0?"#ededed":"white",border:"1px solid #eee",cursor:"pointer"},onClick:()=>{return a=e,void(window.location.href="/chats/"+a.uuid);var a},button:!0},l.a.createElement(ee.a,{primary:e.lastMessage,secondary:l.a.createElement(l.a.Fragment,null,l.a.createElement(z.a,{component:"span",style:{fontSize:12}},A(e.updatedAt)),l.a.createElement("span",{style:{marginTop:5,display:"block"}}))}))),Object(la.isArray)(E)&&0===E.length&&l.a.createElement(ee.a,{primary:aa.a.t("mainDrawer.appBar.notRegister")})))))}var hn=t(516),An=t.n(hn),vn=t(515),yn=t.n(vn);var xn=()=>({getAll:async e=>{const{data:a}=await u.request({url:"/settings",method:"GET",params:e});return a},update:async e=>{const{data:a}=await u.request({url:"/settings/"+e.key,method:"PUT",data:e});return console.log(a),a},get:async e=>{const{data:a}=await u.request({url:"/setting/"+e,method:"GET"});return a},getPublicSetting:async e=>{const{data:a}=await m.request({url:"/public-settings/"+e,method:"GET",params:{token:"wtV"}});return a}});t(1175).version;const Cn=w(),kn=Object(I.a)(e=>({root:{display:"flex",height:"100vh",[e.breakpoints.down("sm")]:{height:"calc(100vh - 56px)"},backgroundColor:e.palette.fancyBackground,"& .MuiButton-outlinedPrimary":{color:e.palette.primary,border:"light"===e.mode?"1px solid rgba(0 124 102)":"1px solid rgba(255, 255, 255, 0.5)"},"& .MuiTab-textColorPrimary.Mui-selected":{color:e.palette.primary}},chip:{background:"red",color:"white"},avatar:{width:"100%"},toolbar:{paddingRight:24,color:e.palette.dark.main,background:e.palette.barraSuperior},toolbarIcon:{display:"flex",alignItems:"center",justifyContent:"center",backgroundSize:"cover",padding:"0 8px",minHeight:"48px",[e.breakpoints.down("sm")]:{height:"48px"}},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - 240px)",transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),[e.breakpoints.down("sm")]:{display:"none"}},menuButtonHidden:{display:"none"},title:{flexGrow:1,fontSize:14,color:"white"},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden",overflowY:"hidden"},drawerPaperClose:{overflowX:"hidden",overflowY:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7),[e.breakpoints.up("sm")]:{width:e.spacing(9)}},appBarSpacer:{minHeight:"48px"},content:{flex:1,overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},containerWithScroll:{flex:1,overflowY:"scroll",overflowX:"hidden",...e.scrollbarStyles,borderRadius:"8px",border:"2px solid transparent","&::-webkit-scrollbar":{display:"none"},"-ms-overflow-style":"none","scrollbar-width":"none"},NotificationsPopOver:{},logo:{width:"100%",height:"45px",maxWidth:180,[e.breakpoints.down("sm")]:{width:"auto",height:"100%",maxWidth:180},logo:e.logo,content:"url("+("light"===e.mode?e.calculatedLogoLight():e.calculatedLogoDark())+")"},hideLogo:{display:"none"},avatar2:{width:e.spacing(4),height:e.spacing(4),cursor:"pointer",borderRadius:"50%",border:"2px solid #ccc"},updateDiv:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}})),wn=Object(j.a)(e=>({badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px "+e.palette.background.paper,"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}))(N.a);Object(j.a)(e=>({root:{width:22,height:22,border:"2px solid "+e.palette.background.paper}}))(R.a);var Tn=e=>{var a,t,o,r;let{children:i,themeToggle:s}=e;const c=kn(),[d,m]=Object(n.useState)("disabled"),[u,p]=Object(n.useState)(!1),[g,E]=Object(n.useState)(!1),[b,A]=Object(n.useState)(null),[v,y]=Object(n.useState)(!1),{handleLogout:x,loading:C}=Object(n.useContext)(ua),[k,w]=Object(n.useState)(!1),[T,O]=Object(n.useState)("permanent"),{user:S,socket:I}=Object(n.useContext)(ua),j=Object(F.a)(),{colorMode:N}=Object(n.useContext)(h),V=Object(f.a)(j.breakpoints.up("sm")),[K,X]=Object(n.useState)(localStorage.getItem("volume")||1),{dateToClient:Z}=un(),[_,$]=Object(n.useState)(null);Object(n.useMemo)(()=>l.a.createElement(Oa,{drawerOpen:k,collapsed:!k}),[S,k]),xn();Object(n.useEffect)(()=>{}),Object(n.useEffect)(()=>{document.body.offsetWidth>600&&("closed"===S.defaultMenu?w(!1):w(!0)),"dark"===S.defaultTheme&&"light"===j.mode&&N.toggleColorMode()},[S.defaultMenu,document.body.offsetWidth]),Object(n.useEffect)(()=>{document.body.offsetWidth<600?O("temporary"):O("permanent")},[k]),Object(n.useEffect)(()=>{const e=S.companyId,a=S.id;if(e){const t=S.profileImage;$(void 0!==t&&null!==t?`${Cn}/public/company${e}/user/${t}`:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"http://localhost:8081",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"24"}).FRONTEND_URL+"/nopicture.png");const n=e=>{e.user.id===+a&&(oa("Sua conta foi acessada em outro computador."),setTimeout(()=>{localStorage.clear(),window.location.reload()},1e3))};I.on(`company-${e}-auth`,n),I.emit("userStatus");const l=setInterval(()=>{I.emit("userStatus")},3e5);return()=>{I.off(`company-${e}-auth`,n),clearInterval(l)}}},[I]);const ee=()=>{A(null),y(!1)};return C?l.a.createElement(an,null):l.a.createElement("div",{className:c.root},l.a.createElement(P.a,{variant:T,className:k?c.drawerPaper:c.drawerPaperClose,classes:{paper:Object(M.a)(c.drawerPaper,!k&&c.drawerPaperClose)},open:k},l.a.createElement("div",{className:c.toolbarIcon},l.a.createElement("img",{className:k?c.logo:c.hideLogo,style:{display:"block",margin:"0 auto",height:"50px",width:"100%"},alt:"logo"}),l.a.createElement(D.a,{onClick:()=>w(!k)},l.a.createElement(Y.a,null))),l.a.createElement(L.a,{className:c.containerWithScroll},l.a.createElement(Oa,{collapsed:!k})),l.a.createElement(B.a,null)),l.a.createElement(W.a,{position:"absolute",className:Object(M.a)(c.appBar,k&&c.appBarShift),color:"primary"},l.a.createElement(q.a,{variant:"dense",className:c.toolbar},l.a.createElement(D.a,{edge:"start",variant:"contained","aria-label":"open drawer",style:{color:"white"},onClick:()=>w(!k),className:Object(M.a)(k&&c.menuButtonHidden)},l.a.createElement(G.a,null)),l.a.createElement(z.a,{component:"h2",variant:"h6",color:"inherit",noWrap:!0,className:c.title},V&&"admin"===(null===S||void 0===S?void 0:S.profile)&&(null===S||void 0===S||null===(a=S.company)||void 0===a?void 0:a.dueDate)?l.a.createElement(l.a.Fragment,null,aa.a.t("mainDrawer.appBar.user.message")," ",l.a.createElement("b",null,S.name),","," ",aa.a.t("mainDrawer.appBar.user.messageEnd")," ",l.a.createElement("b",null,null===S||void 0===S||null===(t=S.company)||void 0===t?void 0:t.name),"! (",aa.a.t("mainDrawer.appBar.user.active")," ",Z(null===S||void 0===S||null===(o=S.company)||void 0===o?void 0:o.dueDate),")"):l.a.createElement(l.a.Fragment,null,aa.a.t("mainDrawer.appBar.user.message")," ",l.a.createElement("b",null,S.name),","," ",aa.a.t("mainDrawer.appBar.user.messageEnd")," ",l.a.createElement("b",null,null===S||void 0===S||null===(r=S.company)||void 0===r?void 0:r.name),"!")),"enabled"===d&&1===(null===S||void 0===S?void 0:S.companyId)&&l.a.createElement(H.a,{className:c.chip,label:aa.a.t("mainDrawer.appBar.user.token")}),l.a.createElement(D.a,{edge:"start",onClick:N.toggleColorMode},"dark"===j.mode?l.a.createElement(yn.a,{style:{color:"white"}}):l.a.createElement(An.a,{style:{color:"white"}})),l.a.createElement(yt,{setVolume:X,volume:K}),l.a.createElement(D.a,{onClick:()=>{window.location.reload(!1)},"aria-label":aa.a.t("mainDrawer.appBar.refresh"),color:"inherit"},l.a.createElement(J.a,{style:{color:"white"}})),S.id&&l.a.createElement(pt,{volume:K}),l.a.createElement(rn,null),l.a.createElement(fn,null),l.a.createElement("div",null,l.a.createElement(wn,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",onClick:e=>{A(e.currentTarget),y(!0)}},l.a.createElement(R.a,{alt:"Multi100",className:c.avatar2,src:_})),l.a.createElement(_t,{open:g,onClose:()=>E(!1),onImageUpdate:e=>$(e),userId:null===S||void 0===S?void 0:S.id}),l.a.createElement(U.a,{id:"menu-appbar",anchorEl:b,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:v,onClose:ee},l.a.createElement(Q.a,{onClick:()=>{E(!0),ee()}},aa.a.t("mainDrawer.appBar.user.profile")),l.a.createElement(Q.a,{onClick:()=>{ee(),x()}},aa.a.t("mainDrawer.appBar.user.logout")))))),l.a.createElement("main",{className:c.content},l.a.createElement("div",{className:c.appBarSpacer}),i||null))},On=t(1757),Sn=t(1743),Mn=t(1758),In=t(1458),jn=t(1754),Nn=t(1759),Rn=t(997),Fn=t(1722),Pn=t(1760),Dn=t(1742),Ln=t(1761),Bn=t(1762),Wn=t(1604),qn=t(1605),zn=t(1606),Hn=t(1607),Un=t(1608),Qn=t(1609),Vn=t(116),Gn=t(1589),Kn=t(1591),Yn=t(1587),Xn=t(1588),Jn=t(1590),Zn=t(1586),_n=t(1592),$n=t(573),el=t(518),al=t.n(el);t(1753);const tl=Object(I.a)(e=>({on:{color:La.a[600],fontSize:"20px"},off:{color:$n.a[600],fontSize:"20px"},pointer:{cursor:"pointer"}}));function nl(e){let{loading:a=!1,attendants:t=[]}=e;const n=tl();function o(e){return da()().startOf("day").add(e,"minutes").format("HH[h] mm[m]")}return a?l.a.createElement(_n.a,{variant:"rect",height:150}):l.a.createElement(Xn.a,{component:Bt.a,id:"grid-attendants"},l.a.createElement(Gn.a,null,l.a.createElement(Jn.a,null,l.a.createElement(Zn.a,null,l.a.createElement(Yn.a,null,aa.a.t("dashboard.users.name")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("dashboard.assessments.score")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("dashboard.assessments.ratedCalls")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("dashboard.assessments.totalCalls")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("dashboard.cards.averageWaitingTime")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("dashboard.cards.averageServiceTime")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("dashboard.cards.status")))),l.a.createElement(Kn.a,null,Array.isArray(t)?t.map((e,a)=>l.a.createElement(Zn.a,{key:a},l.a.createElement(Yn.a,null,e.name),l.a.createElement(Yn.a,{align:"center"},e.rating||0),l.a.createElement(Yn.a,{align:"center"},e.countRating||0),l.a.createElement(Yn.a,{align:"center"},e.tickets||0),l.a.createElement(Yn.a,{align:"center"},o(e.avgWaitTime||0)),l.a.createElement(Yn.a,{align:"center"},o(e.avgSupportTime||0)),l.a.createElement(Yn.a,{align:"center"},e.online?l.a.createElement(ne.a,{title:"Online"},l.a.createElement(qa.a,{className:n.on})):l.a.createElement(ne.a,{title:"Offline"},l.a.createElement(al.a,{className:n.off}))))):null)))}var ll=()=>({find:async e=>{const{data:a}=await u.request({url:"/dashboard",method:"GET",params:e});return a},getReport:async e=>{const{data:a}=await u.request({url:"/ticketreport/reports",method:"GET",params:e});return a}}),ol=t(89),rl=t(537),il=t(982),sl=t(379),cl=t(382),dl=t(983),ml=t(1718);t(764);const ul=Object(I.a)(e=>({container:{paddingTop:e.spacing(1),paddingBottom:e.padding,paddingLeft:e.spacing(1),paddingRight:e.spacing(2)}}));ol.f.register(ol.e,ol.j,ol.c,ol.p,ol.q,ol.h,il.a);const pl={responsive:!0,plugins:{legend:{position:"top",display:!1},title:{display:!0,text:"Tickets",position:"left"},datalabels:{display:!0,anchor:"start",offset:-30,align:"start",color:"#fff",textStrokeColor:"#000",textStrokeWidth:2,font:{size:20,weight:"bold"}}}},gl=()=>{ul();const e=Object(F.a)(),[a,t]=Object(n.useState)(new Date),[o,r]=Object(n.useState)(new Date),[i,s]=Object(n.useState)({data:[]}),{user:c}=Object(n.useContext)(ua),d=c.companyId;Object(n.useEffect)(()=>{d&&p()},[d]);const m={labels:i&&(null===i||void 0===i?void 0:i.data.length)>0&&(null===i||void 0===i?void 0:i.data.map(e=>e.nome)),datasets:[{data:(null===i||void 0===i?void 0:i.data.length)>0&&(null===i||void 0===i?void 0:i.data.map((e,a)=>e.quantidade)),backgroundColor:e.palette.primary.main}]},p=async()=>{try{const{data:e}=await u.get(`/dashboard/ticketsUsers?initialDate=${Object(Sa.a)(a,"yyyy-MM-dd")}&finalDate=${Object(Sa.a)(o,"yyyy-MM-dd")}&companyId=${d}`);s(e)}catch(e){S.b.error("Erro ao buscar informa\xe7\xf5es dos tickets")}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(z.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},aa.a.t("dashboard.users.totalCallsUser")),l.a.createElement(ht.a,{container:!0,spacing:2},l.a.createElement(ht.a,{item:!0},l.a.createElement(dl.a,{dateAdapter:sl.a,adapterLocale:cl.a},l.a.createElement(ml.a,{value:a,onChange:e=>{t(e)},label:aa.a.t("dashboard.date.initialDate"),renderInput:e=>l.a.createElement(wt.a,Object.assign({fullWidth:!0},e,{sx:{width:"20ch"}}))}))),l.a.createElement(ht.a,{item:!0},l.a.createElement(dl.a,{dateAdapter:sl.a,adapterLocale:cl.a},l.a.createElement(ml.a,{value:o,onChange:e=>{r(e)},label:aa.a.t("dashboard.date.finalDate"),renderInput:e=>l.a.createElement(wt.a,Object.assign({fullWidth:!0},e,{sx:{width:"20ch"}}))}))),l.a.createElement(ht.a,{item:!0},l.a.createElement(kt.a,{style:{backgroundColor:e.palette.primary.main,top:"10px"},onClick:p,variant:"contained"},"Filtrar"))),l.a.createElement(rl.a,{options:pl,data:m,style:{maxWidth:"100%",maxHeight:"280px"}}))};var El=t(1602),bl=t(1719),fl=t(922),hl=t(546);var Al=e=>{const{title:a,value:t,data:n,color:o}=e,r=Array.isArray(n)?n:[{name:a,value:t||0}],i=Array.isArray(o)?o:[o||"#01a19a"];return l.a.createElement("div",{style:{width:"100%",height:"300px"}},l.a.createElement(El.a,null,l.a.createElement(bl.a,null,l.a.createElement(fl.a,{data:r,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,innerRadius:70,labelLine:!1,strokeWidth:0,label:e=>{let{cx:n,cy:o}=e;return l.a.createElement("text",{x:n,y:o,fill:"#1C2E36",textAnchor:"middle",dominantBaseline:"middle"},l.a.createElement("tspan",{x:n,dy:"-0.5em",fontSize:"1.2em",fontWeight:"bold"},a),l.a.createElement("tspan",{x:n,dy:"1.5em",fontSize:"1.2em",fontWeight:"bold"},t+"%"))}},r.map((e,a)=>l.a.createElement(hl.a,{key:"cell-"+a,fill:i[a%i.length]}))))))};ol.f.register(ol.e,ol.j,ol.c,ol.p,ol.q,ol.h);const vl={responsive:!0,plugins:{legend:{position:"top",display:!1},title:{display:!0,text:"Tickets",position:"left"},datalabels:{display:!0,anchor:"start",offset:-30,align:"start",color:"#fff",textStrokeColor:"#000",textStrokeWidth:2,font:{size:20,weight:"bold"}}}},yl=()=>{const e=Object(F.a)(),[a,t]=Object(n.useState)(new Date),[o,r]=Object(n.useState)(new Date),[i,s]=Object(n.useState)({data:[],count:0}),{user:c}=Object(n.useContext)(ua),d=c.companyId;Object(n.useEffect)(()=>{d&&p()},[d]);const m={labels:i&&(null===i||void 0===i?void 0:i.data.length)>0&&(null===i||void 0===i?void 0:i.data.map(e=>e.hasOwnProperty("horario")?`Das ${e.horario}:00 as ${e.horario}:59`:e.data)),datasets:[{data:(null===i||void 0===i?void 0:i.data.length)>0&&(null===i||void 0===i?void 0:i.data.map((e,a)=>e.total)),backgroundColor:e.palette.primary.main}]},p=async()=>{try{const{data:e}=await u.get(`/dashboard/ticketsDay?initialDate=${Object(Sa.a)(a,"yyyy-MM-dd")}&finalDate=${Object(Sa.a)(o,"yyyy-MM-dd")}&companyId=${d}`);s(e)}catch(e){S.b.error("Erro ao buscar informa\xe7\xf5es dos tickets")}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(z.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},aa.a.t("dashboard.users.totalAttendances")," (",null===i||void 0===i?void 0:i.count,")"),l.a.createElement(ht.a,{container:!0,spacing:2},l.a.createElement(ht.a,{item:!0},l.a.createElement(dl.a,{dateAdapter:sl.a,adapterLocale:cl.a},l.a.createElement(ml.a,{value:a,onChange:e=>{t(e)},label:aa.a.t("dashboard.date.initialDate"),renderInput:e=>l.a.createElement(wt.a,Object.assign({fullWidth:!0},e,{sx:{width:"20ch"}}))}))),l.a.createElement(ht.a,{item:!0},l.a.createElement(dl.a,{dateAdapter:sl.a,adapterLocale:cl.a},l.a.createElement(ml.a,{value:o,onChange:e=>{r(e)},label:aa.a.t("dashboard.date.finalDate"),renderInput:e=>l.a.createElement(wt.a,Object.assign({fullWidth:!0},e,{sx:{width:"20ch"}}))}))),l.a.createElement(ht.a,{item:!0},l.a.createElement(kt.a,{style:{backgroundColor:e.palette.primary.main,top:"10px"},onClick:p,variant:"contained"},"Filtrar"))),l.a.createElement(rl.a,{options:vl,data:m,style:{maxWidth:"100%",maxHeight:"280px"}}))};var xl=e=>l.a.createElement(z.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children);var Cl=e=>{let{classes:a,setDateStartTicket:t,setDateEndTicket:n,dateStartTicket:o,dateEndTicket:r,setQueueTicket:i,queueTicket:s,fetchData:c}=e;const[d]=l.a.useState(s),[m,u]=l.a.useState(o),[p,g]=l.a.useState(r),[E,b]=l.a.useState(!1);return l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(Bt.a,{className:a.customFixedHeightPaperLg,elevation:6},l.a.createElement(xl,null,"Filtros"),l.a.createElement(ht.a,{container:!0,spacing:3},l.a.createElement(ht.a,{item:!0,xs:12,sm:6,md:5},l.a.createElement(wt.a,{fullWidth:!0,name:"dateStart",label:aa.a.t("dashboard.date.initialDate"),InputLabelProps:{shrink:!0},type:"date",defaultValue:m,onChange:e=>u(e.target.value)})),l.a.createElement(ht.a,{item:!0,xs:12,sm:6,md:5},l.a.createElement(wt.a,{fullWidth:!0,name:"dateEnd",label:aa.a.t("dashboard.date.finalDate"),InputLabelProps:{shrink:!0},type:"date",defaultValue:p,onChange:e=>g(e.target.value)})),l.a.createElement(ht.a,{item:!0,xs:12,sm:6,md:2},l.a.createElement(kt.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{i(d),t(m),n(p),b(!E),c(!E)}},"Filtrar")))))},kl=t(1603);const wl=Object(I.a)(e=>({container:{textAlign:"center",marginTop:e.spacing(8),flex:1},title:{marginBottom:e.spacing(4)},button:{marginTop:e.spacing(2),color:"#fff !important",boxShadow:"none",borderRadius:20},boxContainer:{background:e.palette.tabHeaderBackground,borderRadius:20,display:"flex",padding:20,display:"flex",alignItems:"center",width:"80%",justifyContent:"center",margin:"auto"}}));var Tl=()=>{const e=wl();return l.a.createElement(kl.a,{className:e.container},l.a.createElement(Gt.a,{className:e.boxContainer},l.a.createElement(Gt.a,null,l.a.createElement(z.a,{variant:"h1",className:e.title,color:"error"},"403"),l.a.createElement(z.a,{variant:"h5",color:"textSecondary"},"Oops! Acesso Negado!"),l.a.createElement(kt.a,{className:e.button,variant:"contained",color:"primary",href:"/tickets"},"Voltar"))))};const Ol=Object(I.a)(e=>({root:{flexGrow:1,backgroundColor:"dark"===e.palette.mode?"#151718":e.palette.background.default,minHeight:"100vh"},container:{paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},card:{height:"100%",display:"flex",flexDirection:"column",borderRadius:16,backgroundColor:"dark"===e.palette.mode?"#1E2021":e.palette.background.paper,border:"dark"===e.palette.mode?"1px solid #2D3133":"none",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"dark"===e.palette.mode?"0 8px 16px rgba(0,0,0,0.4)":e.shadows[4]}},cardMetric:{padding:e.spacing(3),display:"flex",alignItems:"center",justifyContent:"space-between"},metricValue:{fontSize:"2rem",fontWeight:700,color:"dark"===e.palette.mode?"#FFFFFF":e.palette.text.primary},metricLabel:{fontSize:"0.875rem",color:"dark"===e.palette.mode?"#B0B3B8":e.palette.text.secondary,marginTop:e.spacing(1)},iconWrapperInAttendance:{padding:e.spacing(2),borderRadius:"50%",backgroundColor:"#01a19a20"},iconWrapperWaiting:{padding:e.spacing(2),borderRadius:"50%",backgroundColor:"#ff980020"},iconWrapperFinished:{padding:e.spacing(2),borderRadius:"50%",backgroundColor:"#4caf5020"},iconWrapperGroups:{padding:e.spacing(2),borderRadius:"50%",backgroundColor:"#9c27b020"},iconWrapperAttendants:{padding:e.spacing(2),borderRadius:"50%",backgroundColor:"#2196f320"},iconWrapperContacts:{padding:e.spacing(2),borderRadius:"50%",backgroundColor:"#e91e6320"},iconWrapperMessages:{padding:e.spacing(2),borderRadius:"50%",backgroundColor:"#00968820"},iconWrapperTime:{padding:e.spacing(2),borderRadius:"50%",backgroundColor:"#f4433620"},iconInAttendance:{color:"#01a19a !important"},iconWaiting:{color:"#ff9800 !important"},iconFinished:{color:"#4caf50 !important"},iconGroups:{color:"#9c27b0 !important"},iconAttendants:{color:"#2196f3 !important"},iconContacts:{color:"#e91e63 !important"},iconMessages:{color:"#009688 !important"},iconTime:{color:"#f44336 !important"},chartCard:{height:400,marginTop:e.spacing(3),borderRadius:16,backgroundColor:"dark"===e.palette.mode?"#1E2021":e.palette.background.paper,border:"dark"===e.palette.mode?"1px solid #2D3133":"none","& .MuiTypography-root":{color:"dark"===e.palette.mode?"#FFFFFF":e.palette.text.primary}},tableCard:{marginTop:e.spacing(3),borderRadius:16,backgroundColor:"dark"===e.palette.mode?"#1E2021":e.palette.background.paper,border:"dark"===e.palette.mode?"1px solid #2D3133":"none","& .MuiTypography-root":{color:"dark"===e.palette.mode?"#FFFFFF":e.palette.text.primary}},filterBar:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing(3),"& .MuiTypography-root":{color:"dark"===e.palette.mode?"#FFFFFF":e.palette.text.primary}},tabs:{marginBottom:e.spacing(3),"& .MuiTab-root":{minWidth:"auto",padding:e.spacing(1,2),borderRadius:8,marginRight:e.spacing(1),color:"dark"===e.palette.mode?"#B0B3B8":e.palette.text.primary,"&.Mui-selected":{backgroundColor:"#01a19a",color:"#fff"}}},filterButton:{backgroundColor:"#01a19a",color:"#fff",borderRadius:"50%",padding:e.spacing(1),"&:hover":{backgroundColor:"#018c86"}}}));var Sl=()=>{const e=Ol(),{user:a}=(Object(F.a)(),Object(n.useContext)(ua)),[t,o]=Object(n.useState)("metricas"),[r,i]=Object(n.useState)({}),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)(1),[g,E]=Object(n.useState)(0),[b,f]=Object(n.useState)(da()().startOf("month").format("YYYY-MM-DD")),[h,A]=Object(n.useState)(da()().format("YYYY-MM-DD")),{find:v}=ll();async function y(){c(!0);try{const{counters:e}=await v({filterType:u,period:g,dateFrom:b,dateTo:h});i(e)}catch(e){S.b.error("Erro ao carregar dados do dashboard")}c(!1)}Object(n.useEffect)(()=>{!async function(){await y()}()},[]);return"admin"!==a.profile?l.a.createElement(Tl,null):l.a.createElement("div",{className:e.root},l.a.createElement(On.a,{maxWidth:"xl",className:e.container},l.a.createElement(Sn.a,{className:e.filterBar},l.a.createElement(Mn.a,{direction:"row",spacing:2,alignItems:"center"},l.a.createElement(In.a,{variant:"h4",fontWeight:"bold"},"Dashboard"),l.a.createElement(jn.a,{onClick:()=>m(!d),className:e.filterButton},l.a.createElement(Wn.a,null))),l.a.createElement(Nn.a,{title:"Exportar relat\xf3rio"},l.a.createElement(jn.a,{className:e.filterButton},l.a.createElement(qn.a,null)))),d&&l.a.createElement(Rn.a,{sx:{p:2,mb:3}},l.a.createElement(Cl,{filterType:u,setFilterType:p,period:g,setPeriod:E,dateFrom:b,setDateFrom:f,dateTo:h,setDateTo:A,onApply:y})),l.a.createElement(Fn.a,{value:t,onChange:(e,a)=>{o(a)},className:e.tabs,variant:"scrollable",scrollButtons:"auto"},l.a.createElement(Pn.a,{value:"metricas",label:"M\xe9tricas"}),l.a.createElement(Pn.a,{value:"graficos",label:"Gr\xe1ficos"}),l.a.createElement(Pn.a,{value:"atendentes",label:"Atendentes"})),"metricas"===t&&l.a.createElement(Dn.a,{container:!0,spacing:3},l.a.createElement(Dn.a,{item:!0,xs:12,sm:6,md:3},l.a.createElement(Ln.a,{className:e.card},l.a.createElement(Bn.a,{className:e.cardMetric},l.a.createElement("div",null,l.a.createElement(In.a,{className:e.metricValue},r.inAttendanceCount||0),l.a.createElement(In.a,{className:e.metricLabel},"EM ATENDIMENTO")),l.a.createElement("div",{className:e.iconWrapperInAttendance},l.a.createElement(zn.a,{className:e.iconInAttendance}))))),l.a.createElement(Dn.a,{item:!0,xs:12,sm:6,md:3},l.a.createElement(Ln.a,{className:e.card},l.a.createElement(Bn.a,{className:e.cardMetric},l.a.createElement("div",null,l.a.createElement(In.a,{className:e.metricValue},r.waitingTickets||0),l.a.createElement(In.a,{className:e.metricLabel},"AGUARDANDO")),l.a.createElement("div",{className:e.iconWrapperWaiting},l.a.createElement(Hn.a,{className:e.iconWaiting}))))),l.a.createElement(Dn.a,{item:!0,xs:12,sm:6,md:3},l.a.createElement(Ln.a,{className:e.card},l.a.createElement(Bn.a,{className:e.cardMetric},l.a.createElement("div",null,l.a.createElement(In.a,{className:e.metricValue},r.finishedTicketsCount||0),l.a.createElement(In.a,{className:e.metricLabel},"FINALIZADOS")),l.a.createElement("div",{className:e.iconWrapperFinished},l.a.createElement(Un.a,{className:e.iconFinished}))))),l.a.createElement(Dn.a,{item:!0,xs:12,sm:6,md:3},l.a.createElement(Ln.a,{className:e.card},l.a.createElement(Bn.a,{className:e.cardMetric},l.a.createElement("div",null,l.a.createElement(In.a,{className:e.metricValue},r.groupsCount||0),l.a.createElement(In.a,{className:e.metricLabel},"GRUPOS")),l.a.createElement("div",{className:e.iconWrapperGroups},l.a.createElement(Qn.a,{className:e.iconGroups}))))),l.a.createElement(Dn.a,{item:!0,xs:12,sm:6,md:3},l.a.createElement(Ln.a,{className:e.card},l.a.createElement(Bn.a,{className:e.cardMetric},l.a.createElement("div",null,l.a.createElement(In.a,{className:e.metricValue},r.attendantsOnline||0,"/",r.attendantsTotal||0),l.a.createElement(In.a,{className:e.metricLabel},"ATENDENTES ATIVOS")),l.a.createElement("div",{className:e.iconWrapperAttendants},l.a.createElement(Qn.a,{className:e.iconAttendants}))))),l.a.createElement(Dn.a,{item:!0,xs:12,sm:6,md:3},l.a.createElement(Ln.a,{className:e.card},l.a.createElement(Bn.a,{className:e.cardMetric},l.a.createElement("div",null,l.a.createElement(In.a,{className:e.metricValue},r.newContactsCount||0),l.a.createElement(In.a,{className:e.metricLabel},"NOVOS CONTATOS")),l.a.createElement("div",{className:e.iconWrapperContacts},l.a.createElement(Qn.a,{className:e.iconContacts}))))),l.a.createElement(Dn.a,{item:!0,xs:12,sm:6,md:3},l.a.createElement(Ln.a,{className:e.card},l.a.createElement(Bn.a,{className:e.cardMetric},l.a.createElement("div",null,l.a.createElement(In.a,{className:e.metricValue},r.receivedMessages||0,"/",r.totalMessages||0),l.a.createElement(In.a,{className:e.metricLabel},"MENSAGENS RECEBIDAS")),l.a.createElement("div",{className:e.iconWrapperMessages},l.a.createElement(zn.a,{className:e.iconMessages}))))),l.a.createElement(Dn.a,{item:!0,xs:12,sm:6,md:3},l.a.createElement(Ln.a,{className:e.card},l.a.createElement(Bn.a,{className:e.cardMetric},l.a.createElement("div",null,l.a.createElement(In.a,{className:e.metricValue},r.sentMessages||0,"/",r.totalMessages||0),l.a.createElement(In.a,{className:e.metricLabel},"MENSAGENS ENVIADAS")),l.a.createElement("div",{className:e.iconWrapperMessages},l.a.createElement(zn.a,{className:e.iconMessages}))))),l.a.createElement(Dn.a,{item:!0,xs:12,sm:6,md:3},l.a.createElement(Ln.a,{className:e.card},l.a.createElement(Bn.a,{className:e.cardMetric},l.a.createElement("div",null,l.a.createElement(In.a,{className:e.metricValue},r.avgAttendanceTime||"00h 00m"),l.a.createElement(In.a,{className:e.metricLabel},"T.M. DE ATENDIMENTO")),l.a.createElement("div",{className:e.iconWrapperTime},l.a.createElement(Hn.a,{className:e.iconTime}))))),l.a.createElement(Dn.a,{item:!0,xs:12,sm:6,md:3},l.a.createElement(Ln.a,{className:e.card},l.a.createElement(Bn.a,{className:e.cardMetric},l.a.createElement("div",null,l.a.createElement(In.a,{className:e.metricValue},r.avgWaitTime||"00h 00m"),l.a.createElement(In.a,{className:e.metricLabel},"T.M. DE ESPERA")),l.a.createElement("div",{className:e.iconWrapperTime},l.a.createElement(Hn.a,{className:e.iconTime}))))),l.a.createElement(Dn.a,{item:!0,xs:12,sm:6,md:3},l.a.createElement(Ln.a,{className:e.card},l.a.createElement(Bn.a,{className:e.cardMetric},l.a.createElement("div",null,l.a.createElement(In.a,{className:e.metricValue},r.activeTickets||0),l.a.createElement(In.a,{className:e.metricLabel},"TICKETS ATIVOS")),l.a.createElement("div",{className:e.iconWrapperInAttendance},l.a.createElement(zn.a,{className:e.iconInAttendance}))))),l.a.createElement(Dn.a,{item:!0,xs:12,sm:6,md:3},l.a.createElement(Ln.a,{className:e.card},l.a.createElement(Bn.a,{className:e.cardMetric},l.a.createElement("div",null,l.a.createElement(In.a,{className:e.metricValue},r.inactiveTickets||0),l.a.createElement(In.a,{className:e.metricLabel},"TICKETS PASSIVOS")),l.a.createElement("div",{className:e.iconWrapperWaiting},l.a.createElement(zn.a,{className:e.iconWaiting}))))),l.a.createElement(Dn.a,{item:!0,xs:12,md:8},l.a.createElement(Ln.a,{className:e.chartCard},l.a.createElement(Bn.a,null,l.a.createElement(In.a,{variant:"h6",gutterBottom:!0},"Atendimentos por Per\xedodo"),l.a.createElement(yl,null)))),l.a.createElement(Dn.a,{item:!0,xs:12,md:4},l.a.createElement(Ln.a,{className:e.chartCard},l.a.createElement(Bn.a,null,l.a.createElement(In.a,{variant:"h6",gutterBottom:!0},"Distribui\xe7\xe3o de Status"),l.a.createElement(Al,{data:[{name:"Status",value:r.supportHappyCount||0}],title:"Atendimentos",value:r.supportHappyCount||0,color:"#01a19a"}))))),"graficos"===t&&l.a.createElement(Dn.a,{container:!0,spacing:3},l.a.createElement(Dn.a,{item:!0,xs:12},l.a.createElement(Ln.a,{className:e.chartCard},l.a.createElement(Bn.a,null,l.a.createElement(In.a,{variant:"h6",gutterBottom:!0},"Desempenho por Atendente"),l.a.createElement(gl,null))))),"atendentes"===t&&l.a.createElement(Ln.a,{className:e.tableCard},l.a.createElement(Bn.a,null,l.a.createElement(In.a,{variant:"h6",gutterBottom:!0},"Status dos Atendentes"),l.a.createElement(nl,{loading:s,attendants:r.attendants||[]})))))},Ml=t(1644),Il=t(1739),jl=t(1e3),Nl=t(1611),Rl=t(1621),Fl=t(1626),Pl=t(1628),Dl=t(1629),Ll=t(1630),Bl=t(1631),Wl=t(1632),ql=t(1633),zl=t(1634),Hl=t(227),Ul=t.n(Hl),Ql=t(255),Vl=t.n(Ql),Gl=t(1624),Kl=t(1622),Yl=t(1623),Xl=t(1627),Jl=t(1610),Zl=t(1741);const _l=Object(I.a)(e=>({button:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var $l=e=>{let{loading:a,children:t,...n}=e;const o=_l();return l.a.createElement(kt.a,Object.assign({className:o.button,disabled:a},n),t,a&&l.a.createElement(It.a,{size:24,className:o.buttonProgress}))},eo=t(48),ao=t.n(eo);function to(e){let{contact:a}=e;const[t,o]=Object(n.useState)([]),[r,i]=Object(n.useState)([]),s=Object(n.useRef)(!0);Object(n.useEffect)(()=>()=>{s.current=!1},[]),Object(n.useEffect)(()=>{s.current&&d().then(()=>{Array.isArray(a.tags)?i(a.tags):i([])})},[a]);const c=async e=>{try{const{data:a}=await u.post("/tags",e);return a}catch(a){oa(a)}},d=async()=>{try{const{data:e}=await u.get("/tags/list",{params:{kanban:0}});o(e)}catch(e){oa(e)}},m=async(e,t)=>{let n=[];if("create-option"===t){if(Object(la.isArray)(e))for(let a of e){if(a.length<3)return void oa("Tag muito curta!");if(Object(la.isString)(a)){const e=await c({name:a,kanban:0,color:p()});n.push(e)}else n.push(a)}await d()}else n=e;i(n),await(async e=>{try{const{data:a}=await u.post("/tags/sync",e);return a}catch(a){oa(a)}})({contactId:a.id,tags:n})};function p(){const e=Math.floor(256*Math.random()),a=Math.floor(256*Math.random()),t=Math.floor(256*Math.random());return`#${e.toString(16).padStart(2,"0")}${a.toString(16).padStart(2,"0")}${t.toString(16).padStart(2,"0")}`}return l.a.createElement(Bt.a,{style:{padding:2}},l.a.createElement(Zl.a,{multiple:!0,size:"small",options:t,value:r,freeSolo:!0,onChange:(e,a,t)=>m(a,t),getOptionLabel:e=>e.name,renderTags:(e,a)=>e.map((e,t)=>l.a.createElement(H.a,Object.assign({variant:"outlined",style:{backgroundColor:e.color||"#eee",color:"#FFF",marginRight:1,padding:1,fontWeight:"bold",paddingLeft:5,paddingRight:5,borderRadius:3,fontSize:"0.8em",whiteSpace:"nowrap"},label:e.name},a({index:t}),{size:"small"}))),renderInput:e=>l.a.createElement(wt.a,Object.assign({},e,{variant:"outlined",placeholder:"Tags"})),PaperComponent:e=>{let{children:a}=e;return l.a.createElement(Bt.a,{style:{width:400,marginLeft:6}},a)}}))}const no=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})),lo=xt.c().shape({name:xt.e().min(2,"Too Short!").max(250,"Too Long!").required("Required"),number:xt.e().min(8,"Too Short!").max(50,"Too Long!"),email:xt.e().email("Invalid email")});var oo=e=>{let{open:a,onClose:t,contactId:o,initialValues:r,onSave:i}=e;const s=no(),c=Object(n.useRef)(!0),d={name:"",number:"",email:"",disableBot:!1,lgpdAcceptedAt:""},[m,p]=Object(n.useState)(d),[g,E]=Object(n.useState)(!1);Object(n.useEffect)(()=>()=>{c.current=!1},[]),Object(n.useEffect)(()=>{(async()=>{if(r&&p(e=>({...e,...r})),o)try{const{data:e}=await u.get("/contacts/"+o);c.current&&(p(e),E(e.disableBot))}catch(e){oa(e)}})()},[o,a,r]);const b=()=>{t(),p(d)};return l.a.createElement("div",{className:s.root},l.a.createElement(Tt.a,{open:a,onClose:b,maxWidth:"lg",scroll:"paper"},l.a.createElement(Mt.a,{id:"form-dialog-title"},o?""+aa.a.t("contactModal.title.edit"):""+aa.a.t("contactModal.title.add")),l.a.createElement(Ct.e,{initialValues:m,enableReinitialize:!0,validationSchema:lo,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{try{if(o)await u.put("/contacts/"+o,{...e,disableBot:g}),b();else{const{data:a}=await u.post("/contacts",{...e,disableBot:g});i&&i(a),b()}S.b.success(aa.a.t("contactModal.success"))}catch(a){oa(a)}})(e),a.setSubmitting(!1)},400)}},e=>{let{values:a,errors:t,touched:n,isSubmitting:r,setFieldValue:i}=e;return l.a.createElement(Ct.d,null,l.a.createElement(St.a,{dividers:!0},l.a.createElement(z.a,{variant:"subtitle1",gutterBottom:!0},aa.a.t("contactModal.form.mainInfo")),l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("contactModal.form.name"),name:"name",autoFocus:!0,error:n.name&&Boolean(t.name),helperText:n.name&&t.name,variant:"outlined",margin:"dense",className:s.textField}),l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("contactModal.form.number"),name:"number",error:n.number&&Boolean(t.number),helperText:n.number&&t.number,placeholder:"5513912344321",variant:"outlined",margin:"dense"}),l.a.createElement("div",null,l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("contactModal.form.email"),name:"email",error:n.email&&Boolean(t.email),helperText:n.email&&t.email,placeholder:"Email address",fullWidth:!0,margin:"dense",variant:"outlined"})),l.a.createElement("div",null,l.a.createElement(to,{contact:m,className:s.textField})),l.a.createElement(z.a,{style:{marginBottom:8,marginTop:12},variant:"subtitle1"},l.a.createElement(Nl.a,{size:"small",checked:g,onChange:()=>E(!g),name:"disableBot"}),aa.a.t("contactModal.form.chatBotContact")),l.a.createElement(z.a,{style:{marginBottom:8,marginTop:12},variant:"subtitle1"},aa.a.t("contactModal.form.whatsapp")," ",(null===m||void 0===m?void 0:m.whatsapp)?null===m||void 0===m?void 0:m.whatsapp.name:""),l.a.createElement(z.a,{style:{marginBottom:8,marginTop:12},variant:"subtitle1"},aa.a.t("contactModal.form.termsLGDP")," ",(null===m||void 0===m?void 0:m.lgpdAcceptedAt)?Object(Sa.a)(new Date(null===m||void 0===m?void 0:m.lgpdAcceptedAt),"dd/MM/yyyy '\xe0s' HH:mm"):""),l.a.createElement(z.a,{style:{marginBottom:8,marginTop:12},variant:"subtitle1"},aa.a.t("contactModal.form.extraInfo")),l.a.createElement(Ct.c,{name:"extraInfo"},e=>{let{push:t,remove:n}=e;return l.a.createElement(l.a.Fragment,null,a.extraInfo&&a.extraInfo.length>0&&a.extraInfo.map((e,a)=>l.a.createElement("div",{className:s.extraAttr,key:a+"-info"},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("contactModal.form.extraName"),name:`extraInfo[${a}].name`,variant:"outlined",margin:"dense",className:s.textField}),l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("contactModal.form.extraValue"),name:`extraInfo[${a}].value`,variant:"outlined",margin:"dense",className:s.textField}),l.a.createElement(D.a,{size:"small",onClick:()=>n(a)},l.a.createElement(ao.a,null)))),l.a.createElement("div",{className:s.extraAttr},l.a.createElement(kt.a,{style:{flex:1,marginTop:8},variant:"outlined",color:"primary",onClick:()=>t({name:"",value:""})},"+ "+aa.a.t("contactModal.buttons.addExtraInfo"))))})),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:b,color:"secondary",disabled:r,variant:"outlined"},aa.a.t("contactModal.buttons.cancel")),l.a.createElement(kt.a,{type:"submit",color:"primary",disabled:r,variant:"contained",className:s.btnWrapper},o?""+aa.a.t("contactModal.buttons.okEdit"):""+aa.a.t("contactModal.buttons.okAdd"),r&&l.a.createElement(It.a,{size:24,className:s.buttonProgress}))))})))},ro=t(1613),io=t(1614),so=t(1615),co=t(1600),mo=t(1612),uo=t(1756),po=t(1763),go=t(1755),Eo=t(1736);var bo=e=>{let{isOpen:a,handleClose:t,user:n,queue:o}=e;return l.a.createElement(co.a,{open:a,onClose:t},l.a.createElement(mo.a,null,aa.a.t("showTicketOpenModal.title.header")),l.a.createElement(uo.a,null,void 0!==n&&void 0!==o&&l.a.createElement(po.a,null,aa.a.t("showTicketOpenModal.form.message")," ",l.a.createElement("br",null),`${aa.a.t("showTicketOpenModal.form.user")}: ${n}`,l.a.createElement("br",null),`${aa.a.t("showTicketOpenModal.form.queue")}: ${o}`,l.a.createElement("br",null)),!n&&l.a.createElement(po.a,null,aa.a.t("showTicketOpenModal.form.messageWait")," ",l.a.createElement("br",null),o&&`${aa.a.t("showTicketOpenModal.form.queue")}: ${o}`,l.a.createElement("br",null))),l.a.createElement(go.a,null,l.a.createElement(Eo.a,{onClick:t,color:"primary"},"Fechar")))};const fo=Object(I.a)(e=>({online:{fontSize:11,color:"#25d366"},offline:{fontSize:11,color:"#e1306c"}})),ho=Object(Jl.a)({trim:!0});var Ao=e=>{var a;let{modalOpen:t,onClose:o,initialContact:r}=e;const i=fo(),[s,c]=Object(n.useState)([]),[d,m]=Object(n.useState)(null),[p,g]=Object(n.useState)(!1),[E,b]=Object(n.useState)(""),[f,h]=Object(n.useState)(null),[A,v]=Object(n.useState)(""),[y,x]=Object(n.useState)(""),[C,k]=Object(n.useState)({}),[w,T]=Object(n.useState)([]),[O,M]=Object(n.useState)(!1),{user:I}=Object(n.useContext)(ua),{companyId:j,whatsappId:N}=I,[R,F]=Object(n.useState)(!1),[P,D]=Object(n.useState)(""),[L,B]=Object(n.useState)("");Object(n.useEffect)(()=>{void 0!==(null===r||void 0===r?void 0:r.id)&&(c([r]),h(r))},[r]),Object(n.useEffect)(()=>{g(!0);const e=setTimeout(()=>{null!==N&&void 0!==N&&x(N),1===I.queues.length&&v(I.queues[0].id),(async()=>{u.get("/whatsapp",{params:{companyId:j,session:0}}).then(e=>{let{data:a}=e;return T(a)})})(),g(!1)},500);return()=>clearTimeout(e)},[f,d]),Object(n.useEffect)(()=>{if(!t||E.length<3)return void g(!1);g(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("contacts",{params:{searchParam:E}});c(e.contacts),g(!1)}catch(e){g(!1),oa(e)}})()},500);return()=>clearTimeout(e)},[E,t]);const W=e=>{switch(e){case"facebook":return l.a.createElement(ro.a,{style:{color:"#3b5998",verticalAlign:"middle"}});case"instagram":return l.a.createElement(io.a,{style:{color:"#e1306c",verticalAlign:"middle"}});case"whatsapp":return l.a.createElement(so.a,{style:{color:"#25d366",verticalAlign:"middle"}});default:return"error"}},q=()=>{o(),b(""),F(!1),D(""),B(""),h(null)},H=async e=>{if(e)if(""!==A){g(!0);try{const a=""!==A?A:null,t=""!==y?y:null,{data:n}=await u.post("/tickets",{contactId:e,queueId:a,whatsappId:t,userId:I.id,status:"open"});o(n)}catch(n){const e=JSON.parse(n.response.data.error);var a,t;if(e.userId!==(null===I||void 0===I?void 0:I.id))F(!0),D(null===e||void 0===e||null===(a=e.user)||void 0===a?void 0:a.name),B(null===e||void 0===e||null===(t=e.queue)||void 0===t?void 0:t.name);else F(!1),D(""),B(""),g(!1),o(e)}g(!1)}else S.b.error("Selecione uma fila")},U=(e,a)=>{const t=ho(e,a);return""!==a.inputValue&&!p&&E.length>=3&&t.push({name:""+a.inputValue}),t},V=e=>e.number?l.a.createElement(l.a.Fragment,null,W(e.channel),l.a.createElement(z.a,{component:"span",style:{fontSize:14,marginLeft:"10px",display:"inline-flex",alignItems:"center",lineHeight:"2"}},e.name," - ",e.number)):`${aa.a.t("newTicketModal.add")} ${e.name}`,G=e=>e.number?`${e.name} - ${e.number}`:""+e.name;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Tt.a,{open:t,onClose:q},l.a.createElement(Mt.a,{id:"form-dialog-title"},aa.a.t("newTicketModal.title")),l.a.createElement(St.a,{dividers:!0},l.a.createElement(ht.a,{style:{width:300},container:!0,spacing:2},void 0===r||void 0===r.id?l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(Zl.a,{fullWidth:!0,options:s,loading:p,clearOnBlur:!0,autoHighlight:!0,freeSolo:!0,clearOnEscape:!0,getOptionLabel:G,renderOption:V,filterOptions:U,onChange:(e,a)=>{m(a?a.channel:"whatsapp"),((e,a)=>{(null===a||void 0===a?void 0:a.number)?h(a):(null===a||void 0===a?void 0:a.name)&&(k({name:a.name}),M(!0))})(0,a)},renderInput:e=>l.a.createElement(wt.a,Object.assign({},e,{label:aa.a.t("newTicketModal.fieldLabel"),variant:"outlined",autoFocus:!0,onChange:e=>b(e.target.value),onKeyPress:e=>{!p&&f&&"Enter"===e.key&&H(f.id)},InputProps:{...e.InputProps,endAdornment:l.a.createElement(l.a.Fragment,null,p?l.a.createElement(It.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)}}))})):null,l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(jt.a,{required:!0,fullWidth:!0,displayEmpty:!0,variant:"outlined",value:A,onChange:e=>{v(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:()=>{if(""===A)return"Selecione uma fila";return I.queues.find(e=>e.id===A).name}},(null===(a=I.queues)||void 0===a?void 0:a.length)>0&&I.queues.map((e,a)=>l.a.createElement(Q.a,{dense:!0,key:a,value:e.id},l.a.createElement(ee.a,{primary:e.name}))))),l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(jt.a,{required:!0,fullWidth:!0,displayEmpty:!0,variant:"outlined",value:y,onChange:e=>{x(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:()=>{if(""===y)return"Selecione uma Conex\xe3o";const e=w.find(e=>e.id===y);return null===e||void 0===e?void 0:e.name}},(null===w||void 0===w?void 0:w.length)>0&&w.map((e,a)=>l.a.createElement(Q.a,{dense:!0,key:a,value:e.id},l.a.createElement(ee.a,{primary:l.a.createElement(l.a.Fragment,null,W(e.channel),l.a.createElement(z.a,{component:"span",style:{fontSize:14,marginLeft:"10px",display:"inline-flex",alignItems:"center",lineHeight:"2"}},e.name," \xa0 ",l.a.createElement("p",{className:"CONNECTED"===e.status?i.online:i.offline},"(",e.status,")")))}))))))),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:q,color:"secondary",disabled:p,variant:"outlined"},aa.a.t("newTicketModal.buttons.cancel")),l.a.createElement($l,{variant:"contained",type:"button",disabled:!f,onClick:()=>H(f.id),color:"primary",loading:p},aa.a.t("newTicketModal.buttons.ok"))),O&&l.a.createElement(oo,{open:O,initialValues:C,onClose:()=>{M(!1)},onSave:e=>{h(e)}}),R&&l.a.createElement(bo,{isOpen:R,handleClose:()=>{F(!1),g(!1),F(!1),D(""),B("")},user:P,queue:L})))},vo=t(547),yo=t.n(vo),xo=t(700);const Co=Object(xo.a)(e=>({tag:{padding:"1px 5px",borderRadius:"3px",fontSize:"0.8em",fontWeight:"bold",color:"#FFF",marginRight:"5px",whiteSpace:"nowrap"}}));var ko=e=>{let{tag:a}=e;const t=Co();return l.a.createElement("div",{className:t.tag,style:{backgroundColor:a.color,marginTop:"2px"}},a.name.toUpperCase())},wo=t(925),To=t.n(wo),Oo=t(926),So=t.n(Oo);var Mo=e=>{let{connectionType:a}=e;return l.a.createElement(l.a.Fragment,null,"whatsapp"===a&&l.a.createElement(ie.a,{fontSize:"small",style:{marginBottom:"-5px",color:"#25D366"}}),"instagram"===a&&l.a.createElement(To.a,{fontSize:"small",style:{marginBottom:"-5px",color:"#e1306c"}}),"facebook"===a&&l.a.createElement(So.a,{fontSize:"small",style:{marginBottom:"-5px",color:"#3b5998"}}))};const Io=Object(I.a)(e=>({autoComplete:{width:300},maxWidth:{width:"100%"},buttonColorError:{color:e.palette.error.main,borderColor:e.palette.error.main}}));var jo=e=>{let{modalOpen:a,onClose:t,ticketId:o,ticket:r}=e;const i=Object(O.useHistory)(),s=Io(),[c,d]=Object(n.useState)(""),[m,p]=Object(n.useState)(!1),{user:g}=Object(n.useContext)(ua),[E,b]=Object(n.useState)(!1),[f,h]=Object(n.useState)(""),[A,v]=Object(n.useState)(""),{tabOpen:y,setTabOpen:x}=Object(n.useContext)(et),{get:C}=ct();Object(n.useEffect)(()=>{try{1===g.queues.length&&d(g.queues[0].id)}catch(e){p(!1),oa(e)}},[c]);const k=()=>{t(),d("")},w=async e=>{p(!0);try{const a=await u.put("/tickets/"+o,{status:r.isGroup&&"whatsapp"===r.channel?"group":"open",userId:(null===g||void 0===g?void 0:g.id)||null,queueId:e});a.data.id!==r.id?a.data.userId!==(null===g||void 0===g?void 0:g.id)?(b(!0),h(a.data.user.name),v(a.data.queue.name)):(p(!1),x(a.isGroup?"group":"open"),i.push("/tickets/"+a.data.uuid)):((async e=>{var a;let t,n=!1;try{"enabled"===(await C({column:"sendGreetingAccepted"})).sendGreetingAccepted&&(n=!0)}catch(l){oa(l)}try{t=await C({column:"greetingAcceptedMessage"})}catch(l){oa(l)}if(n&&(!r.isGroup||"enabled"===(null===(a=r.whatsapp)||void 0===a?void 0:a.groupAsTicket))&&"pending"===r.status){const a={read:1,fromMe:!0,mediaUrl:"",body:""+(""+t.greetingAcceptedMessage).trim()};try{await u.post("/messages/"+e,a)}catch(l){oa(l)}}})(r.id),p(!1),x(r.isGroup?"group":"open"),i.push("/tickets/"+r.uuid),k())}catch(a){p(!1),oa(a)}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(Tt.a,{open:a,onClose:k},l.a.createElement(Mt.a,{id:"form-dialog-title"},aa.a.t("ticketsList.acceptModal.title")),l.a.createElement(St.a,{dividers:!0},l.a.createElement(Rt.a,{variant:"outlined",className:s.maxWidth},l.a.createElement(Nt.a,null,aa.a.t("ticketsList.acceptModal.queue")),l.a.createElement(jt.a,{value:c,className:s.autoComplete,onChange:e=>d(e.target.value),label:aa.a.t("ticketsList.acceptModal.queue")},l.a.createElement(Q.a,{value:""},"\xa0"),g.queues.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name))))),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:k,className:s.buttonColorError,disabled:m,variant:"outlined"},aa.a.t("ticketsList.buttons.cancel")),l.a.createElement($l,{variant:"contained",type:"button",disabled:""===c,onClick:()=>w(c),color:"primary",loading:m},aa.a.t("ticketsList.buttons.start"))),l.a.createElement(bo,{isOpen:E,handleClose:()=>{b(!1),p(!1)},user:f,queue:A})))};var No=()=>({findAll:async()=>{const{data:e}=await u.get("/queue");return e}});const Ro=Object(I.a)(e=>({on:{color:La.a[600],fontSize:"20px"},off:{color:$n.a[600],fontSize:"20px"}}));var Fo=e=>{let{user:a}=e;const t=Ro();return a.online?l.a.createElement(ne.a,{title:"Online"},l.a.createElement(qa.a,{className:t.on})):l.a.createElement(ne.a,{title:"Offline"},l.a.createElement(al.a,{className:t.off}))};const Po=Object(I.a)(e=>({maxWidth:{width:"100%"}})),Do=Object(Jl.a)({trim:!0});var Lo=e=>{let{modalOpen:a,onClose:t,ticketid:o,ticket:r}=e;const i=Object(O.useHistory)(),[s,c]=Object(n.useState)([]),[d,m]=Object(n.useState)([]),[p,g]=Object(n.useState)([]),[E,b]=Object(n.useState)(!1),[f,h]=Object(n.useState)(""),[A,v]=Object(n.useState)(null),[y,x]=Object(n.useState)(""),{findAll:C}=(Po(),No()),k=Object(n.useRef)(!0),[w,T]=Object(n.useState)("");Object(n.useEffect)(()=>()=>{k.current=!1},[]),Object(n.useEffect)(()=>{if(k.current){(async()=>{const e=await C();g(e),m(e)})()}},[]),Object(n.useEffect)(()=>{if(!a||f.length<3)return b(!1),void x("");const e=setTimeout(()=>{b(!0);(async()=>{try{const{data:e}=await u.get("/users/",{params:{searchParam:f}});c(e.users),b(!1)}catch(e){b(!1),oa(e)}})()},500);return()=>clearTimeout(e)},[f,a]);const S=()=>{t(),h(""),v(null)};return l.a.createElement(Tt.a,{open:a,onClose:S,maxWidth:"md",fullWidth:!0,scroll:"paper"},l.a.createElement(Mt.a,{id:"form-dialog-title"},aa.a.t("transferTicketModal.title")),l.a.createElement(St.a,{dividers:!0},l.a.createElement(ht.a,{container:!0,spacing:2},l.a.createElement(ht.a,{item:!0,xs:12,sm:6,xl:6},l.a.createElement(Zl.a,{fullWidth:!0,getOptionLabel:e=>""+e.name,onChange:(e,a)=>{v(a),null!=a&&Array.isArray(a.queues)?(1===a.queues.length&&x(a.queues[0].id),m(a.queues)):(m(p),x(""))},options:s,filterOptions:Do,freeSolo:!0,autoHighlight:!0,noOptionsText:aa.a.t("transferTicketModal.noOptions"),loading:E,renderOption:e=>l.a.createElement("span",null," ",l.a.createElement(Fo,{user:e})," ",e.name),renderInput:e=>l.a.createElement(wt.a,Object.assign({},e,{label:aa.a.t("transferTicketModal.fieldLabel"),variant:"outlined",autoFocus:!0,onChange:e=>h(e.target.value),InputProps:{...e.InputProps,endAdornment:l.a.createElement(l.a.Fragment,null,E?l.a.createElement(It.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)}}))})),l.a.createElement(ht.a,{xs:12,sm:6,xl:6,item:!0},l.a.createElement(Rt.a,{variant:"outlined",fullWidth:!0},l.a.createElement(Nt.a,null,aa.a.t("transferTicketModal.fieldQueueLabel")),l.a.createElement(jt.a,{value:y,onChange:e=>x(e.target.value),label:aa.a.t("transferTicketModal.fieldQueuePlaceholder")},d.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name)))))),l.a.createElement(ht.a,{container:!0,spacing:2},l.a.createElement(ht.a,{item:!0,xs:12,sm:12,xl:12},l.a.createElement(wt.a,{label:aa.a.t("transferTicketModal.msgTransfer"),value:w,onChange:e=>{T(e.target.value)},variant:"outlined",multiline:!0,maxRows:5,minRows:5,fullWidth:!0})))),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:S,color:"secondary",disabled:E,variant:"outlined"},aa.a.t("transferTicketModal.buttons.cancel")),l.a.createElement($l,{variant:"contained",type:"submit",color:"primary",loading:E,disabled:""===y,onClick:()=>(async e=>{if(o&&y&&""!==y){b(!0);try{let e={};e.userId=A?A.id:null,e.status=A?r.isGroup?"group":"open":"pending",e.queueId=y,e.msgTransfer=w||null,e.isTransfered=!0,await u.put("/tickets/"+o,e),b(!1),i.push("/tickets/"),S()}catch(a){b(!1),oa(a)}}})()},aa.a.t("transferTicketModal.buttons.ok"))))},Bo=t(1617),Wo=t(1618),qo=t(1619),zo=t(1620),Ho=t(1616);const Uo=Object(I.a)(e=>({ticket:{position:"relative"},pendingTicket:{cursor:"unset"},queueTag:{background:"#FCFCFC",color:"#000",marginRight:1,padding:1,fontWeight:"bold",borderRadius:3,fontSize:"0.5em",whiteSpace:"nowrap"},noTicketsDiv:{display:"flex",height:"100px",margin:40,flexDirection:"column",alignItems:"center",justifyContent:"center"},newMessagesCount:{justifySelf:"flex-end",textAlign:"right",position:"relative",top:0,color:"green",fontWeight:"bold",marginRight:"10px",borderRadius:0},noTicketsText:{textAlign:"center",color:"rgb(104, 121, 146)",fontSize:"14px",lineHeight:"1.4"},connectionTag:{background:"green",color:"#FFF",marginRight:1,padding:1,fontWeight:"bold",borderRadius:3,fontSize:"0.6em"},noTicketsTitle:{textAlign:"center",fontSize:"16px",fontWeight:"600",margin:"0px"},contactNameWrapper:{display:"flex",justifyContent:"space-between",marginLeft:"5px",fontWeight:"bold",color:"light"===e.mode?"black":"white"},lastMessageTime:{justifySelf:"flex-end",textAlign:"right",position:"relative",top:-30,marginRight:"1px",color:"light"===e.mode?"black":$n.a[400]},lastMessageTimeUnread:{justifySelf:"flex-end",textAlign:"right",position:"relative",top:-30,color:"green",fontWeight:"bold",marginRight:"1px"},closedBadge:{alignSelf:"center",justifySelf:"flex-end",marginRight:32,marginLeft:"auto"},contactLastMessage:{paddingRight:"0%",marginLeft:"5px",color:"light"===e.mode?"black":$n.a[400]},contactLastMessageUnread:{paddingRight:20,fontWeight:"bold",color:"light"===e.mode?"black":$n.a[400],width:"50%"},badgeStyle:{color:"white",backgroundColor:La.a[500]},acceptButton:{position:"absolute",right:"1px"},ticketQueueColor:{flex:"none",height:"100%",position:"absolute",top:"0%",left:"0%"},ticketInfo:{position:"relative",top:-13},secondaryContentSecond:{display:"flex",alignItems:"flex-start",flexWrap:"nowrap",flexDirection:"row",alignContent:"flex-start"},ticketInfo1:{position:"relative",top:13,right:0},Radiusdot:{"& .MuiBadge-badge":{borderRadius:2,position:"inherit",height:16,margin:2,padding:3},"& .MuiBadge-anchorOriginTopRightRectangle":{transform:"scale(1) translate(0%, -40%)"}},connectionIcon:{marginRight:e.spacing(1)}}));var Qo=e=>{var a,t,o,r,i,s,c;let{setTabOpen:d,ticket:m}=e;const p=Uo(),g=Object(F.a)(),E=Object(O.useHistory)(),[b,f]=Object(n.useState)(!1),[h,A]=Object(n.useState)(!1),[v,y]=Object(n.useState)(!1),[x,C]=Object(n.useState)(!1),[k,w]=Object(n.useState)(""),[T,I]=Object(n.useState)(""),{ticketId:j}=Object(O.useParams)(),P=Object(n.useRef)(!0),{setCurrentTicket:D}=Object(n.useContext)(et),{user:L}=Object(n.useContext)(ua),{get:B}=ct();Object(n.useEffect)(()=>{console.log("======== TicketListItemCustom ==========="),console.log(m),console.log("=========================================")},[m]),Object(n.useEffect)(()=>()=>{P.current=!1},[]);const W=Object(n.useCallback)(()=>{A(!0)},[]),q=(e,a)=>{if(!Object(la.isNil)(e))return e.length>a?e.substring(0,a)+"...":e},H=Object(n.useCallback)(()=>{P.current&&y(!1)},[]),U=async e=>{f(!0);try{const n=await u.put("/tickets/"+e,{status:m.isGroup&&"whatsapp"===m.channel?"group":"open",userId:null===L||void 0===L?void 0:L.id});if(n.data.id!==m.id)n.data.userId!==(null===L||void 0===L?void 0:L.id)?(C(!0),w(n.data.user.name),I(n.data.queue.name)):(f(!1),d(m.isGroup?"group":"open"),G(n.data),E.push("/tickets/"+n.uuid));else{var a;let e;try{e=await B({column:"sendGreetingAccepted"})}catch(t){oa(t)}"enabled"!==e.sendGreetingAccepted||m.isGroup&&"enabled"!==(null===(a=m.whatsapp)||void 0===a?void 0:a.groupAsTicket)||Q(m.id),P.current&&f(!1),d(m.isGroup?"group":"open"),G(m),E.push("/tickets/"+m.uuid)}}catch(t){f(!1),oa(t)}},Q=async e=>{let a;try{a=await B({column:"greetingAcceptedMessage"})}catch(n){oa(n)}const t={read:1,fromMe:!0,mediaUrl:"",body:""+(""+a.greetingAcceptedMessage).trim()};try{await u.post("/messages/"+e,t)}catch(n){oa(n)}},V=Object(n.useCallback)(()=>{C(!1),f(!1)},[]),G=e=>{const a=Object(Da.a)(),{id:t,uuid:n}=e;D({id:t,uuid:n,code:a})};return l.a.createElement(l.a.Fragment,{key:m.id},x&&l.a.createElement(bo,{isOpen:x,handleClose:V,user:k,queue:T}),h&&l.a.createElement(jo,{modalOpen:h,onClose:e=>A(!1),ticketId:m.id,ticket:m}),v&&l.a.createElement(Lo,{modalOpen:v,onClose:H,ticketid:m.id,ticket:m}),l.a.createElement(_.a,{button:!0,dense:!0,onClick:e=>{console.log("e",e);"input"===e.target.tagName.toLowerCase()&&"checkbox"===e.target.type||"svg"===e.target.tagName.toLowerCase()&&void 0===e.target.type||"path"===e.target.tagName.toLowerCase()&&void 0===e.target.type||G(m)},selected:j&&j===m.uuid,className:Object(M.a)(p.ticket,{[p.pendingTicket]:"pending"===m.status})},l.a.createElement(Ba.a,{style:{marginLeft:"-15px"}},l.a.createElement(R.a,{style:{width:"50px",height:"50px",borderRadius:"50%"},src:""+(null===m||void 0===m||null===(a=m.contact)||void 0===a?void 0:a.urlPicture)})),l.a.createElement(ee.a,{disableTypography:!0,primary:l.a.createElement("span",{className:p.contactNameWrapper},l.a.createElement(z.a,{noWrap:!0,component:"span",variant:"body2"},m.isGroup&&"whatsapp"===m.channel&&l.a.createElement(yo.a,{fontSize:"small",style:{color:$n.a[700],marginBottom:"-1px",marginLeft:"5px"}})," \xa0",m.channel&&l.a.createElement(Mo,{width:"20",height:"20",className:p.connectionIcon,connectionType:m.channel})," \xa0",q(null===(t=m.contact)||void 0===t?void 0:t.name,60))),secondary:l.a.createElement("span",{className:p.contactNameWrapper},l.a.createElement(z.a,{className:Number(m.unreadMessages)>0?p.contactLastMessageUnread:p.contactLastMessage,noWrap:!0,component:"span",variant:"body2"},m.lastMessage?l.a.createElement(l.a.Fragment,null,m.lastMessage.includes("fb.me")?l.a.createElement(Xa,null,"Clique de An\xfancio"):m.lastMessage.includes("data:image/png;base64")?l.a.createElement(Xa,null,"Localiza\xe7\xe3o"):l.a.createElement(l.a.Fragment,null," ",m.lastMessage.includes("BEGIN:VCARD")?l.a.createElement(Xa,null,"Contato"):l.a.createElement(Xa,null,q(m.lastMessage,40)))):l.a.createElement("br",null),l.a.createElement("span",{className:p.secondaryContentSecond},(null===m||void 0===m?void 0:m.whatsapp)?l.a.createElement(N.a,{className:p.connectionTag,style:{backgroundColor:"whatsapp"===m.channel?"#25D366":"facebook"===m.channel?"#4267B2":"#E1306C"}},null===(o=m.whatsapp)||void 0===o?void 0:o.name.toUpperCase()):l.a.createElement("br",null),l.a.createElement(N.a,{style:{backgroundColor:(null===(r=m.queue)||void 0===r?void 0:r.color)||"#7c7c7c"},className:p.connectionTag},m.queueId?null===(i=m.queue)||void 0===i?void 0:i.name.toUpperCase():"lgpd"===m.status?"LGPD":"SEM FILA"),(null===m||void 0===m?void 0:m.user)&&l.a.createElement(N.a,{style:{backgroundColor:"#000000"},className:p.connectionTag},null===(s=m.user)||void 0===s?void 0:s.name.toUpperCase())),l.a.createElement("span",{className:p.secondaryContentSecond},null===(c=m.tags)||void 0===c?void 0:c.map(e=>l.a.createElement(ko,{tag:e,key:`ticket-contact-tag-${m.id}-${e.id}`})))),l.a.createElement(N.a,{className:p.newMessagesCount,badgeContent:m.unreadMessages,classes:{badge:p.badgeStyle}}))}),l.a.createElement(Ho.a,null,m.lastMessage&&l.a.createElement(l.a.Fragment,null,l.a.createElement(z.a,{className:Number(m.unreadMessages)>0?p.lastMessageTimeUnread:p.lastMessageTime,component:"span",variant:"body2"},Object(Ra.a)(Object(Fa.a)(m.updatedAt),new Date)?l.a.createElement(l.a.Fragment,null,Object(Sa.a)(Object(Fa.a)(m.updatedAt),"HH:mm")):l.a.createElement(l.a.Fragment,null,Object(Sa.a)(Object(Fa.a)(m.updatedAt),"dd/MM/yyyy"))),l.a.createElement("br",null))),l.a.createElement(Ho.a,null,l.a.createElement("span",{className:p.secondaryContentSecond},"pending"===m.status&&(null===m.queueId||void 0===m.queueId)&&l.a.createElement($l,{style:{backgroundColor:"transparent",boxShadow:"none",border:"none",color:"light"===g.mode?"#0872B9":"#FFF",padding:"0px",borderRadius:"50%",right:"51px",fontSize:"0.6rem",bottom:"-30px",minWidth:"2em",width:"auto"},variant:"contained",className:p.acceptButton,size:"small",loading:b,onClick:e=>W()},l.a.createElement(ne.a,{title:""+aa.a.t("ticketsList.buttons.accept")},l.a.createElement(Bo.a,null)))),l.a.createElement("span",{className:p.secondaryContentSecond},"pending"===m.status&&null!==m.queueId&&l.a.createElement($l,{style:{backgroundColor:"transparent",boxShadow:"none",border:"none",color:"light"===g.mode?"#0872B9":"#FFF",padding:"0px",borderRadius:"50%",right:"51px",fontSize:"0.6rem",bottom:"-30px",minWidth:"2em",width:"auto"},variant:"contained",className:p.acceptButton,size:"small",loading:b,onClick:e=>U(m.id)},l.a.createElement(ne.a,{title:""+aa.a.t("ticketsList.buttons.accept")},l.a.createElement(Bo.a,null)))),l.a.createElement("span",{className:p.secondaryContentSecond1},("pending"===m.status||"open"===m.status||"group"===m.status)&&l.a.createElement($l,{style:{backgroundColor:"transparent",boxShadow:"none",border:"none",color:"light"===g.mode?"#0872B9":"#FFF",padding:"0px",borderRadius:"50%",right:"26px",position:"absolute",fontSize:"0.6rem",bottom:"-30px",minWidth:"2em",width:"auto"},variant:"contained",className:p.acceptButton,size:"small",loading:b,onClick:()=>{f(!0),y(!0),P.current&&f(!1),G(m),E.push("/tickets/"+m.uuid)}},l.a.createElement(ne.a,{title:""+aa.a.t("ticketsList.buttons.transfer")},l.a.createElement(Wo.a,null)))),l.a.createElement("span",{className:p.secondaryContentSecond},("open"===m.status||"group"===m.status)&&l.a.createElement($l,{style:{backgroundColor:"transparent",boxShadow:"none",border:"none",color:"light"===g.mode?"#0872B9":"#FFF",padding:"0px",bottom:"0px",borderRadius:"50%",right:"1px",fontSize:"0.6rem",bottom:"-30px",minWidth:"2em",width:"auto"},variant:"contained",className:p.acceptButton,size:"small",loading:b,onClick:e=>(async e=>{if("enabled"===(await B({column:"requiredTag"})).requiredTag)try{(await u.get("/contactTags/"+m.contact.id)).data.tags?(await u.put("/tickets/"+e,{status:"closed",userId:(null===L||void 0===L?void 0:L.id)||null}),P.current&&f(!1),E.push("/tickets/")):S.b.warning(aa.a.t("messagesList.header.buttons.requiredTag"))}catch(a){f(!1),oa(a)}else{f(!0);try{await u.put("/tickets/"+e,{status:"closed",userId:(null===L||void 0===L?void 0:L.id)||null})}catch(a){f(!1),oa(a)}P.current&&f(!1),E.push("/tickets/")}})(m.id)},l.a.createElement(ne.a,{title:""+aa.a.t("ticketsList.buttons.closed")},l.a.createElement(qo.a,null)))),l.a.createElement("span",{className:p.secondaryContentSecond},("pending"===m.status||"lgpd"===m.status)&&("enabled"===L.userClosePendingTicket||"admin"===L.profile)&&l.a.createElement($l,{style:{backgroundColor:"transparent",boxShadow:"none",border:"none",color:"light"===g.mode?"#0872B9":"#FFF",padding:"0px",bottom:"0px",borderRadius:"50%",right:"1px",fontSize:"0.6rem",bottom:"-30px",minWidth:"2em",width:"auto"},variant:"contained",className:p.acceptButton,size:"small",loading:b,onClick:e=>(async e=>{f(!0);try{await u.put("/tickets/"+e,{status:"closed",userId:(null===L||void 0===L?void 0:L.id)||null,sendFarewellMessage:!1,amountUsedBotQueues:0})}catch(a){f(!1),oa(a)}P.current&&f(!1),E.push("/tickets/")})(m.id)},l.a.createElement(ne.a,{title:""+aa.a.t("ticketsList.buttons.ignore")},l.a.createElement(qo.a,null)))),l.a.createElement("span",{className:p.secondaryContentSecond},"closed"===m.status&&(null===m.queueId||void 0===m.queueId)&&l.a.createElement($l,{style:{backgroundColor:"transparent",boxShadow:"none",border:"none",color:"light"===g.mode?"#0872B9":"#FFF",padding:"0px",bottom:"0px",borderRadius:"50%",right:"1px",fontSize:"0.6rem",bottom:"-30px",minWidth:"2em",width:"auto"},variant:"contained",className:p.acceptButton,size:"small",loading:b,onClick:e=>W()},l.a.createElement(ne.a,{title:""+aa.a.t("ticketsList.buttons.reopen")},l.a.createElement(zo.a,null)))),l.a.createElement("span",{className:p.secondaryContentSecond},"closed"===m.status&&null!==m.queueId&&l.a.createElement($l,{style:{backgroundColor:"transparent",boxShadow:"none",border:"none",color:"light"===g.mode?"#0872B9":"#FFF",padding:"0px",bottom:"0px",borderRadius:"50%",right:"1px",fontSize:"0.6rem",bottom:"-30px",minWidth:"2em",width:"auto"},variant:"contained",className:p.acceptButton,size:"small",loading:b,onClick:e=>U(m.id)},l.a.createElement(ne.a,{title:""+aa.a.t("ticketsList.buttons.reopen")},l.a.createElement(zo.a,null)))))))};var Vo=()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(_.a,{dense:!0},l.a.createElement(Ba.a,null,l.a.createElement(_n.a,{animation:"wave",variant:"circle",width:40,height:40})),l.a.createElement(ee.a,{primary:l.a.createElement(_n.a,{animation:"wave",height:20,width:60}),secondary:l.a.createElement(_n.a,{animation:"wave",height:20,width:90})})),l.a.createElement(B.a,{variant:"inset"}),l.a.createElement(_.a,{dense:!0},l.a.createElement(Ba.a,null,l.a.createElement(_n.a,{animation:"wave",variant:"circle",width:40,height:40})),l.a.createElement(ee.a,{primary:l.a.createElement(_n.a,{animation:"wave",height:20,width:70}),secondary:l.a.createElement(_n.a,{animation:"wave",height:20,width:120})})),l.a.createElement(B.a,{variant:"inset"}),l.a.createElement(_.a,{dense:!0},l.a.createElement(Ba.a,null,l.a.createElement(_n.a,{animation:"wave",variant:"circle",width:40,height:40})),l.a.createElement(ee.a,{primary:l.a.createElement(_n.a,{animation:"wave",height:20,width:60}),secondary:l.a.createElement(_n.a,{animation:"wave",height:20,width:90})})),l.a.createElement(B.a,{variant:"inset"}));const Go=Object(I.a)(e=>({ticketsListWrapper:{position:"relative",display:"flex",height:"100%",flexDirection:"column",overflow:"hidden",borderTopRightRadius:0,borderBottomRightRadius:0},ticketsList:{flex:1,maxHeight:"100%",overflowY:"scroll",...e.scrollbarStyles,borderTop:"2px solid rgba(0, 0, 0, 0.12)"},ticketsListHeader:{color:"rgb(67, 83, 105)",zIndex:2,backgroundColor:"white",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",display:"flex",alignItems:"center",justifyContent:"space-between"},ticketsCount:{fontWeight:"normal",color:"rgb(104, 121, 146)",marginLeft:"8px",fontSize:"14px"},noTicketsText:{textAlign:"center",color:"rgb(104, 121, 146)",fontSize:"14px",lineHeight:"1.4"},noTicketsTitle:{textAlign:"center",fontSize:"16px",fontWeight:"600",margin:"0px"},noTicketsDiv:{display:"flex",margin:40,flexDirection:"column",alignItems:"center",justifyContent:"center"}})),Ko=(e,a)=>e.updatedAt<a.updatedAt?-1:e.updatedAt>a.updatedAt?1:0,Yo=(e,a)=>e.updatedAt>a.updatedAt?-1:e.updatedAt<a.updatedAt?1:0,Xo=(e,a)=>{const t=a.sortDir;if("LOAD_TICKETS"===a.type){return a.payload.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?(e[t]=a,a.unreadMessages>0&&e.unshift(e.splice(t,1)[0])):e.push(a)}),t&&["ASC","DESC"].includes(t)&&("ASC"===t?e.sort(Ko):e.sort(Yo)),[...e]}if("RESET_UNREAD"===a.type){const n=a.payload,l=e.findIndex(e=>e.id===n);return-1!==l&&(e[l].unreadMessages=0),t&&["ASC","DESC"].includes(t)&&("ASC"===t?e.sort(Ko):e.sort(Yo)),[...e]}if("UPDATE_TICKET"===a.type){const n=a.payload,l=e.findIndex(e=>e.id===n.id);return-1!==l?e[l]=n:e.unshift(n),t&&["ASC","DESC"].includes(t)&&("ASC"===t?e.sort(Ko):e.sort(Yo)),[...e]}if("UPDATE_TICKET_UNREAD_MESSAGES"===a.type){const n=a.payload,l=e.findIndex(e=>e.id===n.id);return-1!==l?(e[l]=n,e.unshift(e.splice(l,1)[0])):a.status===a.payload.status&&e.unshift(n),t&&["ASC","DESC"].includes(t)&&("ASC"===t?e.sort(Ko):e.sort(Yo)),[...e]}if("UPDATE_TICKET_CONTACT"===a.type){const t=a.payload,n=e.findIndex(e=>e.contactId===t.id);return-1!==n&&(e[n].contact=t),[...e]}if("DELETE_TICKET"===a.type){const n=a.payload,l=e.findIndex(e=>e.id===n);return-1!==l&&e.splice(l,1),t&&["ASC","DESC"].includes(t)&&("ASC"===t?e.sort(Ko):e.sort(Yo)),[...e]}if("RESET"===a.type)return[]};var Jo=e=>{const{setTabOpen:a,status:t,searchParam:o,searchOnMessages:r,tags:i,users:s,showAll:c,selectedQueueIds:d,updateCount:m,style:u,whatsappIds:p,forceSearch:g,statusFilter:E,userFilter:b,sortTickets:f}=e,h=Go(),[A,v]=Object(n.useState)(1);let[y,x]=Object(n.useReducer)(Xo,[]);const{user:C,socket:k}=Object(n.useContext)(ua),{profile:w,queues:T}=C,O="enable"===C.allTicket,S=C.companyId;Object(n.useEffect)(()=>{x({type:"RESET"}),v(1)},[t,o,x,c,i,s,g,d,p,E,f,r]);const{tickets:M,hasMore:I,loading:j}=rt({pageNumber:A,searchParam:o,status:t,showAll:c,searchOnMessages:r?"true":"false",tags:JSON.stringify(i),users:JSON.stringify(s),queueIds:JSON.stringify(d),whatsappIds:JSON.stringify(p),statusFilter:JSON.stringify(E),userFilter:b,sortTickets:f});Object(n.useEffect)(()=>{S&&x({type:"LOAD_TICKETS",payload:M,status:t,sortDir:f})},[M]),Object(n.useEffect)(()=>{const e=e=>(!(null===e||void 0===e?void 0:e.userId)||(null===e||void 0===e?void 0:e.userId)===(null===C||void 0===C?void 0:C.id)||c)&&(!(null===e||void 0===e?void 0:e.queueId)&&O||d.indexOf(null===e||void 0===e?void 0:e.queueId)>-1),a=a=>{var n,l;("updateUnread"===a.action&&x({type:"RESET_UNREAD",payload:a.ticketId,status:t,sortDir:f}),"update"===a.action&&e(a.ticket)&&a.ticket.status===t&&x({type:"UPDATE_TICKET",payload:a.ticket,status:t,sortDir:f}),"update"===a.action&&((l=a.ticket).queueId&&-1===d.indexOf(l.queueId)))&&x({type:"DELETE_TICKET",payload:null===(n=a.ticket)||void 0===n?void 0:n.id,status:t,sortDir:f});"delete"===a.action&&x({type:"DELETE_TICKET",payload:null===a||void 0===a?void 0:a.ticketId,status:t,sortDir:f})},n=a=>{"create"===a.action&&e(a.ticket)&&a.ticket.status===t&&x({type:"UPDATE_TICKET_UNREAD_MESSAGES",payload:a.ticket,status:t,sortDir:f})},l=e=>{"update"===e.action&&e.contact&&x({type:"UPDATE_TICKET_CONTACT",payload:e.contact,status:t,sortDir:f})},o=()=>{t?k.emit("joinTickets",t):k.emit("joinNotification")};return k.on("connect",o),k.on(`company-${S}-ticket`,a),k.on(`company-${S}-appMessage`,n),k.on(`company-${S}-contact`,l),()=>{t?k.emit("leaveTickets",t):k.emit("leaveNotification"),k.off("connect",o),k.off(`company-${S}-ticket`,a),k.off(`company-${S}-appMessage`,n),k.off(`company-${S}-contact`,l)}},[t,c,C,d,i,s,w,T,f,O]),Object(n.useEffect)(()=>{"function"===typeof m&&m(y.length)},[y]);return t&&"search"!==t&&(y=y.filter(e=>e.status===t)),l.a.createElement(Bt.a,{className:h.ticketsListWrapper,style:u},l.a.createElement(Bt.a,{square:!0,name:"closed",elevation:0,className:h.ticketsList,onScroll:e=>{if(!I||j)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&v(e=>e+1)}},l.a.createElement(L.a,{style:{paddingTop:0}},0!==y.length||j?l.a.createElement(l.a.Fragment,null,y.map(e=>l.a.createElement(Qo,{ticket:e,key:e.id,setTabOpen:a}))):l.a.createElement("div",{className:h.noTicketsDiv},l.a.createElement("span",{className:h.noTicketsTitle},aa.a.t("ticketsList.noTicketsTitle")),l.a.createElement("p",{className:h.noTicketsText},aa.a.t("ticketsList.noTicketsMessage"))),j&&l.a.createElement(Vo,null))))},Zo=t(1734);const _o=Object(I.a)(e=>({menuListItem:{paddingTop:0,paddingBottom:0},menuItem:{maxHeight:30}}));var $o=e=>{let{userQueues:a,selectedQueueIds:t=[],onChange:n}=e;const o=_o();return l.a.createElement("div",{style:{width:120,marginTop:-4}},l.a.createElement(Rt.a,{fullWidth:!0,margin:"dense"},l.a.createElement(jt.a,{multiple:!0,displayEmpty:!0,variant:"outlined",value:t,onChange:e=>{n(e.target.value)},style:{borderRadius:8,height:30},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null,PaperProps:{style:{borderRadius:"0 0 8px 8px"}},MenuListProps:{className:o.menuListItem}},renderValue:()=>aa.a.t("ticketsQueueSelect.placeholder")},(null===a||void 0===a?void 0:a.length)>0&&a.map(e=>l.a.createElement(Q.a,{dense:!0,key:e.id,value:e.id,className:o.menuItem},l.a.createElement(Zo.a,{style:{color:e.color},size:"small",color:"primary",checked:t.indexOf(e.id)>-1}),l.a.createElement(ee.a,{primary:e.name,classes:{primary:o.listItemText}}))))))};function er(e){let{onFiltered:a}=e;const[t,o]=Object(n.useState)([]),[r,i]=Object(n.useState)([]);Object(n.useEffect)(()=>{!async function(){await s()}()},[]);const s=async()=>{try{const{data:e}=await u.get("/tags/list");o(e)}catch(e){oa(e)}};return l.a.createElement(Gt.a,{style:{padding:10}},l.a.createElement(Zl.a,{multiple:!0,size:"small",options:t,value:r,onChange:(e,t,n)=>(async e=>{i(e),a(e)})(t),getOptionLabel:e=>e.name,renderTags:(e,a)=>e.map((e,t)=>l.a.createElement(H.a,Object.assign({variant:"outlined",style:{backgroundColor:e.color||"#eee",textShadow:"1px 1px 1px #000",color:"white"},label:e.name},a({index:t}),{size:"small"}))),renderInput:e=>l.a.createElement(wt.a,Object.assign({},e,{variant:"outlined",placeholder:"Filtro por Tags"}))}))}function ar(e){let{onFiltered:a,initialUsers:t}=e;const[o,r]=Object(n.useState)([]),[i,s]=Object(n.useState)([]);Object(n.useEffect)(()=>{!async function(){await c()}()},[]),Object(n.useEffect)(()=>{s([]),Array.isArray(t)&&Array.isArray(o)&&o.length>0&&d(t)},[t,o]);const c=async()=>{try{const{data:e}=await u.get("/users/list"),a=e.map(e=>({id:e.id,name:e.name}));r(a)}catch(e){oa(e)}},d=async e=>{s(e),a(e)};return l.a.createElement(Gt.a,{style:{padding:"0px 10px 10px"}},l.a.createElement(Zl.a,{multiple:!0,size:"small",options:o,value:i,onChange:(e,a,t)=>d(a),getOptionLabel:e=>e.name,getOptionSelected:(e,a)=>(null===e||void 0===e?void 0:e.id)===(null===a||void 0===a?void 0:a.id)||(null===e||void 0===e?void 0:e.name.toLowerCase())===(null===a||void 0===a?void 0:a.name.toLowerCase()),renderTags:(e,a)=>e.map((e,t)=>l.a.createElement(H.a,Object.assign({variant:"outlined",style:{backgroundColor:"#bfbfbf",textShadow:"1px 1px 1px #000",color:"white"},label:e.name},a({index:t}),{size:"small"}))),renderInput:e=>l.a.createElement(wt.a,Object.assign({},e,{variant:"outlined",placeholder:aa.a.t("tickets.search.filterUsers")}))}))}function tr(e){let{onFiltered:a}=e;const[t,o]=Object(n.useState)([]);Object(n.useEffect)(()=>{!async function(){}()},[]);const r=[{status:"open",name:""+aa.a.t("tickets.search.filterConectionsOptions.open")},{status:"closed",name:""+aa.a.t("tickets.search.filterConectionsOptions.closed")},{status:"pending",name:""+aa.a.t("tickets.search.filterConectionsOptions.pending")},{status:"group",name:"Grupos"}];return l.a.createElement(Gt.a,{style:{padding:"0px 10px 10px"}},l.a.createElement(Zl.a,{multiple:!0,size:"small",options:r,value:t,onChange:(e,t,n)=>(async e=>{o(e),a(e)})(t),getOptionLabel:e=>e.name,renderTags:(e,a)=>e.map((e,t)=>l.a.createElement(H.a,Object.assign({variant:"outlined",style:{backgroundColor:e.color||"#eee",textShadow:"1px 1px 1px #000",color:"white"},label:e.name},a({index:t}),{size:"small"}))),renderInput:e=>l.a.createElement(wt.a,Object.assign({},e,{variant:"outlined",placeholder:"Filtro por Status"}))}))}function nr(e){let{onFiltered:a,initialWhatsapps:t}=e;const[o,r]=Object(n.useState)([]),[i,s]=Object(n.useState)([]);Object(n.useEffect)(()=>{!async function(){await c()}()},[]),Object(n.useEffect)(()=>{s([]),Array.isArray(t)&&Array.isArray(o)&&o.length>0&&d(t)},[t,o]);const c=async()=>{try{const{data:e}=await u.get("/whatsapp"),a=e.map(e=>({id:e.id,name:e.name,channel:e.channel}));r(a)}catch(e){oa(e)}},d=async e=>{s(e),a(e)};return l.a.createElement(Gt.a,{style:{padding:"0px 10px 10px"}},l.a.createElement(Zl.a,{multiple:!0,size:"small",options:o,value:i,onChange:(e,a,t)=>d(a),getOptionLabel:e=>e.name,getOptionSelected:(e,a)=>(null===e||void 0===e?void 0:e.id)===(null===a||void 0===a?void 0:a.id)||(null===e||void 0===e?void 0:e.name.toLowerCase())===(null===a||void 0===a?void 0:a.name.toLowerCase()),renderTags:(e,a)=>e.map((e,t)=>l.a.createElement(H.a,Object.assign({variant:"outlined",style:{backgroundColor:"#bfbfbf",textShadow:"1px 1px 1px #000",color:"white"},label:e.name},a({index:t}),{size:"small"}))),renderInput:e=>l.a.createElement(wt.a,Object.assign({},e,{variant:"outlined",placeholder:aa.a.t("tickets.search.filterConections")}))}))}var lr=t(1750);const or=Object(n.createContext)(),rr=e=>{let{children:a}=e;const[t,o]=Object(n.useState)([]);return l.a.createElement(or.Provider,{value:{selectedQueuesMessage:t,setSelectedQueuesMessage:o}},a)},ir=Object(I.a)(e=>({ticketsWrapper:{position:"relative",display:"flex",height:"100%",flexDirection:"column",overflow:"hidden",borderTopRightRadius:0,borderBottomRightRadius:0},tabsHeader:{minWidth:"auto",width:"auto",borderRadius:8,marginTop:e.spacing(.5),marginBottom:e.spacing(.5),marginLeft:e.spacing(.5),marginRight:e.spacing(.5)},settingsIcon:{alignSelf:"center",marginLeft:"auto",padding:e.spacing(1)},tab:{minWidth:"auto",width:"auto",padding:e.spacing(.5,1),borderRadius:8,transition:"0.3s",borderColor:"#aaa",borderWidth:"1px",borderStyle:"solid",marginRight:e.spacing(.5),marginLeft:e.spacing(.5),[e.breakpoints.down("lg")]:{fontSize:"0.9rem",padding:e.spacing(.4,.8),marginRight:e.spacing(.4),marginLeft:e.spacing(.4)},[e.breakpoints.down("md")]:{fontSize:"0.8rem",padding:e.spacing(.3,.6),marginRight:e.spacing(.3),marginLeft:e.spacing(.3)},"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.1)"}},tabPanelItem:{minWidth:"33%",fontSize:11,marginLeft:0},tabIndicator:{height:6,bottom:0,borderRadius:"0 0 8px 8px",backgroundColor:"light"===e.mode?e.palette.primary.main:"#FFF"},tabsBadge:{top:"105%",right:"55%",transform:"translate(45%, 0)",whiteSpace:"nowrap",borderRadius:"12px",padding:"0 8px",backgroundColor:"light"===e.mode?e.palette.primary.main:"#FFF",color:"light"===e.mode?"#FFF":e.palette.primary.main},ticketOptionsBox:{display:"flex",justifyContent:"space-between",alignItems:"center",background:e.palette.optionsBackground,borderRadius:8,borderColor:"#aaa",borderWidth:"1px",borderStyle:"solid",marginTop:e.spacing(.5),marginBottom:e.spacing(1),marginLeft:e.spacing(1),marginRight:e.spacing(1),padding:e.spacing(.5)},serachInputWrapper:{flex:1,height:40,background:e.palette.total,display:"flex",borderRadius:40,padding:4,borderColor:"#aaa",borderWidth:"1px",borderStyle:"solid",marginTop:e.spacing(.5),marginBottom:e.spacing(.5),marginLeft:e.spacing(.5),marginRight:e.spacing(.5)},searchIcon:{color:"grey",marginLeft:6,marginRight:6,alignSelf:"center"},searchInput:{flex:1,border:"none",borderRadius:30},badge:{},customBadge:{right:"-10px",backgroundColor:"#f44336",color:"#fff"},show:{display:"block"},hide:{display:"none !important"},closeAllFab:{backgroundColor:"red",marginBottom:"4px","&:hover":{backgroundColor:"darkred"}},speedDial:{position:"absolute",bottom:e.spacing(1),right:e.spacing(1),"& .MuiFab-root":{width:"40px",height:"40px",marginTop:"4px"},"& .MuiFab-label":{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},snackbar:{display:"flex",justifyContent:"space-between",backgroundColor:e.palette.primary.main,color:"white",borderRadius:30,[e.breakpoints.down("sm")]:{fontSize:"0.8em"},[e.breakpoints.up("md")]:{fontSize:"1em"}},yesButton:{backgroundColor:"#FFF",color:"rgba(0, 100, 0, 1)",padding:"4px 4px",fontSize:"1em",fontWeight:"bold",textTransform:"uppercase",marginRight:e.spacing(1),"&:hover":{backgroundColor:"darkGreen",color:"#FFF"},borderRadius:30},noButton:{backgroundColor:"#FFF",color:"rgba(139, 0, 0, 1)",padding:"4px 4px",fontSize:"1em",fontWeight:"bold",textTransform:"uppercase","&:hover":{backgroundColor:"darkRed",color:"#FFF"},borderRadius:30},filterIcon:{marginRight:6,alignSelf:"center",color:"light"===e.mode?"#0872b9":"#FFF",cursor:"pointer"},button:{height:30,width:30,border:"2px solid",borderColor:"#aaa",borderRadius:8,marginRight:8,"&:hover":{borderColor:"light"===e.mode?e.palette.primary.main:"#FFF"}},icon:{color:"#aaa","&:hover":{color:"light"===e.mode?e.palette.primary.main:"#FFF"}},buttonOpen:{"& $icon":{color:"light"===e.mode?e.palette.primary.main:"#FFF"}}}));var sr=()=>{const e=Object(F.a)(),a=ir(),t=Object(O.useHistory)(),[o,r]=Object(n.useState)(""),[i,s]=Object(n.useState)("open"),[c,d]=Object(n.useState)(!1),[m,p]=Object(n.useState)(!1),[g,E]=Object(n.useState)(!1),b=Object(n.useRef)(),[f,h]=Object(n.useState)(!1),{user:A}=Object(n.useContext)(ua),{profile:v}=A,{setSelectedQueuesMessage:y}=Object(n.useContext)(or),{tabOpen:x,setTabOpen:C}=Object(n.useContext)(et),[k,w]=Object(n.useState)(0),[T,S]=Object(n.useState)(0),[M,I]=Object(n.useState)(0),j=A.queues.map(e=>e.id),[R,P]=Object(n.useState)(j||[]),[L,B]=Object(n.useState)([]),[W,q]=Object(n.useState)([]),[H,U]=Object(n.useState)([]),[Q,V]=Object(n.useState)(!1),[G,K]=Object(n.useState)([]),[Y,X]=Object(n.useState)(!1),[J,Z]=Object(n.useState)(!1),[_,$]=Object(n.useState)(null),[ee,ae]=Object(n.useState)(!1),[te,le]=Object(n.useState)(!1),[oe,re]=Object(n.useState)(!1),[ie,se]=Object(n.useState)(!1),[ce,de]=Object(n.useState)(!1),[me,ue]=Object(n.useState)(!1),[pe,ge]=Object(n.useState)(!1);let Ee;Object(n.useEffect)(()=>{y(R)},[R]),Object(n.useEffect)(()=>{"ADMIN"!==A.profile.toUpperCase()&&"ENABLED"!==A.allUserChat.toUpperCase()||p(!1)},[]),Object(n.useEffect)(()=>{"search"===i&&b.current.focus(),V(!Q)},[i]);const be=(e,a)=>{s(a)},fe=e=>{if(x!==e)return{width:0,height:0}},he=()=>{Z(!1)},Ae=()=>{Y?(X(!1),s("open")):X(!0),s("search")},[ve,ye]=l.a.useState(!1),[xe,Ce]=l.a.useState(!1);return l.a.createElement(Bt.a,{elevation:0,variant:"outlined",className:a.ticketsWrapper},l.a.createElement(Ao,{modalOpen:c,onClose:e=>{(e=>{d(!1),void 0!==e&&void 0!==e.uuid&&t.push("/tickets/"+e.uuid)})(e)}}),l.a.createElement("div",{className:a.serachInputWrapper},l.a.createElement(Rl.a,{className:a.searchIcon}),l.a.createElement(jl.a,{className:a.searchInput,inputRef:b,placeholder:aa.a.t("tickets.search.placeholder"),type:"search",onChange:e=>{const a=e.target.value.toLowerCase();if(clearTimeout(Ee),""===a)return r(a),V(!Q),void s("open");"search"!==i&&(Ae(),s("search")),Ee=setTimeout(()=>{r(a),V(!Q)},500)}}),l.a.createElement(ne.a,{placement:"top",title:"Marque para pesquisar tamb\xe9m nos conte\xfados das mensagens (mais lento)"},l.a.createElement("div",null,l.a.createElement(Nl.a,{size:"small",checked:f,onChange:e=>{h(e.target.checked)}}))),l.a.createElement(D.a,{style:{backgroundColor:"transparent",boxShadow:"none",border:"none",borderRadius:"50%",justifyContent:"flex-end",alignItems:"center"},variant:"contained","aria-label":"filter",className:a.filterIcon,onClick:()=>{ge(e=>!e),Ae()}},pe?l.a.createElement(Kl.a,{className:a.icon}):l.a.createElement(Yl.a,{className:a.icon}))),!0===Y&&l.a.createElement(l.a.Fragment,null,l.a.createElement(er,{onFiltered:e=>{const a=e.map(e=>e.id);clearTimeout(Ee),0===a.length?V(!Q):"search"!==i&&s("search"),Ee=setTimeout(()=>{B(a),V(!Q)},500)}}),l.a.createElement(nr,{onFiltered:e=>{const a=e.map(e=>e.id);clearTimeout(Ee),0===a.length?V(!Q):"search"!==i&&s("search"),Ee=setTimeout(()=>{U(a),V(!Q)},500)}}),l.a.createElement(tr,{onFiltered:e=>{const a=e.map(e=>e.status);clearTimeout(Ee),0===a.length?V(!Q):"search"!==i&&s("search"),Ee=setTimeout(()=>{K(a),V(!Q)},500)}}),"admin"===v&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ar,{onFiltered:e=>{const a=e.map(e=>e.id);clearTimeout(Ee),0===a.length?V(!Q):"search"!==i&&s("search"),Ee=setTimeout(()=>{q(a),V(!Q)},500)}}))),l.a.createElement(Bt.a,{square:!0,elevation:0,className:a.ticketOptionsBox},l.a.createElement(ht.a,{container:!0,alignItems:"center",justifyContent:"space-between"},l.a.createElement(ht.a,{item:!0},l.a.createElement(Aa,{role:"enabled"===A.allUserChat&&"user"===A.profile?"admin":A.profile,perform:"tickets-manager:showall",yes:()=>l.a.createElement(N.a,{color:"primary",invisible:!ee||te||oe||ie||ce,badgeContent:"Todos",classes:{badge:a.tabsBadge}},l.a.createElement(Gl.a,{onMouseEnter:()=>ae(!0),onMouseLeave:()=>ae(!1),className:a.button,value:"uncheck",selected:m,onChange:()=>p(e=>!e)},m?l.a.createElement(Ul.a,{className:a.icon}):l.a.createElement(Vl.a,{className:a.icon})))}),l.a.createElement(lr.a,{open:J,onClose:he,message:aa.a.t("tickets.inbox.closedAllTickets"),ContentProps:{className:a.snackbar},action:l.a.createElement(l.a.Fragment,null,l.a.createElement(kt.a,{className:a.yesButton,size:"small",onClick:async()=>{try{const{data:e}=await u.post("/tickets/closeAll",{status:x,selectedQueueIds:R});he()}catch(e){console.log("Error: ",e)}}},aa.a.t("tickets.inbox.yes")),l.a.createElement(kt.a,{className:a.noButton,size:"small",onClick:he},aa.a.t("tickets.inbox.no")))}),l.a.createElement(N.a,{color:"primary",invisible:ee||!te||oe||ie||ce,badgeContent:aa.a.t("tickets.inbox.newTicket"),classes:{badge:a.tabsBadge}},l.a.createElement(D.a,{onMouseEnter:()=>le(!0),onMouseLeave:()=>le(!1),className:a.button,onClick:()=>{d(!0)}},l.a.createElement(Fl.a,{className:a.icon}))),"admin"===A.profile&&l.a.createElement(N.a,{color:"primary",invisible:ee||te||!oe||ie||ce,badgeContent:aa.a.t("tickets.inbox.closedAll"),classes:{badge:a.tabsBadge}},l.a.createElement(D.a,{onMouseEnter:()=>re(!0),onMouseLeave:()=>re(!1),className:a.button,onClick:()=>{Z(!0)}},l.a.createElement(Xl.a,{style:{color:"light"===e.mode?"green":"#FFF"}}))),l.a.createElement(N.a,{invisible:!("open"===i&&!ee&&!te&&!oe&&!ce&&!me)&&!ie,badgeContent:aa.a.t("tickets.inbox.open"),classes:{badge:a.tabsBadge}},l.a.createElement(D.a,{onMouseEnter:()=>{se(!0),$("open")},onMouseLeave:()=>{se(!1),$(null)},style:{height:30,width:30,border:ie||"open"===i?"light"===e.mode?"3px solid "+e.palette.primary.main:"3px solid #FFF":(e.mode,"2px solid #aaa"),borderRadius:8,marginRight:8},onClick:()=>be(0,"open")},l.a.createElement(Pl.a,{style:{color:ie||"open"===i?"light"===e.mode?e.palette.primary.main:"#FFF":"#aaa"}}))),l.a.createElement(N.a,{color:"primary",invisible:!("closed"===i&&!ee&&!te&&!oe&&!ie&&!me)&&!ce,badgeContent:aa.a.t("tickets.inbox.resolverd"),classes:{badge:a.tabsBadge}},l.a.createElement(D.a,{onMouseEnter:()=>{de(!0),$("closed")},onMouseLeave:()=>{de(!1),$(null)},style:{height:30,width:30,border:ce||"closed"===i?"light"===e.mode?"3px solid "+e.palette.primary.main:"3px solid #FFF":(e.mode,"2px solid #aaa"),borderRadius:8,marginRight:8},onClick:()=>be(0,"closed")},l.a.createElement(Dl.a,{style:{color:ce||"closed"===i?"light"===e.mode?e.palette.primary.main:"#FFF":"#aaa"}}))),"closed"!==i&&"search"!==i&&l.a.createElement(N.a,{color:"primary",invisible:!me||ee||te||oe||ie||ce,badgeContent:g?"Decrescente":"Crescente",classes:{badge:a.tabsBadge}},l.a.createElement(Gl.a,{onMouseEnter:()=>ue(!0),onMouseLeave:()=>ue(!1),className:a.button,value:"uncheck",selected:g,onChange:()=>E(e=>!e)},g?l.a.createElement(Bl.a,{style:{color:g?"light"===e.mode?e.palette.primary.main:"#FFF":"#aaa"}}):l.a.createElement(Ll.a,{style:{color:g?"light"===e.mode?e.palette.primary.main:"#FFF":"#aaa"}})))),l.a.createElement(ht.a,{item:!0},l.a.createElement($o,{selectedQueueIds:R,userQueues:null===A||void 0===A?void 0:A.queues,onChange:e=>P(e)})))),l.a.createElement(zt,{value:i,name:"open",className:a.ticketsWrapper},l.a.createElement(Wt.a,{value:x,onChange:(e,a)=>{t.push("/tickets"),C(a)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},l.a.createElement(qt.a,{label:l.a.createElement(ht.a,{container:!0,alignItems:"center",justifyContent:"center"},l.a.createElement(ht.a,{item:!0},l.a.createElement(N.a,{overlap:"rectangular",classes:{badge:a.customBadge},badgeContent:k,color:"primary"},l.a.createElement(Wl.a,{style:{fontSize:18}}))),l.a.createElement(ht.a,{item:!0},l.a.createElement(z.a,{style:{marginLeft:8,fontSize:10,fontWeight:600}},aa.a.t("ticketsList.assignedHeader")))),value:"open",name:"open",classes:{root:a.tabPanelItem}}),l.a.createElement(qt.a,{label:l.a.createElement(ht.a,{container:!0,alignItems:"center",justifyContent:"center"},l.a.createElement(ht.a,{item:!0},l.a.createElement(N.a,{overlap:"rectangular",classes:{badge:a.customBadge},badgeContent:T,color:"primary"},l.a.createElement(ql.a,{style:{fontSize:18}}))),l.a.createElement(ht.a,{item:!0},l.a.createElement(z.a,{style:{marginLeft:8,fontSize:10,fontWeight:600}},aa.a.t("ticketsList.pendingHeader")))),value:"pending",name:"pending",classes:{root:a.tabPanelItem}}),A.allowGroup&&l.a.createElement(qt.a,{label:l.a.createElement(ht.a,{container:!0,alignItems:"center",justifyContent:"center"},l.a.createElement(ht.a,{item:!0},l.a.createElement(N.a,{overlap:"rectangular",classes:{badge:a.customBadge},badgeContent:M,color:"primary"},l.a.createElement(zl.a,{style:{fontSize:18}}))),l.a.createElement(ht.a,{item:!0},l.a.createElement(z.a,{style:{marginLeft:8,fontSize:10,fontWeight:600}},aa.a.t("ticketsList.groupingHeader")))),value:"group",name:"group",classes:{root:a.tabPanelItem}})),l.a.createElement(Bt.a,{className:a.ticketsWrapper},l.a.createElement(Jo,{status:"open",showAll:m,sortTickets:g?"ASC":"DESC",selectedQueueIds:R,updateCount:e=>w(e),style:fe("open"),setTabOpen:C}),l.a.createElement(Jo,{status:"pending",selectedQueueIds:R,sortTickets:g?"ASC":"DESC",showAll:("admin"===A.profile||"enabled"===A.allUserChat)&&m,updateCount:e=>S(e),style:fe("pending"),setTabOpen:C}),A.allowGroup&&l.a.createElement(Jo,{status:"group",showAll:m,sortTickets:g?"ASC":"DESC",selectedQueueIds:R,updateCount:e=>I(e),style:fe("group"),setTabOpen:C}))),l.a.createElement(zt,{value:i,name:"closed",className:a.ticketsWrapper},l.a.createElement(Jo,{status:"closed",showAll:m,selectedQueueIds:R,setTabOpen:C})),l.a.createElement(zt,{value:i,name:"search",className:a.ticketsWrapper},"admin"===v&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Jo,{statusFilter:G,searchParam:o,showAll:m,tags:L,users:W,selectedQueueIds:R,whatsappIds:H,forceSearch:Q,searchOnMessages:f,status:"search"})),"user"===v&&l.a.createElement(Jo,{statusFilter:G,searchParam:o,showAll:!1,tags:L,selectedQueueIds:R,whatsappIds:H,forceSearch:Q,searchOnMessages:f,status:"search"})))},cr=t(548),dr=t.n(cr),mr=t(1637),ur=t(927),pr=t.n(ur);class gr{setPhoneFormatMask(e){if(!e||e.length<12)return e;const a=(""+e).replace(/\D/g,"");if(a.length<=12){const e=a.match(/^(\d{2})(\d{2})(\d{4})(\d{4})$/);return"+"+e[1]+" ("+e[2]+") "+e[3]+"-"+e[4]}if(13===a.length){const e=a.match(/^(\d{2})(\d{2})(\d{5})(\d{4})$/);return"+"+e[1]+" ("+e[2]+") "+e[3]+"-"+e[4]}return e}removeMask(e){return e.replace(/\D/g,"")}maskPhonePattern(e){return e.length<13?"\ud83c\udde7\ud83c\uddf7 (99) 9999 9999":"\ud83c\udde7\ud83c\uddf7 (99) 99999 9999"}}var Er=e=>{var a;const t=new gr,n=null===e||void 0===e?void 0:e.replace("@c.us","");return null===(a=t.setPhoneFormatMask(n))||void 0===a?void 0:a.replace("+55","\ud83c\udde7\ud83c\uddf7")},br=t(980);const fr=Object(I.a)(e=>({messageMedia:{objectFit:"cover",width:250,height:"auto",borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8}}));var hr=e=>{let{imageUrl:a}=e;const t=fr(),[o,r]=Object(n.useState)(!0),[i,s]=Object(n.useState)("");return Object(n.useEffect)(()=>{if(!a)return;(async()=>{const{data:e,headers:t}=await u.get(a,{responseType:"blob"}),n=window.URL.createObjectURL(new Blob([e],{type:t["content-type"]}));s(n),r(!1)})()},[a]),l.a.createElement(br.a,{className:t.messageMedia,smallSrcSet:o?a:i,medium:o?a:i,large:o?a:i,alt:"image",showRotate:!0})};var Ar=e=>{let{classes:a}=e;return l.a.createElement("div",{className:a.content},l.a.createElement(Bt.a,{square:!0,variant:"outlined",className:a.contactHeader},l.a.createElement(ht.a,{container:!0},l.a.createElement(ht.a,{item:!0},l.a.createElement(_n.a,{animation:"wave",variant:"circle",width:160,height:160,className:a.contactAvatar})),l.a.createElement(ht.a,{item:!0},l.a.createElement(_n.a,{animation:"wave",height:25,width:90}),l.a.createElement(_n.a,{animation:"wave",height:25,width:80}),l.a.createElement(_n.a,{animation:"wave",height:25,width:80})))),l.a.createElement(Bt.a,{square:!0,className:a.contactDetails},l.a.createElement(z.a,{variant:"subtitle1"},aa.a.t("contactDrawer.extraInfo")),l.a.createElement(Bt.a,{square:!0,variant:"outlined",className:a.contactExtraInfo},l.a.createElement(_n.a,{animation:"wave",height:20,width:60}),l.a.createElement(_n.a,{animation:"wave",height:20,width:160})),l.a.createElement(Bt.a,{square:!0,variant:"outlined",className:a.contactExtraInfo},l.a.createElement(_n.a,{animation:"wave",height:20,width:60}),l.a.createElement(_n.a,{animation:"wave",height:20,width:160})),l.a.createElement(Bt.a,{square:!0,variant:"outlined",className:a.contactExtraInfo},l.a.createElement(_n.a,{animation:"wave",height:20,width:60}),l.a.createElement(_n.a,{animation:"wave",height:20,width:160}))))},vr=t(1636);const yr=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},textCenter:{backgroundColor:"red"}})),xr=xt.c().shape({name:xt.e().min(2,"Too Short!").max(50,"Too Long!").required("Required"),number:xt.e().min(8,"Too Short!").max(50,"Too Long!"),email:xt.e().email("Invalid email")});function Cr(e){let{initialContact:a,onSave:t,onCancel:o}=e;const r=yr(),[i,s]=Object(n.useState)(a);Object(n.useEffect)(()=>{s(a)},[a]);return l.a.createElement(Ct.e,{initialValues:i,enableReinitialize:!0,validationSchema:xr,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{try{if(i.id)await u.put("/contacts/"+i.id,e);else{const{data:a}=await u.post("/contacts",e);t&&t(a)}S.b.success(aa.a.t("contactModal.success"))}catch(a){oa(a)}})(e),a.setSubmitting(!1)},400)}},e=>{let{values:a,errors:t,touched:n,isSubmitting:s}=e;return l.a.createElement(Ct.d,null,l.a.createElement(ht.a,{container:!0,spacing:1},l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("contactModal.form.name"),name:"name",autoFocus:!0,error:n.name&&Boolean(t.name),helperText:n.name&&t.name,variant:"outlined",margin:"dense",className:r.textField,fullWidth:!0})),l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("contactModal.form.number"),name:"number",error:n.number&&Boolean(t.number),helperText:n.number&&t.number,placeholder:"5513912344321",variant:"outlined",margin:"dense",fullWidth:!0})),l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("contactModal.form.email"),name:"email",error:n.email&&Boolean(t.email),helperText:n.email&&t.email,placeholder:"Email address",fullWidth:!0,margin:"dense",variant:"outlined"})),l.a.createElement(ht.a,{item:!0,xs:12,spacing:1},l.a.createElement(ht.a,{container:!0,spacing:1},l.a.createElement(ht.a,{xs:6,item:!0},l.a.createElement(kt.a,{onClick:o,color:"secondary",disabled:s,variant:"outlined",fullWidth:!0},aa.a.t("contactModal.buttons.cancel"))),l.a.createElement(ht.a,{classes:r.textCenter,xs:6,item:!0},l.a.createElement(kt.a,{type:"submit",color:"primary",disabled:s,variant:"contained",className:r.btnWrapper,fullWidth:!0},i.id?""+aa.a.t("contactModal.buttons.okEdit"):""+aa.a.t("contactModal.buttons.okAdd"),s&&l.a.createElement(It.a,{size:24,className:r.buttonProgress})))))))})}var kr=t(288),wr=t.n(kr);const Tr=Object(I.a)(e=>({inline:{width:"100%"}}));function Or(e){const{note:a,deleteItem:t,editItem:n}=e,o=Tr();return l.a.createElement(_.a,{alignItems:"flex-start"},l.a.createElement(Ba.a,null,l.a.createElement(R.a,{alt:a.user.name,src:"/static/images/avatar/1.jpg"})),l.a.createElement(ee.a,{primary:l.a.createElement(l.a.Fragment,null,l.a.createElement(z.a,{component:"span",variant:"body2",className:o.inline,color:"textPrimary"},a.note)),secondary:l.a.createElement(l.a.Fragment,null,a.user.name,", ",da()(a.createdAt).format("DD/MM/YY HH:mm"))}),l.a.createElement(Ho.a,{style:{display:"flex",flexDirection:"column"}},l.a.createElement(D.a,{onClick:()=>{t(a)},edge:"end","aria-label":"delete"},l.a.createElement(wr.a,null))))}var Sr=t(1635);const Mr=Object(xo.a)(e=>({online:{fontSize:11,color:"#25d366"},offline:{fontSize:11,color:"#e1306c"}}));var Ir=e=>{let{title:a,children:t,open:o,onClose:r,onConfirm:i,isCellPhone:s,onSave:c}=e;const d=Mr(),[m,p]=Object(n.useState)(""),[g,E]=Object(n.useState)([]),{user:b}=Object(n.useContext)(ua),{companyId:f}=b;Object(n.useEffect)(()=>{const e=setTimeout(()=>{(async()=>{u.get("/whatsapp",{params:{companyId:f,session:0}}).then(e=>{let{data:a}=e;return E(a)})})()},500);return()=>clearTimeout(e)},[o]);const h=e=>{switch(e){case"facebook":return l.a.createElement(ro.a,{style:{color:"#3b5998",verticalAlign:"middle"}});case"instagram":return l.a.createElement(Sr.a,{style:{color:"#e1306c",verticalAlign:"middle"}});case"whatsapp":return l.a.createElement(so.a,{style:{color:"#25d366",verticalAlign:"middle"}});default:return"error"}};return l.a.createElement(Tt.a,{open:o,onClose:()=>r(!1),"aria-labelledby":"confirm-dialog"},l.a.createElement(Mt.a,{id:"confirm-dialog"},a),l.a.createElement(St.a,{dividers:!0},l.a.createElement(z.a,null,t),s&&l.a.createElement(ht.a,{style:{width:300,marginTop:10},container:!0},l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(jt.a,{required:!0,fullWidth:!0,displayEmpty:!0,variant:"outlined",value:m,onChange:e=>{p(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:()=>{if(""===m)return"Selecione uma Conex\xe3o";const e=g.find(e=>e.id===m);return null===e||void 0===e?void 0:e.name}},(null===g||void 0===g?void 0:g.length)>0&&g.map((e,a)=>l.a.createElement(Q.a,{dense:!0,key:a,value:e.id},l.a.createElement(ee.a,{primary:l.a.createElement(l.a.Fragment,null,h(e.channel),l.a.createElement(z.a,{component:"span",style:{fontSize:14,marginLeft:"10px",display:"inline-flex",alignItems:"center",lineHeight:"2"}},e.name," \xa0"," ",l.a.createElement("p",{className:"CONNECTED"===e.status?d.online:d.offline},"(",e.status,")")))}))))))),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{variant:"contained",onClick:()=>r(!1),color:"default"},aa.a.t("confirmationModal.buttons.cancel")),l.a.createElement(kt.a,{variant:"contained",onClick:()=>{s&&c(m),r(!1),i()},color:"secondary"},aa.a.t("confirmationModal.buttons.confirm"))))};function jr(e){let{open:a,onClose:t,note:o,onSave:r}=e;const[i,s]=Object(n.useState)(o);return l.a.createElement(Tt.a,{open:a,onClose:t,maxWidth:"xs",fullWidth:!0},l.a.createElement(Mt.a,null,"Edit Note"),l.a.createElement(St.a,null,l.a.createElement(wt.a,{label:"Edit Note",fullWidth:!0,multiline:!0,rows:4,value:o,onChange:e=>s(e.target.value)})),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:t,color:"primary"},"Cancel"),l.a.createElement(kt.a,{onClick:()=>{r(i),t()},color:"primary"},"Save")))}var Nr=()=>({saveNote:async e=>{const{data:a}=await u.request({url:"/ticket-notes",method:"POST",data:e});return a},deleteNote:async e=>{const{data:a}=await u.request({url:"/ticket-notes/"+e,method:"DELETE"});return a},listNotes:async e=>{const{data:a}=await u.request({url:"/ticket-notes/list",method:"GET",params:e});return a}});const Rr=Object(I.a)(e=>({root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"350px"}},list:{width:"100%",maxWidth:"350px",maxHeight:"200px",backgroundColor:e.palette.background.paper,overflow:"auto"},inline:{width:"100%"}})),Fr=xt.c().shape({note:xt.e().min(2,"Too Short!").required("Required")});function Pr(e){let{ticket:a}=e;const{id:t,contactId:o}=a,r=Rr(),[i,s]=Object(n.useState)({note:""}),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)(!1),[p,g]=Object(n.useState)({}),[E,b]=Object(n.useState)([]),{saveNote:f,deleteNote:h,listNotes:A}=Nr(),[v,y]=Object(n.useState)(null);Object(n.useEffect)(()=>{!async function(){x(),await T()}()},[]);const x=()=>{s({note:""}),d(!1)},C=e=>{s({note:e.target.value})},k=async e=>{d(!0);try{await f({...e,ticketId:t,contactId:o}),await T(),s({note:""}),S.b.success("Observa\xe7\xe3o adicionada com sucesso!")}catch(a){S.b.error(a)}d(!1)},w=e=>{g(e),u(!0)},T=async()=>{d(!0);try{const e=await A({ticketId:t,contactId:o});b(e)}catch(e){S.b.error(e)}d(!1)},O=()=>E.map(e=>l.a.createElement(Or,{note:e,key:e.id,deleteItem:w,editItem:()=>(e=>{console.log(e),y(e)})(e)}));return l.a.createElement(l.a.Fragment,null,l.a.createElement(jr,{open:null!==v,onClose:()=>y(null),note:v?v.note:"",onSave:k}),l.a.createElement(Ir,{title:"Excluir Registro",open:m,onClose:u,onConfirm:async()=>{d(!0);try{await h(p.id),await T(),g({}),S.b.success("Observa\xe7\xe3o exclu\xedda com sucesso!")}catch(e){S.b.error(e)}d(!1)}},"Deseja realmente excluir este registro?"),l.a.createElement(Ct.e,{initialValues:i,enableReinitialize:!0,validationSchema:Fr,onSubmit:(e,a)=>{setTimeout(()=>{k(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,setErrors:n}=e;return l.a.createElement(Ct.d,null,l.a.createElement(ht.a,{container:!0,spacing:2},l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(Ct.b,{as:wt.a,name:"note",rows:3,label:aa.a.t("ticketOptionsMenu.appointmentsModal.textarea"),placeholder:aa.a.t("ticketOptionsMenu.appointmentsModal.placeholder"),multiline:!0,error:a.note&&Boolean(t.note),helperText:a.note&&t.note,variant:"outlined",onChange:C,fullWidth:!0})),E.length>0&&l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(L.a,{className:r.list},O())),l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(ht.a,{container:!0,spacing:2},l.a.createElement(ht.a,{xs:6,item:!0},l.a.createElement(kt.a,{onClick:()=>{s(""),n({})},color:"primary",variant:"outlined",fullWidth:!0},"Cancelar")),l.a.createElement(ht.a,{xs:6,item:!0},l.a.createElement($l,{loading:c,color:"primary",type:"submit",variant:"contained",autoFocus:!0,fullWidth:!0},"Salvar"))))))}))}const Dr=Object(I.a)(e=>({menuListItem:{paddingTop:0,paddingBottom:0,border:"none"},menuItem:{maxHeight:30},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2}}));function Lr(e){let{ticket:a}=e;Dr();const[t,o]=Object(n.useState)([]),[r,i]=Object(n.useState)("");Object(n.useEffect)(()=>{let e=!0;return s(e).then(()=>{a.tags&&a.tags.length>0&&i(a.tags[0].id)}),()=>{e=!1}},[a.tags]);const s=async e=>{try{const{data:a}=await u.get("/tags/list",{params:{kanban:1}});e&&o(a)}catch(a){oa(a)}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(Rt.a,{fullWidth:!0,margin:"dense",variant:"outlined"},l.a.createElement(Nt.a,{id:"tag-kanban-id"},aa.a.t("Etapa Kanban")),l.a.createElement(jt.a,{labelWidth:60,value:r,labelId:"tag-kanban-id",label:aa.a.t("Etapa Kanban"),onChange:async e=>{const t=e.target.value;a.tags.length>0&&await u.delete("/ticket-tags/"+a.id),null!==t&&await u.put(`/ticket-tags/${a.id}/${t}`),i(t)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:()=>{const e=t.find(e=>e.id===r);return e?l.a.createElement(H.a,{style:{backgroundColor:e.color,color:"#FFF",marginRight:1,padding:1,fontWeight:"bold",paddingLeft:5,paddingRight:5,borderRadius:3,fontSize:"0.8em",whiteSpace:"nowrap"},label:e.name,size:"small"}):null}},l.a.createElement(Q.a,{value:null},"\xa0"),t.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name)))))}const Br=Object(I.a)(e=>({drawer:{width:320,flexShrink:0},drawerPaper:{width:320,display:"flex",borderTop:"1px solid rgba(0, 0, 0, 0.12)",borderRight:"1px solid rgba(0, 0, 0, 0.12)",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",borderTopRightRadius:4,borderBottomRightRadius:4},header:{display:"flex",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",backgroundColor:e.palette.inputBackground,alignItems:"center",padding:e.spacing(0,1),minHeight:"50px",justifyContent:"flex-start"},content:{display:"flex",backgroundColor:e.palette.inputBackground,flexDirection:"column",padding:"8px 0px 8px 8px",height:"100%",justifyContent:"center",overflowY:"scroll",...e.scrollbarStyles},contactAvatar:{margin:15,width:160,height:160,borderRadius:10},contactHeader:{display:"flex",padding:8,flexDirection:"column",alignItems:"center",justifyContent:"center","& > *":{margin:4}},contactDetails:{marginTop:8,padding:8,display:"flex",flexDirection:"column"},contactExtraInfo:{marginTop:4,padding:6}}));var Wr=e=>{var a;let{open:t,handleDrawerClose:o,contact:r,ticket:i,loading:s}=e;const c=Br(),[d,m]=Object(n.useState)(!1),[p,g]=Object(n.useState)(r.active),[E,b]=Object(n.useState)(!1),{get:f}=ct(),[h,A]=Object(n.useState)(!1),{user:v}=Object(n.useContext)(ua),[y,x]=Object(n.useState)(r.acceptAudioMessage);Object(n.useEffect)(()=>{!async function(){"enabled"===await f({column:"lgpdHideNumber"})&&A(!0)}()},[]),Object(n.useEffect)(()=>{b(!1)},[t,r]);return s?null:l.a.createElement(l.a.Fragment,null,l.a.createElement(P.a,{className:c.drawer,variant:"persistent",anchor:"right",open:t,PaperProps:{style:{position:"absolute"}},BackdropProps:{style:{position:"absolute"}},ModalProps:{container:document.getElementById("drawer-container"),style:{position:"absolute"}},classes:{paper:c.drawerPaper}},l.a.createElement("div",{className:c.header},l.a.createElement(D.a,{onClick:o},l.a.createElement(dr.a,null)),l.a.createElement(z.a,{style:{justifySelf:"center"}},aa.a.t("contactDrawer.header"))),l.a.createElement("div",null,s?l.a.createElement("br",null):l.a.createElement(l.a.Fragment,null,l.a.createElement(z.a,{style:{marginBottom:8,marginTop:12},variant:"subtitle1"},l.a.createElement(Nl.a,{size:"small",checked:y,onChange:()=>(async()=>{try{const e=await u.put("/contacts/toggleAcceptAudio/"+i.contact.id);x(e.data.acceptAudioMessage)}catch(e){oa(e)}})(),name:"disableBot",color:"primary"}),aa.a.t("ticketOptionsMenu.acceptAudioMessage")))),s?l.a.createElement(Ar,{classes:c}):l.a.createElement("div",{className:c.content},l.a.createElement(Bt.a,{square:!0,variant:"outlined",className:c.contactHeader},l.a.createElement(hr,{imageUrl:null===r||void 0===r?void 0:r.urlPicture}),l.a.createElement(vr.a,{onClick:()=>{},style:{cursor:"pointer",width:"100%"},titleTypographyProps:{noWrap:!0},subheaderTypographyProps:{noWrap:!0},title:l.a.createElement(l.a.Fragment,null,l.a.createElement(z.a,{onClick:()=>b(!0)},r.name,l.a.createElement(pr.a,{style:{fontSize:16,marginLeft:5}}))),subheader:l.a.createElement(l.a.Fragment,null,l.a.createElement(z.a,{style:{fontSize:12}},h&&"user"===v.profile?Er(r.number).slice(0,-6)+"**-**"+r.number.slice(-2):Er(r.number)),l.a.createElement(z.a,{style:{color:"primary",fontSize:12}},l.a.createElement(mr.a,{href:"mailto:"+r.email},r.email)))}),l.a.createElement(kt.a,{variant:"outlined",color:"primary",onClick:()=>m(!E),style:{fontSize:12}},aa.a.t("contactDrawer.buttons.edit")),l.a.createElement(kt.a,{variant:"outlined",color:"secondary",onClick:()=>r.active?(async e=>{try{await u.put("/contacts/block/"+e,{active:!1}),S.b.success("Contato bloqueado")}catch(a){oa(a)}g(!0)})(r.id):(async e=>{try{await u.put("/contacts/block/"+e,{active:!0}),S.b.success("Contato desbloqueado")}catch(a){oa(a)}g(!1)})(r.id),disabled:s},r.active?"Bloquear contato":"Desbloquear contato"),r.id&&E&&l.a.createElement(Cr,{initialContact:r,onCancel:()=>b(!1)})),l.a.createElement(Lr,{ticket:i,className:c.contactTags}),l.a.createElement(Bt.a,{square:!0,variant:"outlined",className:c.contactDetails},l.a.createElement(z.a,{variant:"subtitle1",style:{marginBottom:10}},aa.a.t("ticketOptionsMenu.appointmentsModal.title")),l.a.createElement(Pr,{ticket:i})),l.a.createElement(Bt.a,{square:!0,variant:"outlined",className:c.contactDetails},l.a.createElement(oo,{open:d,onClose:()=>m(!1),contactId:r.id}),l.a.createElement(z.a,{variant:"subtitle1"},aa.a.t("contactDrawer.extraInfo")),null===r||void 0===r||null===(a=r.extraInfo)||void 0===a?void 0:a.map(e=>l.a.createElement(Bt.a,{key:e.id,square:!0,variant:"outlined",className:c.contactExtraInfo},l.a.createElement(Nt.a,null,e.name),l.a.createElement(z.a,{component:"div",noWrap:!0,style:{paddingTop:2}},l.a.createElement(Xa,null,e.value))))))))},qr=(t(1306),t(975)),zr=t(1625),Hr=t(1646),Ur=t(575),Qr=t(574),Vr=t(1643),Gr=t(1645),Kr=t(1647),Yr=t(1649),Xr=t(1650),Jr=t(1651),Zr=t(1652),_r=t(1653),$r=t(1654),ei=t(1655),ai=t(1640),ti=t(1656),ni=t(1657),li=t(427),oi=t.n(li),ri=t(929),ii=t.n(ri),si=t(1648),ci=t(928),di=t.n(ci);const mi=Object(n.createContext)(),ui=e=>{let{children:a}=e;const[t,o]=Object(n.useState)(null);return l.a.createElement(mi.Provider,{value:{replyingMessage:t,setReplyingMessage:o}},a)},pi=Object(I.a)(e=>({timerBox:{display:"flex",marginLeft:10,marginRight:10,alignItems:"center"}}));var gi=()=>{const e=pi(),[a,t]=Object(n.useState)({minutes:0,seconds:0});Object(n.useEffect)(()=>{const e=setInterval(()=>t(e=>59===e.seconds?{...e,minutes:e.minutes+1,seconds:0}:{...e,seconds:e.seconds+1}),1e3);return()=>{clearInterval(e)}},[]);const o=e=>e<10?"0"+e:e;return l.a.createElement("div",{className:e.timerBox},l.a.createElement("span",null,`${o(a.minutes)}:${o(a.seconds)}`))};var Ei=()=>({save:async e=>{const{data:a}=await u.request({url:"/quick-messages",method:"POST",data:e});return a},update:async e=>{const{data:a}=await u.request({url:"/quick-messages/"+e.id,method:"PUT",data:e});return a},deleteRecord:async e=>{const{data:a}=await u.request({url:"/quick-messages/"+e,method:"DELETE"});return a},list:async e=>{const{data:a}=await u.request({url:"/quick-messages/list",method:"GET",params:e});return a}});const bi=Object(I.a)(e=>({online:{fontSize:11,color:"#25d366"},offline:{fontSize:11,color:"#e1306c"}})),fi=Object(Jl.a)({trim:!0});var hi=e=>{let{modalOpen:a,onClose:t}=e;bi();const[o,r]=Object(n.useState)([]),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(""),[m,p]=Object(n.useState)(null),[g,E]=Object(n.useState)({}),[b,f]=Object(n.useState)(!1),{user:h,socket:A}=Object(n.useContext)(ua),{companyId:v,whatsappId:y}=h;Object(n.useEffect)(()=>{if(!a||c.length<3)return void s(!1);s(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("contacts",{params:{searchParam:c,channel:"whatsapp",isGroup:"false"}});r(e.contacts),s(!1)}catch(e){s(!1),oa(e)}})()},500);return()=>clearTimeout(e)},[c,a]);const x=()=>{t(),d(""),p(null)},C=async e=>{if(e){s(!0);try{t(e)}catch(a){}s(!1)}},k=(e,a)=>{const t=fi(e,a);return""!==a.inputValue&&!i&&c.length>=3&&t.push({name:""+a.inputValue}),t},w=e=>e.number?l.a.createElement(l.a.Fragment,null,l.a.createElement(z.a,{component:"span",style:{fontSize:14,marginLeft:"10px",display:"inline-flex",alignItems:"center",lineHeight:"2"}},e.name," - ",e.number)):`${aa.a.t("SendContactModal.add")} ${e.name}`,T=e=>e.number?`${e.name} - ${e.number}`:""+e.name;return l.a.createElement(l.a.Fragment,null,l.a.createElement(oo,{open:b,initialValues:g,onClose:()=>{f(!1)},onSave:e=>{C(e)}}),l.a.createElement(Tt.a,{open:a,onClose:x},l.a.createElement(Mt.a,{id:"form-dialog-title"},aa.a.t("SendContactModal.title")),l.a.createElement(St.a,{dividers:!0},l.a.createElement(ht.a,{style:{width:300},container:!0,spacing:2},l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(Zl.a,{fullWidth:!0,options:o,loading:i,clearOnBlur:!0,autoHighlight:!0,freeSolo:!0,clearOnEscape:!0,getOptionLabel:T,renderOption:w,filterOptions:k,onChange:(e,a)=>((e,a)=>{(null===a||void 0===a?void 0:a.number)?p(a):(null===a||void 0===a?void 0:a.name)&&(E({name:a.name}),f(!0))})(0,a),renderInput:e=>l.a.createElement(wt.a,Object.assign({},e,{label:aa.a.t("SendContactModal.fieldLabel"),variant:"outlined",autoFocus:!0,onChange:e=>d(e.target.value),onKeyPress:e=>{!i&&m&&"Enter"===e.key&&C(m)},InputProps:{...e.InputProps,endAdornment:l.a.createElement(l.a.Fragment,null,i?l.a.createElement(It.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)}}))})))),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:x,color:"secondary",disabled:i,variant:"outlined"},aa.a.t("SendContactModal.buttons.cancel")),l.a.createElement($l,{variant:"contained",type:"button",disabled:!m,onClick:()=>C(m),color:"primary",loading:i},aa.a.t("SendContactModal.buttons.ok")))))},Ai=t(686),vi=t.n(Ai),yi=t(687),xi=t.n(yi);t(1315);vi.a.setAppElement("#root");const Ci={overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"},content:{width:"80%",height:"70%",maxWidth:"780px",maxHeight:"85vh",top:"50%",left:"50%",transform:"translate(-50%, -50%)",borderRadius:"8px",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)",border:"none",padding:"0",background:"none",display:"flex",flexDirection:"column",alignItems:"center"}};var ki=e=>{let{isOpen:a,onRequestClose:t,onCapture:o}=e;const[r,i]=Object(n.useState)(null);return l.a.createElement(vi.a,{isOpen:a,onRequestClose:t,style:Ci},l.a.createElement("div",{style:{flex:1}},l.a.createElement(xi.a,{onTakePhoto:e=>{i(e)},idealFacingMode:yi.FACING_MODES.ENVIRONMENT,isImageMirror:!1,style:Ci})),r&&(fetch(r).then(e=>e.blob()).then(e=>{o(e)}),i(null),void t()))};const wi=Object(I.a)(e=>({formControl:{marginBottom:e.spacing(2),minWidth:300},inputFile:{display:"none"},buttonFile:{marginBottom:e.spacing(2)},dialogTitleWrapper:{position:"relative"},primaryBar:{position:"absolute",top:0,left:0,right:0,height:"100%",backgroundColor:e.palette.primary.main,zIndex:1},dialogTitle:{position:"relative",zIndex:2,color:"white"}}));var Ti=e=>{let{modalOpen:a,onClose:t,ticketId:o}=e;const r=wi(),i=Object(n.useRef)(!0),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(""),[p,g]=Object(n.useState)([{option:""}]),[E,b]=Object(n.useState)(""),[f,h]=Object(n.useState)(""),[A,v]=Object(n.useState)(""),[y,x]=Object(n.useState)(""),[C,k]=Object(n.useState)(""),[w,T]=Object(n.useState)(""),[O,S]=Object(n.useState)(""),[M,I]=Object(n.useState)(""),[j,N]=Object(n.useState)(""),[R,F]=Object(n.useState)(""),[P,D]=Object(n.useState)(""),L=()=>{g([...p,{option:""}])},B=e=>{const a=e.target.files[0];if(a){const e=new FileReader;e.onloadend=()=>{S(e.result)},e.readAsDataURL(a)}},W=async()=>{console.log("createMessage chamada");try{if("Lista"===d)await(async(e,a,t,n)=>{if(c(!0),!n||isNaN(n))return console.error("ID do Ticket inv\xe1lido:",n),oa("ID do Ticket inv\xe1lido."),void c(!1);try{const l={title:e+"\n",text:a+"\n",buttonText:"Clique aqui",sections:[{title:e||"Op\xe7\xf5es",rows:t.map((e,a)=>({title:e.option,rowId:(a+1).toString()}))}]};i.current&&await u.post("/messages/lista/"+n,l)}catch(l){oa(l)}finally{i.current&&c(!1)}})(E,f,p,o);else if("Copia"===d)await(async(e,a,t,n,l,o)=>{if(c(!0),!o||isNaN(o))return console.error("ID do Ticket inv\xe1lido:",o),oa("ID do Ticket inv\xe1lido."),void c(!1);try{const r={image:l?l.replace(/^data:image\/[a-zA-Z]+;base64,/,""):"",title:e,description:a,buttonText:t,copyText:n};console.log("PAYLOAD:",r),i.current&&await u.post("/messages/copy/"+o,r)}catch(r){oa(r)}finally{i.current&&c(!1)}})(E,f,A,y,O,o);else if("Me Ligue"===d)await(async(e,a,t,n,l,o)=>{if(c(!0),!o||isNaN(o))return console.error("ID do Ticket inv\xe1lido:",o),oa("ID do Ticket inv\xe1lido."),void c(!1);try{const r={image:l?l.replace(/^data:image\/[a-zA-Z]+;base64,/,""):"",title:e,description:a,buttonText:t,copyText:n};i.current&&await u.post("/messages/call/"+o,r)}catch(r){oa(r)}finally{i.current&&c(!1)}})(E,f,A,C,O,o);else if("URL"===d)await(async(e,a,t,n,l,o)=>{if(c(!0),!o||isNaN(o))return console.error("ID do Ticket inv\xe1lido:",o),oa("ID do Ticket inv\xe1lido."),void c(!1);try{const r={image:l?l.replace(/^data:image\/[a-zA-Z]+;base64,/,""):"",title:e||"Bot\xe3o copiar",description:a||"Muito legal esses bot\xf5es",buttonText:t||"Bot\xe3o copiar",copyText:n||"Texto padr\xe3o para copiar"};i.current&&await u.post("/messages/URL/"+o,r)}catch(r){oa(r)}finally{i.current&&c(!1)}})(E,f,A,w,O,o);else{if("PIX"!==d){return void console.error("Op\xe7\xe3o n\xe3o selecionada ou mensagem n\xe3o gerada.")}await(async(e,a,t,n,l,o)=>{c(!0);try{"PHONE"!==t||l.startsWith("+55")||(l="+55"+l);const r={title:e,sendvalue:a,sendkey_type:t,sendmerchant_name:n,sendKey:l};i.current&&await u.post("/messages/PIX/"+o,r)}catch(r){oa(r)}finally{i.current&&c(!1)}})(E,R,j,P,M,o)}t()}catch(e){oa("Erro ao processar a mensagem")}};return l.a.createElement(Tt.a,{open:a,onClose:t,maxWidth:"sm",fullWidth:!0},l.a.createElement("div",{className:r.dialogTitleWrapper},l.a.createElement("div",{className:r.primaryBar}),l.a.createElement(Mt.a,{className:r.dialogTitle},"Selecione uma op\xe7\xe3o")),l.a.createElement(St.a,null,l.a.createElement(jt.a,{fullWidth:!0,className:r.formControl,value:d,onChange:e=>{m(e.target.value)},displayEmpty:!0},l.a.createElement(Q.a,{value:"",disabled:!0},"Selecione"),l.a.createElement(Q.a,{value:"Lista"},"Lista"),l.a.createElement(Q.a,{value:"URL"},"URL"),l.a.createElement(Q.a,{value:"Copia"},"Copiar"),l.a.createElement(Q.a,{value:"Me Ligue"},"Me Ligue"),l.a.createElement(Q.a,{value:"PIX"},"PIX")),(()=>{switch(d){case"Lista":return l.a.createElement(ht.a,{container:!0,spacing:2},l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(wt.a,{fullWidth:!0,label:"T\xedtulo",variant:"outlined",value:E,onChange:e=>b(e.target.value)})),l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(wt.a,{fullWidth:!0,label:"Descri\xe7\xe3o",variant:"outlined",multiline:!0,rows:5,value:f,onChange:e=>h(e.target.value)})),l.a.createElement(ht.a,{item:!0,xs:12},p.map((e,a)=>l.a.createElement(ht.a,{container:!0,key:a,spacing:1,alignItems:"center"},l.a.createElement(ht.a,{item:!0,xs:10},l.a.createElement(wt.a,{fullWidth:!0,label:"Op\xe7\xe3o "+(a+1),value:e.option,onChange:e=>((e,a)=>{const t=[...p];t[e].option=a.target.value,g(t)})(a,e),variant:"outlined",style:{marginBottom:"8px"}})),l.a.createElement(ht.a,{item:!0,xs:2},l.a.createElement(kt.a,{variant:"contained",color:"secondary",onClick:()=>(e=>{g(a=>a.filter((a,t)=>t!==e))})(a)},"X")))),l.a.createElement(kt.a,{onClick:L,color:"primary"},"Adicionar nova op\xe7\xe3o")));case"URL":return l.a.createElement(ht.a,{container:!0,spacing:2},l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement("input",{accept:"image/*",className:r.inputFile,id:"input-file",type:"file",onChange:B}),l.a.createElement("label",{htmlFor:"input-file"},l.a.createElement(kt.a,{variant:"contained",color:"primary",component:"span",className:r.buttonFile},"Imagem"))),l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(wt.a,{fullWidth:!0,label:"T\xedtulo",variant:"outlined",value:E,onChange:e=>b(e.target.value)})),l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(wt.a,{fullWidth:!0,label:"Mensagem",variant:"outlined",multiline:!0,rows:5,value:f,onChange:e=>h(e.target.value)})),l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(wt.a,{fullWidth:!0,label:"Texto do bot\xe3o",variant:"outlined",value:A,onChange:e=>v(e.target.value)})),l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(wt.a,{fullWidth:!0,label:"URL",variant:"outlined",value:w,onChange:e=>T(e.target.value)})));case"Copia":return l.a.createElement(ht.a,{container:!0,spacing:2},l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement("input",{accept:"image/*",className:r.inputFile,id:"input-file",type:"file",onChange:B}),l.a.createElement("label",{htmlFor:"input-file"}," ",l.a.createElement(kt.a,{variant:"contained",color:"primary",component:"span",className:r.buttonFile},"Imagem"))),l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(wt.a,{fullWidth:!0,label:"T\xedtulo",variant:"outlined",value:E,onChange:e=>b(e.target.value)})),l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(wt.a,{fullWidth:!0,label:"Mensagem",variant:"outlined",multiline:!0,rows:5,value:f,onChange:e=>h(e.target.value)})),l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(wt.a,{fullWidth:!0,label:"Texto do bot\xe3o",variant:"outlined",value:A,onChange:e=>v(e.target.value)})),l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(wt.a,{fullWidth:!0,label:"Texto para copiar",variant:"outlined",multiline:!0,rows:4,value:y,onChange:e=>x(e.target.value)})));case"Me Ligue":return l.a.createElement(ht.a,{container:!0,spacing:2},l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement("input",{accept:"image/*",className:r.inputFile,id:"input-file",type:"file",onChange:B}),l.a.createElement("label",{htmlFor:"input-file"},l.a.createElement(kt.a,{variant:"contained",color:"primary",component:"span",className:r.buttonFile},"Imagem"))),l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(wt.a,{fullWidth:!0,label:"T\xedtulo",variant:"outlined",value:E,onChange:e=>b(e.target.value)})),l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(wt.a,{fullWidth:!0,label:"Mensagem",variant:"outlined",multiline:!0,rows:5,value:f,onChange:e=>h(e.target.value)})),l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(wt.a,{fullWidth:!0,label:"Texto do bot\xe3o",variant:"outlined",value:A,onChange:e=>v(e.target.value)})),l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(wt.a,{fullWidth:!0,label:"Telefone",variant:"outlined",defaultValue:"5511999999999",value:C,onChange:e=>k(e.target.value)})));case"PIX":return l.a.createElement(ht.a,{container:!0,spacing:2},l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(wt.a,{fullWidth:!0,label:"T\xedtulo",variant:"outlined",value:E,onChange:e=>b(e.target.value)})),l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(wt.a,{fullWidth:!0,label:"Valor",variant:"outlined",value:R,onChange:e=>F(e.target.value)})),l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(jt.a,{fullWidth:!0,className:r.formControl,value:j,onChange:e=>N(e.target.value),displayEmpty:!0},l.a.createElement(Q.a,{value:"",disabled:!0},"Tipo de Chave"),l.a.createElement(Q.a,{value:"CNPJ"},"CNPJ"),l.a.createElement(Q.a,{value:"CPF"},"CPF"),l.a.createElement(Q.a,{value:"PHONE"},"Telefone"),l.a.createElement(Q.a,{value:"EMAIL"},"E-mail"),l.a.createElement(Q.a,{value:"EVP"},"Chave Aleat\xf3ria"))),l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(wt.a,{fullWidth:!0,label:"Nome",variant:"outlined",value:P,onChange:e=>D(e.target.value)})),l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(wt.a,{fullWidth:!0,label:"Chave PIX",variant:"outlined",value:M,onChange:e=>I(e.target.value)})));default:return null}})()),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:t,color:"secondary"},"Cancelar"),l.a.createElement(kt.a,{color:"primary",onClick:()=>W()},"Confirmar")))};const Oi=Object(n.createContext)(),Si=e=>{let{children:a}=e;const[t,o]=Object(n.useState)(!1),[r,i]=Object(n.useState)([]),[s,c]=Object(n.useState)(!1);return l.a.createElement(Oi.Provider,{value:{showSelectMessageCheckbox:t,setShowSelectMessageCheckbox:o,selectedMessages:r,setSelectedMessages:i,forwardMessageModalOpen:s,setForwardMessageModalOpen:c}},a)};var Mi=t(1638),Ii=t(1639),ji=t(1641);var Ni=e=>{let{url:a}=e;const t=Object(n.useRef)(null),[o,r]=Object(n.useState)(parseFloat(localStorage.getItem("audioMessageRate")||"1")),[i,s]=Object(n.useState)(!1),c=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;Object(n.useEffect)(()=>{t.current.playbackRate=o,localStorage.setItem("audioMessageRate",o)},[o]),Object(n.useEffect)(()=>{t.current.onplaying=()=>{s(!0)},t.current.onpause=()=>{s(!1)},t.current.onended=()=>{s(!1)}},[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("audio",{ref:t,controls:!0},(()=>{let e=a;return c&&(e=e.replace(".ogg",".mp3")),l.a.createElement("source",{src:e,type:c?"audio/mp3":"audio/ogg"})})()),i&&l.a.createElement(kt.a,{style:{marginLeft:"5px",marginTop:"-45px"},onClick:()=>{let e=null;switch(o){case.5:e=1;break;case 1:e=1.5;break;case 1.5:e=2;break;case 2:e=.5;break;default:e=1}r(e)}},o,"x"))},Ri=t(437);Ri.c.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${Ri.c.version}/pdf.worker.min.js`;const Fi=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},modal:{background:e.palette.background.default},messageInputWrapperPrivate:{padding:6,marginRight:7,background:e.palette.background.paper,display:"flex",borderRadius:20,flex:1,position:"relative"},buttonEnable:{color:"light"===e.mode?"grey":"#eee"},buttonDisable:{color:$n.a[400]}}));var Pi=e=>{let{isOpen:a,files:t,onClose:o,onSend:r,onCancelSelection:i}=e;const s=Fi(),[c,d]=Object(n.useState)(0),[m,u]=Object(n.useState)(t.map(()=>"")),[p,g]=l.a.useState(null),[E,b]=Object(n.useState)(!1),[f,h]=Object(n.useState)(!1),[A,v]=Object(n.useState)(!1);Object(n.useEffect)(()=>{v(!0),b(!0)},[]);const y=e=>{let{numPages:a}=e;g(a)},x=()=>{c>0&&(v(!0),d(c-1))},C=()=>{c<t.length-1&&(v(!0),d(c+1))},k=()=>{const e=t.map((e,a)=>({file:e,caption:m[a]}));r(e),o()},w=Object(n.useMemo)(()=>{if(!E)return null;if(A){const e=t[c];return e.type.startsWith("image")?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"400px"},className:s.modal},l.a.createElement("img",{alt:"Imagem "+(c+1),src:URL.createObjectURL(e),style:{maxWidth:"600px",maxHeight:"400px"}})),l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},className:s.modal},l.a.createElement(In.a,{variant:"h6"},e.name))):"application/pdf"===e.type?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"400px"},className:s.modal},l.a.createElement(Ri.a,{file:URL.createObjectURL(e),onLoadSuccess:y},l.a.createElement(Ri.b,{pageNumber:1,width:200,height:300}))),l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},className:s.modal},l.a.createElement(In.a,{variant:"h6"},e.name))):e.type.startsWith("video")?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"400px"},className:s.modal},l.a.createElement("video",{src:URL.createObjectURL(e),controls:!0,volume:localStorage.getItem("volume"),style:{maxWidth:"600px",maxHeight:"400px"}})),l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},className:s.modal},l.a.createElement(In.a,{variant:"h6"},e.name))):e.type.startsWith("audio")?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"400px"},className:s.modal},l.a.createElement(Ni,{url:URL.createObjectURL(e)})),l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},className:s.modal},l.a.createElement(In.a,{variant:"h6"},e.name))):l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"400px"},className:s.modal},l.a.createElement(Bn.a,{className:s.modal},l.a.createElement(In.a,{variant:"h6"},"Visualiza\xe7\xe3o n\xe3o dispon\xedvel"),l.a.createElement(In.a,{variant:"h6"},e.name)))}return null},[c,A]);return l.a.createElement("div",{className:s.modal},l.a.createElement(co.a,{open:a,fullWidth:!0,maxWidth:"md",scroll:"paper"},l.a.createElement(uo.a,{className:s.modal},l.a.createElement(Ln.a,null,w,l.a.createElement(Bn.a,{className:s.modal},l.a.createElement("div",{className:s.messageInputWrapperPrivate},l.a.createElement(jl.a,{placeholder:"Legenda (opcional)",fullWidth:!0,multiline:!0,minRows:1,maxRows:5,value:m[c],onChange:e=>{const a=e.target.value;u(e=>{const t=[...e];return t[c]=a,t}),A&&h(!0)},onBlur:()=>{h(!1)},autoFocus:!0,onKeyDown:e=>{if("Enter"!==e.key||!e.shiftKey)switch(e.key){case"Escape":i();break;case"Enter":k();break;case"ArrowRight":C();break;case"ArrowLeft":x()}}}))))),l.a.createElement(go.a,{className:s.modal},l.a.createElement(jn.a,{onClick:x,disabled:0===c},l.a.createElement(Mi.a,{className:0===c?s.buttonDisable:s.buttonEnable})),l.a.createElement(jn.a,{onClick:i},l.a.createElement(Ii.a,{className:s.buttonEnable})),l.a.createElement(jn.a,{onClick:k},l.a.createElement(ai.a,{className:s.buttonEnable})),l.a.createElement(jn.a,{onClick:C,disabled:c===t.length-1},l.a.createElement(ji.a,{className:c===t.length-1?s.buttonDisable:s.buttonEnable})))))};const Di=Object(n.createContext)(),Li=e=>{let{children:a}=e;const[t,o]=Object(n.useState)(null);return l.a.createElement(Di.Provider,{value:{editingMessage:t,setEditingMessage:o}},a)};var Bi=t(1642),Wi=t(204),qi=t.n(Wi);const zi=e=>{let{inputRef:a,...t}=e;return l.a.createElement("div",t)};var Hi=e=>{let{InputProps:a,children:t,InputLabelProps:n,label:o,...r}=e;return l.a.createElement(wt.a,Object.assign({},r,{variant:"outlined",label:o,multiline:!0,InputLabelProps:{shrink:!0,...n},InputProps:{inputComponent:zi,...a},inputProps:{children:t}}))};const Ui=Object(I.a)(e=>({chip:{margin:e.spacing(.5),cursor:"pointer"}}));var Qi=e=>{let{onClick:a,disabled:t}=e;const n=Ui(),o=[{name:aa.a.t("messageVariablesPicker.vars.contactFirstName"),value:"{{firstName}}"},{name:aa.a.t("messageVariablesPicker.vars.contactName"),value:"{{name}} "},{name:aa.a.t("messageVariablesPicker.vars.user"),value:"{{userName}} "},{name:aa.a.t("messageVariablesPicker.vars.greeting"),value:"{{ms}} "},{name:aa.a.t("messageVariablesPicker.vars.protocolNumber"),value:"{{protocol}} "},{name:aa.a.t("messageVariablesPicker.vars.date"),value:"{{date}} "},{name:aa.a.t("messageVariablesPicker.vars.hour"),value:"{{hour}} "},{name:aa.a.t("messageVariablesPicker.vars.ticket_id"),value:"{{ticket_id}} "},{name:aa.a.t("messageVariablesPicker.vars.queue"),value:"{{queue}} "},{name:aa.a.t("messageVariablesPicker.vars.connection"),value:"{{connection}} "}];return l.a.createElement(Hi,{margin:"dense",fullWidth:!0,label:aa.a.t("messageVariablesPicker.label"),disabled:t},o.map(e=>l.a.createElement(H.a,{key:e.value,onMouseDown:n=>((e,n)=>{e.preventDefault(),t||a(n)})(n,e.value),label:e.name,size:"small",className:n.chip,color:"primary"})))};const Vi=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})),Gi=xt.c().shape({body:xt.e().min(5,"Mensagem muito curta").required("Obrigat\xf3rio"),contactId:xt.b().required("Obrigat\xf3rio"),sendAt:xt.e().required("Obrigat\xf3rio")});var Ki=e=>{let{open:a,onClose:t,scheduleId:o,contactId:r,cleanContact:i,reload:s}=e;const c=Vi(),d=Object(O.useHistory)(),{user:m}=Object(n.useContext)(ua),p=Object(n.useRef)(!0),{companyId:g}=m,E={body:"",contactId:"",sendAt:da()().add(1,"hour").format("YYYY-MM-DDTHH:mm"),sentAt:"",openTicket:"enabled",ticketUserId:"",queueId:"",statusTicket:"closed",intervalo:1,valorIntervalo:0,enviarQuantasVezes:1,tipoDias:4,assinar:!1},b={id:"",name:"",channel:""},[f,h]=Object(n.useState)(E),[A,v]=Object(n.useState)(b),[y,x]=Object(n.useState)([b]),[C,k]=Object(n.useState)(1),[w,T]=Object(n.useState)(4),[M,I]=Object(n.useState)(null),j=Object(n.useRef)(null),[N,R]=Object(n.useState)(!1),F=Object(n.useRef)(),[P,L]=Object(n.useState)("whatsapp"),[B,W]=Object(n.useState)([]),[q,H]=Object(n.useState)([]),[U,V]=Object(n.useState)(!1),[G,K]=Object(n.useState)([]),[Y,X]=Object(n.useState)([]),[J,Z]=Object(n.useState)(null),[_,$]=Object(n.useState)(null),{findAll:ee}=No(),[ae,te]=Object(n.useState)([]),[ne,le]=Object(n.useState)("");Object(n.useEffect)(()=>()=>{p.current=!1},[]),Object(n.useEffect)(()=>{if(p.current){(async()=>{const e=await ee();X(e),K(e)})()}},[]),Object(n.useEffect)(()=>{if(ne.length<3)return V(!1),void $("");const e=setTimeout(()=>{V(!0);(async()=>{try{const{data:e}=await u.get("/users/");te(e.users),V(!1)}catch(e){V(!1),oa(e)}})()},500);return()=>clearTimeout(e)},[ne]),Object(n.useEffect)(()=>{u.get("/whatsapp/filter",{params:{session:0,channel:P}}).then(e=>{let{data:a}=e;const t=a.map(e=>({...e,selected:!1}));W(t),t.length&&1===(null===t||void 0===t?void 0:t.length)&&H(t[0].id)})},[A,P]),Object(n.useEffect)(()=>{if(r&&y.length){const e=y.find(e=>e.id===r);e&&v(e)}},[r,y]),Object(n.useEffect)(()=>{const{companyId:e}=m;if(a)try{(async()=>{const{data:a}=await u.get("/contacts/list",{params:{companyId:e}});let t=a.map(e=>({id:e.id,name:e.name,channel:e.channel}));if(Object(la.isArray)(t)&&x([{id:"",name:"",channel:""},...t]),r&&h(e=>({...e,contactId:r})),!o)return;const{data:n}=await u.get("/schedules/"+o);h(e=>({...e,...n,sendAt:da()(n.sendAt).format("YYYY-MM-DDTHH:mm")})),console.log(n),n.whatsapp&&H(n.whatsapp.id),n.ticketUser&&Z(n.ticketUser),n.queueId&&$(n.queueId),n.intervalo&&k(n.intervalo),n.tipoDias&&T(n.tipoDias),v(n.contact)})()}catch(t){oa(t)}},[o,r,a,m]);const oe=Object(Jl.a)({trim:!0}),re=()=>{t(),I(null),h(E)},ie=e=>e.name?l.a.createElement(l.a.Fragment,null,(e=>{switch(e){case"facebook":return l.a.createElement(ro.a,{style:{color:"#3b5998",verticalAlign:"middle"}});case"instagram":return l.a.createElement(io.a,{style:{color:"#e1306c",verticalAlign:"middle"}});case"whatsapp":return l.a.createElement(so.a,{style:{color:"#25d366",verticalAlign:"middle"}});default:return"error"}})(e.channel),l.a.createElement(z.a,{component:"span",style:{fontSize:14,marginLeft:"10px",display:"inline-flex",alignItems:"center",lineHeight:"2"}},e.name)):`${aa.a.t("newTicketModal.add")} ${e.name}`;return l.a.createElement("div",{className:c.root},l.a.createElement(Ir,{title:aa.a.t("scheduleModal.confirmationModal.deleteTitle"),open:N,onClose:()=>R(!1),onConfirm:async()=>{M&&(I(null),j.current.value=null),f.mediaPath&&(await u.delete(`/schedules/${f.id}/media-upload`),h(e=>({...e,mediaPath:null})),S.b.success(aa.a.t("scheduleModal.toasts.deleted")),"function"==typeof s&&(console.log(s),console.log("1"),s()))}},aa.a.t("scheduleModal.confirmationModal.deleteMessage")),l.a.createElement(Tt.a,{open:a,onClose:re,maxWidth:"md",fullWidth:!0,scroll:"paper"},l.a.createElement(Mt.a,{id:"form-dialog-title"},"ERRO"===f.status?"Erro de Envio":"Mensagem "+Object(la.capitalize)(f.status)),l.a.createElement("div",{style:{display:"none"}},l.a.createElement("input",{type:"file",accept:".png,.jpg,.jpeg",ref:j,onChange:e=>(e=>{const a=Object(la.head)(e.target.files);a&&I(a)})(e)})),l.a.createElement(Ct.e,{initialValues:f,enableReinitialize:!0,validationSchema:Gi,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e,userId:m.id,whatsappId:q,ticketUserId:(null===J||void 0===J?void 0:J.id)||null,queueId:_||null,intervalo:C||1,tipoDias:w||4};try{if(o){if(await u.put("/schedules/"+o,a),null!=M){const e=new FormData;e.append("file",M),await u.post(`/schedules/${o}/media-upload`,e)}}else{const{data:e}=await u.post("/schedules",a);if(null!=M){const a=new FormData;a.append("file",M),await u.post(`/schedules/${e.id}/media-upload`,a)}}S.b.success(aa.a.t("scheduleModal.success")),"function"==typeof s&&s(),r&&"function"===typeof i&&(i(),d.push("/schedules"))}catch(t){oa(t)}v(b),h(E),re()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,values:r,setFieldValue:i}=e;return l.a.createElement(Ct.d,null,l.a.createElement(St.a,{dividers:!0},l.a.createElement("div",{className:c.multFieldLine},l.a.createElement(Rt.a,{variant:"outlined",fullWidth:!0},l.a.createElement(Zl.a,{fullWidth:!0,value:A,options:y,onChange:(e,a)=>{const t=a?a.id:"";h({...f,contactId:t}),v(a||b),L(a?a.channel:"whatsapp")},getOptionLabel:e=>e.name,renderOption:ie,getOptionSelected:(e,a)=>a.id===e.id,renderInput:e=>l.a.createElement(wt.a,Object.assign({},e,{variant:"outlined",placeholder:"Contato"}))}))),l.a.createElement("div",{className:c.multFieldLine},l.a.createElement(Ct.b,{as:wt.a,rows:9,multiline:!0,label:aa.a.t("scheduleModal.form.body"),name:"body",inputRef:F,error:a.body&&Boolean(t.body),helperText:a.body&&t.body,variant:"outlined",margin:"dense",fullWidth:!0})),l.a.createElement(ht.a,{item:!0,xs:12,md:12,xl:6},l.a.createElement(Qi,{disabled:n,onClick:e=>(async(e,a)=>{const t=F.current,n=t.value.substring(0,t.selectionStart),l=t.value.substring(t.selectionEnd),o=t.selectionStart+e.length;a("body",`${n}${e}${l}`),await new Promise(e=>setTimeout(e,100)),F.current.setSelectionRange(o,o)})(e,i)})),l.a.createElement(ht.a,{container:!0,spacing:1},l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:c.formControl},l.a.createElement(Nt.a,{id:"whatsapp-selection-label"},aa.a.t("campaigns.dialog.form.whatsapp")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("campaigns.dialog.form.whatsapp"),placeholder:aa.a.t("campaigns.dialog.form.whatsapp"),labelId:"whatsapp-selection-label",id:"whatsappIds",name:"whatsappIds",required:!0,error:a.whatsappId&&Boolean(t.whatsappId),value:q,onChange:e=>H(e.target.value)},B&&B.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name))))),l.a.createElement(ht.a,{item:!0,xs:12,md:12,xl:6},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:c.formControl},l.a.createElement(Nt.a,{id:"openTicket-selection-label"},aa.a.t("campaigns.dialog.form.openTicket")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("campaigns.dialog.form.openTicket"),placeholder:aa.a.t("campaigns.dialog.form.openTicket"),labelId:"openTicket-selection-label",id:"openTicket",name:"openTicket",error:a.openTicket&&Boolean(t.openTicket)},l.a.createElement(Q.a,{value:"enabled"},aa.a.t("campaigns.dialog.form.enabledOpenTicket")),l.a.createElement(Q.a,{value:"disabled"},aa.a.t("campaigns.dialog.form.disabledOpenTicket")))))),l.a.createElement(ht.a,{spacing:1,container:!0},l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Zl.a,{style:{marginTop:"8px"},variant:"outlined",margin:"dense",className:c.formControl,getOptionLabel:e=>""+e.name,value:J,size:"small",onChange:(e,a)=>{Z(a),null!=a&&Array.isArray(a.queues)?(1===a.queues.length&&$(a.queues[0].id),K(a.queues)):(K(Y),$(""))},options:ae,filterOptions:oe,freeSolo:!0,fullWidth:!0,disabled:"disabled"===r.openTicket,autoHighlight:!0,noOptionsText:aa.a.t("transferTicketModal.noOptions"),loading:U,renderOption:e=>l.a.createElement("span",null," ",l.a.createElement(Fo,{user:e})," ",e.name),renderInput:e=>l.a.createElement(wt.a,Object.assign({},e,{label:aa.a.t("transferTicketModal.fieldLabel"),variant:"outlined",onChange:e=>le(e.target.value),InputProps:{...e.InputProps,endAdornment:l.a.createElement(l.a.Fragment,null,U?l.a.createElement(It.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)}}))})),l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:c.formControl},l.a.createElement(Nt.a,null,aa.a.t("transferTicketModal.fieldQueueLabel")),l.a.createElement(jt.a,{value:_,onChange:e=>$(e.target.value),label:aa.a.t("transferTicketModal.fieldQueuePlaceholder"),disabled:"disabled"===r.openTicket},G.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name)))))),l.a.createElement(ht.a,{spacing:1,container:!0,style:{marginTop:"-10px"}},l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:c.formControl},l.a.createElement(Nt.a,{id:"statusTicket-selection-label"},aa.a.t("campaigns.dialog.form.statusTicket")),l.a.createElement(Ct.b,{as:jt.a,disabled:"disabled"===r.openTicket,label:aa.a.t("campaigns.dialog.form.statusTicket"),placeholder:aa.a.t("campaigns.dialog.form.statusTicket"),labelId:"statusTicket-selection-label",id:"statusTicket",name:"statusTicket",error:a.statusTicket&&Boolean(t.statusTicket)},l.a.createElement(Q.a,{value:"closed"},aa.a.t("campaigns.dialog.form.closedTicketStatus")),l.a.createElement(Q.a,{value:"open"},aa.a.t("campaigns.dialog.form.openTicketStatus"))))),l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("scheduleModal.form.sendAt"),type:"datetime-local",name:"sendAt",error:a.sendAt&&Boolean(t.sendAt),helperText:a.sendAt&&t.sendAt,variant:"outlined",fullWidth:!0,size:"small",style:{marginTop:"8px"}})),l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Bi.a,{control:l.a.createElement(Ct.b,{as:Nl.a,color:"primary",name:"assinar",checked:r.assinar,disabled:"disabled"===r.openTicket}),label:aa.a.t("scheduleModal.form.assinar")}))),l.a.createElement("h3",null,"Recorr\xeancia"),l.a.createElement("p",null,"Voc\xea pode escolher enviar a mensagem de forma recorrente e escolher o intervalo. Caso seja uma mensagem a ser enviada uma unica vez, n\xe3o altere nada nesta se\xe7\xe3o."),l.a.createElement("br",null),l.a.createElement(ht.a,{container:!0,spacing:1},l.a.createElement(ht.a,{item:!0,xs:12,md:4,xl:4},l.a.createElement(Rt.a,{size:"small",fullWidth:!0,variant:"outlined"},l.a.createElement(Nt.a,{id:"demo-simple-select-label"},"Intervalo"),l.a.createElement(jt.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:C,onChange:e=>k(e.target.value||1),label:"Intervalo"},l.a.createElement(Q.a,{value:1},"Dias"),l.a.createElement(Q.a,{value:2},"Semanas"),l.a.createElement(Q.a,{value:3},"Meses"),l.a.createElement(Q.a,{value:4},"Minutos")))),l.a.createElement(ht.a,{item:!0,xs:12,md:4,xl:4},l.a.createElement(Ct.b,{as:wt.a,label:"Valor do Intervalo",name:"valorIntervalo",size:"small",error:a.valorIntervalo&&Boolean(t.valorIntervalo),InputLabelProps:{shrink:!0},variant:"outlined",fullWidth:!0})),l.a.createElement(ht.a,{item:!0,xs:12,md:4,xl:4},l.a.createElement(Ct.b,{as:wt.a,label:"Enviar quantas vezes",name:"enviarQuantasVezes",size:"small",error:a.enviarQuantasVezes&&Boolean(t.enviarQuantasVezes),variant:"outlined",fullWidth:!0})),l.a.createElement(ht.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(Rt.a,{size:"small",fullWidth:!0,variant:"outlined"},l.a.createElement(Nt.a,{id:"demo-simple-select-label"},"Enviar quantas vezes"),l.a.createElement(jt.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:w,onChange:e=>T(e.target.value||4),label:"Enviar quantas vezes"},l.a.createElement(Q.a,{value:4},"Enviar normalmente em dias n\xe3o \xfateis"),l.a.createElement(Q.a,{value:5},"Enviar um dia \xfatil antes"),l.a.createElement(Q.a,{value:6},"Enviar um dia \xfatil depois"))))),(f.mediaPath||M)&&l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(kt.a,{startIcon:l.a.createElement(qi.a,null)},M?M.name:f.mediaName),l.a.createElement(D.a,{onClick:()=>R(!0),color:"secondary"},l.a.createElement(ao.a,{color:"secondary"})))),l.a.createElement(Ot.a,null,!M&&!f.mediaPath&&l.a.createElement(kt.a,{color:"primary",onClick:()=>j.current.click(),disabled:n,variant:"outlined"},aa.a.t("quickMessages.buttons.attach")),l.a.createElement(kt.a,{onClick:re,color:"secondary",disabled:n,variant:"outlined"},aa.a.t("scheduleModal.buttons.cancel")),(null===f.sentAt||""===f.sentAt)&&l.a.createElement(kt.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:c.btnWrapper},o?""+aa.a.t("scheduleModal.buttons.okEdit"):""+aa.a.t("scheduleModal.buttons.okAdd"),n&&l.a.createElement(It.a,{size:24,className:c.buttonProgress}))))})))};const Yi=new di.a({bitRate:128}),Xi=Object(I.a)(e=>({mainWrapper:{background:"#eee",display:"flex",flexDirection:"column",alignItems:"center",borderTop:"1px solid rgba(0, 0, 0, 0.12)",[e.breakpoints.down("sm")]:{position:"fixed",bottom:0,width:"100%"}},avatar:{width:"50px",height:"50px",borderRadius:"25%"},dropInfo:{background:"#eee",display:"flex",flexDirection:"column",alignItems:"center",width:"100%",padding:15,left:0,right:0},dropInfoOut:{display:"none"},gridFiles:{maxHeight:"100%",overflow:"scroll"},newMessageBox:{background:e.palette.background.default,width:"100%",display:"flex",padding:"7px",alignItems:"center"},messageInputWrapper:{padding:6,marginRight:7,background:e.palette.background.paper,display:"flex",borderRadius:20,flex:1,position:"relative"},messageInputWrapperPrivate:{padding:6,marginRight:7,background:"#F0E68C",display:"flex",borderRadius:20,flex:1,position:"relative"},messageInput:{paddingLeft:10,flex:1,border:"none"},messageInputPrivate:{paddingLeft:10,flex:1,border:"none",color:$n.a[800]},sendMessageIcons:{color:$n.a[700]},ForwardMessageIcons:{color:$n.a[700],transform:"scaleX(-1)"},uploadInput:{display:"none"},viewMediaInputWrapper:{maxHeight:"100%",display:"flex",padding:"10px 13px",position:"relative",justifyContent:"space-between",alignItems:"center",backgroundColor:"light"===e.mode?"#ffffff":"#202c33",borderTop:"1px solid rgba(0, 0, 0, 0.12)"},emojiBox:{position:"absolute",bottom:63,width:40,borderTop:"1px solid #e8e8e8"},circleLoading:{color:La.a[500],opacity:"70%",position:"absolute",top:"20%",left:"50%",marginLeft:-12},audioLoading:{color:La.a[500],opacity:"70%"},recorderWrapper:{display:"flex",alignItems:"center",alignContent:"middle"},cancelAudioIcon:{color:"red"},sendAudioIcon:{color:"green"},replyginMsgWrapper:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",paddingTop:8,paddingLeft:73,paddingRight:7,backgroundColor:e.palette.optionsBackground},replyginMsgContainer:{flex:1,marginRight:5,overflowY:"hidden",backgroundColor:"light"===e.mode?"#f0f0f0":"#1d282f",borderRadius:"7.5px",display:"flex",position:"relative"},replyginMsgBody:{padding:10,height:"auto",display:"block",whiteSpace:"pre-wrap",overflow:"hidden"},replyginContactMsgSideColor:{flex:"none",width:"4px",backgroundColor:"#35cd96"},replyginSelfMsgSideColor:{flex:"none",width:"4px",backgroundColor:"#6bcbef"},messageContactName:{display:"flex",color:"#6bcbef",fontWeight:500},messageQuickAnswersWrapper:{margin:0,position:"absolute",bottom:"50px",background:e.palette.background.default,padding:0,border:"none",left:0,width:"100%","& li":{listStyle:"none","& a":{display:"block",padding:"8px",textOverflow:"ellipsis",overflow:"hidden",maxHeight:"30px","&:hover":{background:e.palette.background.paper,cursor:"pointer"}}}},invertedFabMenu:{border:"none",borderRadius:50,boxShadow:"none",padding:e.spacing(1),backgroundColor:"transparent",color:"grey","&:hover":{backgroundColor:"transparent"},"&:disabled":{backgroundColor:"transparent !important"}},invertedFabMenuMP:{border:"none",borderRadius:0,boxShadow:"none",width:e.spacing(4),height:e.spacing(4),backgroundColor:"transparent",color:Ur.a[800],"&:hover":{backgroundColor:"transparent"}},invertedFabMenuCont:{border:"none",borderRadius:0,boxShadow:"none",minHeight:"auto",width:e.spacing(4),height:e.spacing(4),backgroundColor:"transparent",color:Ur.a[500],"&:hover":{backgroundColor:"transparent"}},invertedFabMenuMeet:{border:"none",borderRadius:0,boxShadow:"none",minHeight:"auto",width:e.spacing(4),height:e.spacing(4),backgroundColor:"transparent",color:La.a[500],"&:hover":{backgroundColor:"transparent"}},invertedFabMenuDoc:{border:"none",borderRadius:0,boxShadow:"none",width:e.spacing(4),height:e.spacing(4),backgroundColor:"transparent",color:"#7f66ff","&:hover":{backgroundColor:"transparent"}},invertedFabMenuCamera:{border:"none",borderRadius:0,boxShadow:"none",width:e.spacing(4),height:e.spacing(4),backgroundColor:"transparent",color:Qr.a[500],"&:hover":{backgroundColor:"transparent"}},flexContainer:{display:"flex",flex:1,flexDirection:"column"},flexItem:{flex:1}}));var Ji=e=>{let{ticketId:a,ticketStatus:t,droppedFiles:o,contactId:r,ticketChannel:i}=e;const s=Xi(),d=Object(F.a)(),[m,p]=Object(n.useState)([]),g=Object(n.useRef)(!0),[E,b]=Object(n.useState)(!1),[h,A]=Object(n.useState)(""),[v,y]=Object(n.useState)(!1),[x,C]=Object(n.useState)(!1),[k,w]=Object(n.useState)(!1),[T,O]=Object(n.useState)([]),[S,I]=Object(n.useState)(!1),j=Object(n.useRef)(),[N,R]=Object(n.useState)(!1),[P,L]=Object(n.useState)(null),{setReplyingMessage:B,replyingMessage:W}=Object(n.useContext)(mi),{setEditingMessage:q,editingMessage:z}=Object(n.useContext)(Di),{user:H}=Object(n.useContext)(ua),[V,K]=Object(n.useState)(!1),[Y,X]=Object(n.useState)(!1),{get:J}=ct(),[Z,_]=Object(n.useState)(!0),[$,ee]=Object(n.useState)(!1),[ae,te]=Object(n.useState)(!1),[le,oe]=Object(n.useState)(!1),[re,ie]=Object(n.useState)(!1),{list:se}=Ei(),ce=Object(f.a)("(max-width: 767px)"),[de,me]=Object(n.useState)("");Object(n.useEffect)(()=>{me("open"===t||"group"===t?aa.a.t("messagesInput.placeholderOpen"):aa.a.t("messagesInput.placeholderClosed"));const e=ce?20:1/0;ce&&de.length>e&&me(de.substring(0,e)+"...")},[t]);const{selectedMessages:ue,setForwardMessageModalOpen:pe,showSelectMessageCheckbox:ge}=Object(n.useContext)(Oi);Object(n.useEffect)(()=>{if(o&&o.length>0){const e=Array.from(o);p(e),ie(!0)}},[o]),Object(n.useEffect)(()=>()=>{g.current=!1},[]),Object(n.useEffect)(()=>{j.current.focus(),z&&A(z.body)},[W,z]),Object(n.useEffect)(()=>(j.current.focus(),()=>{A(""),y(!1),p([]),B(null),ee(!1),te(!1),q(null)}),[a,B,q]),Object(n.useEffect)(()=>{setTimeout(()=>{g.current&&R(!1)},1e3)},[!0===N]),Object(n.useEffect)(()=>{(async()=>{const e=await J({column:"sendSignMessage"});if(g.current)if("enabled"===e.sendSignMessage){X(!0);const e=JSON.parse(localStorage.getItem("persistentSignMessage"));Object(la.isNil)(e)?_(!0):_(e)}else X(!1)})()},[]);const Ee=async()=>{A("https://meet.jit.si/"+a)},be=e=>{A(e.target.value)},fe=e=>{ee(!$),te(!ae)},he=()=>{qe(),b(!0)},Ae=async e=>{if(e.mediaPath)try{const{data:a}=await c.a.get(e.mediaPath,{responseType:"blob"});return Pe(a,e.value),void A("")}catch(a){oa(a)}A(""),A(e.value),I(!1)},ve=e=>{let a=e.native;A(e=>e+a)},[ye,xe]=Object(n.useState)(!1),Ce=e=>{e&&Fe(e)},ke=e=>{if(!e.target.files)return;const a=Array.from(e.target.files);p(a),ie(!0)},we=e=>{Oe()},Te=()=>{if(0===ue.length)return pe(!1),void oa(aa.a.t("messagesList.header.notMessage"));pe(!0)},Oe=()=>{const e=JSON.parse(localStorage.getItem("persistentSignMessage"));null!==e?e?(localStorage.setItem("persistentSignMessage",!1),_(!1)):(localStorage.setItem("persistentSignMessage",!0),_(!0)):(localStorage.setItem("persistentSignMessage",!1),_(!1))},Se=e=>{if(e.clipboardData.files[0]){const a=Array.from(e.clipboardData.files);p(a),ie(!0)}},Me=e=>{if(e.preventDefault(),e.dataTransfer.files[0]){const a=Array.from(e.dataTransfer.files);p(a),ie(!0)}},Ie=async e=>{if(C(!0),!e.length)return console.log("Nenhuma m\xeddia selecionada."),void C(!1);const t=new FormData;t.append("fromMe",!0),t.append("isPrivate",$?"true":"false"),e.forEach(e=>{t.append("body",e.caption),t.append("medias",e.file)});try{await u.post("/messages/"+a,t)}catch(n){oa(n)}C(!1),p([]),ie(!1),ee(!1),te(!1)},je=async()=>{if(""===h.trim())return;C(!0);const e=$?H.name+" - Mensagem Privada":H.name,t=h.trim(),n={read:1,fromMe:!0,mediaUrl:"",body:!Z&&!$||z?t:`*${e}:*\n${t}`,quotedMsg:W,isPrivate:$?"true":"false"};try{null!==z?await u.post("/messages/edit/"+z.id,n):await u.post("/messages/"+a,n)}catch(l){oa(l)}A(""),y(!1),C(!1),B(null),ee(!1),q(null),te(!1),qe()},Ne=async()=>{C(!0);try{await navigator.mediaDevices.getUserMedia({audio:!0}),await Yi.start(),w(!0),C(!1)}catch(e){oa(e),C(!1)}};Object(n.useEffect)(()=>{!async function(){const e=H.companyId,a=(await se({companyId:e,userId:H.id})).map(e=>{let a=e.message;return Object(la.isString)(a)&&a.length>90&&(a=e.message.substring(0,90)+"..."),{value:e.message,label:`/${e.shortcode} - ${a}`,mediaPath:e.mediaPath}});g.current&&O(a)}()},[]),Object(n.useEffect)(()=>{if(Object(la.isString)(h)&&!Object(la.isEmpty)(h)&&h.length>=1){const e=h.charAt(0);if("/"===e){I(e.indexOf("/")>-1);const a=T.filter(e=>e.label.toLowerCase().indexOf(h.toLowerCase())>-1);I(a)}else I(!1)}else I(!1)},[h]);const Re=()=>x||k||"open"!==t&&"group"!==t,Fe=async e=>{C(!0);try{const t=new FormData,n=(new Date).getTime()+".png";t.append("medias",e,n),t.append("body",$?"\u200d":""),t.append("fromMe",!0),await u.post("/messages/"+a,t)}catch(t){oa(t),C(!1)}C(!1)},Pe=async(e,t)=>{C(!0);try{const n=e.type.split("/")[1],l=new FormData,o=`${(new Date).getTime()}.${n}`;l.append("medias",e,o),l.append("body",$?"\u200d"+t:t),l.append("fromMe",!0),g.current&&await u.post("/messages/"+a,l)}catch(n){oa(n)}finally{g.current&&C(!1)}},De=async()=>{C(!0);try{const[,e]=await Yi.stop().getMp3();if(e.size<1e4)return C(!1),void w(!1);const t=new FormData,n="whatsapp"===i?(new Date).getTime()+".mp3":(new Date).getTime()+".m4a";t.append("medias",e,n),t.append("body",n),t.append("fromMe",!0),g.current&&await u.post("/messages/"+a,t)}catch(e){oa(e)}finally{g.current&&(C(!1),w(!1))}},Le=()=>{ie(!1)},Be=async()=>{try{await Yi.stop().getMp3(),w(!1)}catch(e){oa(e)}},We=e=>{L(e.currentTarget)},qe=e=>{L(null)},ze=async()=>{qe(),oe(!0)},He=async()=>{qe(),xe(!0)},Ue=()=>{p([]),ie(!1)},Qe=e=>{var a;return l.a.createElement("div",{className:s.replyginMsgWrapper},l.a.createElement("div",{className:s.replyginMsgContainer},l.a.createElement("span",{className:Object(M.a)(s.replyginContactMsgSideColor,{[s.replyginSelfMsgSideColor]:!e.fromMe})}),W&&l.a.createElement("div",{className:s.replyginMsgBody},!e.fromMe&&l.a.createElement("span",{className:s.messageContactName},null===(a=e.contact)||void 0===a?void 0:a.name),e.body)),l.a.createElement(D.a,{"aria-label":"showRecorder",component:"span",disabled:Re(),onClick:()=>{B(null),q(null),A("")}},l.a.createElement(Vr.a,{className:s.sendMessageIcons})))};return m.length>0?l.a.createElement(Bt.a,{elevation:0,square:!0,className:s.viewMediaInputWrapper,onDragEnter:()=>R(!0),onDrop:e=>Me(e)},re&&l.a.createElement(Pi,{isOpen:re,files:m,onClose:Le,onSend:Ie,onCancelSelection:Ue})):l.a.createElement(l.a.Fragment,null,ye&&l.a.createElement(ki,{isOpen:ye,onRequestClose:()=>xe(!1),onCapture:Ce}),le&&l.a.createElement(hi,{modalOpen:le,onClose:e=>{(async e=>{if(oe(!1),C(!0),Object(la.isNil)(e))return void C(!1);const t={read:1,fromMe:!0,mediaUrl:"",body:null,quotedMsg:W,isPrivate:$?"true":"false",vCard:e};try{await u.post("/messages/"+a,t)}catch(n){oa(n)}A(""),y(!1),C(!1),B(null),q(null),ee(!1),te(!1)})(e)}}),l.a.createElement(Bt.a,{square:!0,elevation:0,className:s.mainWrapper,onDragEnter:()=>R(!0),onDrop:e=>Me(e)},W&&Qe(W)||z&&Qe(z),l.a.createElement("div",{className:s.newMessageBox},l.a.createElement(Il.a,{only:["sm","xs"]},l.a.createElement(D.a,{"aria-label":"emojiPicker",component:"span",disabled:Re(),onClick:e=>y(e=>!e)},l.a.createElement(Gr.a,{className:s.sendMessageIcons})),v?l.a.createElement("div",{className:s.emojiBox},l.a.createElement(zr.a,{onClickAway:e=>y(!0)},l.a.createElement(qr.a,{perLine:16,theme:"dark",i18n:aa.a,showPreview:!0,showSkinTones:!1,onSelect:ve}))):null,l.a.createElement(Hr.a,{disabled:Re(),"aria-label":"uploadMedias",component:"span",className:s.invertedFabMenu,onClick:We},l.a.createElement(oi.a,null)),l.a.createElement(U.a,{anchorEl:P,keepMounted:!0,open:Boolean(P),onClose:qe,id:"simple-menu"},l.a.createElement(Q.a,{onClick:qe},l.a.createElement("input",{multiple:!0,type:"file",id:"upload-img-button",accept:"image/*, video/*, audio/* ",className:s.uploadInput,onChange:ke}),l.a.createElement("label",{htmlFor:"upload-img-button"},l.a.createElement(Hr.a,{"aria-label":"upload-img",component:"span",className:s.invertedFabMenuMP},l.a.createElement(Kr.a,null)),aa.a.t("messageInput.type.imageVideo"))),l.a.createElement(Q.a,{onClick:He},l.a.createElement(Hr.a,{className:s.invertedFabMenuCamera},l.a.createElement(si.a,null)),aa.a.t("messageInput.type.cam")),l.a.createElement(Q.a,{onClick:qe},l.a.createElement("input",{multiple:!0,type:"file",id:"upload-doc-button",accept:"application/*, text/*",className:s.uploadInput,onChange:ke}),l.a.createElement("label",{htmlFor:"upload-doc-button"},l.a.createElement(Hr.a,{"aria-label":"upload-img",component:"span",className:s.invertedFabMenuDoc},l.a.createElement(Xe.a,null)),"Documento")),l.a.createElement(Q.a,{onClick:ze},l.a.createElement(Hr.a,{className:s.invertedFabMenuCont},l.a.createElement(Yr.a,null)),aa.a.t("messageInput.type.contact")),l.a.createElement(Q.a,{onClick:Ee},l.a.createElement(Hr.a,{className:s.invertedFabMenuMeet},l.a.createElement(Xr.a,null)),aa.a.t("messageInput.type.meet")),E&&l.a.createElement(Ti,{modalOpen:E,onClose:()=>b(!1),ticketId:a}),l.a.createElement(Q.a,{onClick:he},l.a.createElement(Hr.a,{className:s.invertedFabMenuCont},l.a.createElement(G.a,null)),"Bot\xf5es")),Y&&l.a.createElement(ne.a,{title:aa.a.t("messageInput.tooltip.signature")},l.a.createElement(D.a,{"aria-label":"send-upload",component:"span",onClick:we},!0===Z?l.a.createElement(Jr.a,{style:{color:"light"===d.mode?d.palette.primary.main:"#EEE"}}):l.a.createElement(Jr.a,{style:{color:"grey"}}))),l.a.createElement(ne.a,{title:aa.a.t("messageInput.tooltip.privateMessage")},l.a.createElement(D.a,{"aria-label":"send-upload",component:"span",onClick:fe},!0===$?l.a.createElement(Zr.a,{style:{color:"light"===d.mode?d.palette.primary.main:"#EEE"}}):l.a.createElement(Zr.a,{style:{color:"grey"}})))),l.a.createElement(Il.a,{only:["md","lg","xl"]},l.a.createElement(D.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:We},l.a.createElement(_r.a,null)),l.a.createElement(U.a,{id:"simple-menu",keepMounted:!0,anchorEl:P,open:Boolean(P),onClose:qe},l.a.createElement(Q.a,{onClick:qe},l.a.createElement(D.a,{"aria-label":"emojiPicker",component:"span",disabled:Re(),onClick:e=>y(e=>!e)},l.a.createElement(Gr.a,{className:s.sendMessageIcons}))),l.a.createElement(Q.a,{onClick:qe},l.a.createElement("input",{multiple:!0,type:"file",id:"upload-button",disabled:Re(),className:s.uploadInput,onChange:ke}),l.a.createElement("label",{htmlFor:"upload-button"},l.a.createElement(D.a,{"aria-label":"upload",component:"span",disabled:Re()},l.a.createElement(ea.a,{className:s.sendMessageIcons})))),Y&&l.a.createElement(ne.a,{title:"Habilitar/Desabilitar Assinatura"},l.a.createElement(D.a,{"aria-label":"send-upload",component:"span",onClick:we},!0===Z?l.a.createElement(Jr.a,{style:{color:"light"===d.mode?d.palette.primary.main:"#EEE"}}):l.a.createElement(Jr.a,{style:{color:"grey"}}))),l.a.createElement(ne.a,{title:"Habilitar/Desabilitar Coment\xe1rios"},l.a.createElement(D.a,{"aria-label":"send-upload",component:"span",onClick:fe},!0===$?l.a.createElement(Zr.a,{style:{color:"light"===d.mode?d.palette.primary.main:"#EEE"}}):l.a.createElement(Zr.a,{style:{color:"grey"}}))))),l.a.createElement("div",{className:s.flexContainer},ae&&l.a.createElement("div",{className:s.flexItem},l.a.createElement("div",{className:s.messageInputWrapperPrivate},l.a.createElement(jl.a,{inputRef:e=>{e&&e.focus(),e&&(j.current=e)},className:s.messageInputPrivate,placeholder:"open"===t||"group"===t?aa.a.t("messagesInput.placeholderPrivateMessage"):aa.a.t("messagesInput.placeholderClosed"),multiline:!0,maxRows:5,value:h,onChange:be,disabled:Re(),onPaste:e=>{("open"===t||"group"===t)&&Se(e)},onKeyPress:e=>{x||e.shiftKey||"Enter"===e.key&&je()}}),S?l.a.createElement("ul",{className:s.messageQuickAnswersWrapper},S.map((e,a)=>l.a.createElement("li",{className:s.messageQuickAnswersWrapperItem,key:a},l.a.createElement("a",{onClick:()=>Ae(e)},`${e.label} - ${e.value}`)))):l.a.createElement("div",null))),!ae&&l.a.createElement("div",{className:s.flexItem},l.a.createElement("div",{className:s.messageInputWrapper},l.a.createElement(jl.a,{inputRef:e=>{e&&e.focus(),e&&(j.current=e)},className:s.messageInput,placeholder:de,multiline:!0,maxRows:5,value:h,onChange:be,disabled:Re(),onPaste:e=>{("open"===t||"group"===t)&&Se(e)},onKeyPress:e=>{x||e.shiftKey||"Enter"===e.key&&je()}}),S?l.a.createElement("ul",{className:s.messageQuickAnswersWrapper},S.map((e,a)=>l.a.createElement("li",{className:s.messageQuickAnswersWrapperItem,key:a},l.a.createElement("a",{onClick:()=>Ae(e)},`${e.label} - ${e.value}`)))):l.a.createElement("div",null)))),!ae&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ne.a,{title:aa.a.t("tickets.buttons.quickmessageflash")},l.a.createElement(D.a,{"aria-label":"flash",component:"span",onClick:()=>A("/")},l.a.createElement(ii.a,{className:s.sendMessageIcons}))),l.a.createElement(ne.a,{title:aa.a.t("tickets.buttons.scredule")},l.a.createElement(D.a,{"aria-label":"scheduleMessage",component:"span",onClick:()=>K(!0),disabled:x},l.a.createElement($r.a,{className:s.sendMessageIcons}))),h||ge?l.a.createElement(l.a.Fragment,null,l.a.createElement(D.a,{"aria-label":"sendMessage",component:"span",onClick:ge?Te:je,disabled:x},ge?l.a.createElement(ei.a,{className:s.ForwardMessageIcons}):l.a.createElement(ai.a,{className:s.sendMessageIcons}))):k?l.a.createElement("div",{className:s.recorderWrapper},l.a.createElement(D.a,{"aria-label":"cancelRecording",component:"span",fontSize:"large",disabled:x,onClick:Be},l.a.createElement(qo.a,{className:s.cancelAudioIcon})),x?l.a.createElement("div",null,l.a.createElement(It.a,{className:s.audioLoading})):l.a.createElement(gi,null),l.a.createElement(D.a,{"aria-label":"sendRecordedAudio",component:"span",onClick:De,disabled:x},l.a.createElement(ti.a,{className:s.sendAudioIcon}))):l.a.createElement(D.a,{"aria-label":"showRecorder",component:"span",disabled:Re(),onClick:Ne},l.a.createElement(ni.a,{className:s.sendMessageIcons}))),ae&&l.a.createElement(l.a.Fragment,null,l.a.createElement(D.a,{"aria-label":"sendMessage",component:"span",onClick:ge?Te:je,disabled:x},ge?l.a.createElement(ei.a,{className:s.ForwardMessageIcons}):l.a.createElement(ai.a,{className:s.sendMessageIcons}))),V&&l.a.createElement(Ki,{open:V,onClose:()=>K(!1),message:h,contactId:r}))))},Zi=t(1658);const _i=Object(I.a)(e=>({ticketHeader:{display:"flex",background:e.palette.tabHeaderBackground,flex:"none",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",height:"65px"}}));var $i=()=>{const e=_i();return l.a.createElement(Zi.a,{square:!0,className:e.ticketHeader},l.a.createElement(vr.a,{titleTypographyProps:{noWrap:!0},subheaderTypographyProps:{noWrap:!0},avatar:l.a.createElement(_n.a,{animation:"wave",variant:"circle"},l.a.createElement(R.a,{alt:"contact_image"})),title:l.a.createElement(_n.a,{animation:"wave",width:80}),subheader:l.a.createElement(_n.a,{animation:"wave",width:140})}))},es=t(930),as=t.n(es);const ts=Object(I.a)(e=>({ticketHeader:{display:"flex",background:e.palette.total,flex:"none",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",height:"65px",[e.breakpoints.down("sm")]:{flexWrap:"wrap",height:"max-content"}}}));var ns=e=>{let{loading:a,children:t}=e;const n=ts(),o=Object(O.useHistory)();return l.a.createElement(l.a.Fragment,null,a?l.a.createElement($i,null):l.a.createElement(Zi.a,{square:!0,className:n.ticketHeader},l.a.createElement(kt.a,{color:"primary",onClick:()=>{o.push("/tickets")}},l.a.createElement(as.a,null)),t))};var ls=e=>{let{contact:a,ticket:t,onClick:o}=e;const[r,i]=Object(n.useState)("");return l.a.createElement(l.a.Fragment,null,l.a.createElement(ht.a,{container:!0,alignItems:"center",spacing:10},l.a.createElement(ht.a,{item:!0,xs:6},l.a.createElement(vr.a,{onClick:o,style:{cursor:"pointer"},titleTypographyProps:{noWrap:!0},subheaderTypographyProps:{noWrap:!0},avatar:l.a.createElement(R.a,{src:null===a||void 0===a?void 0:a.urlPicture,alt:"contact_image"}),title:`${(null===a||void 0===a?void 0:a.name)||"(sem contato)"} #${t.id}`,subheader:t.user&&`${aa.a.t("messagesList.header.assignedTo")} ${t.user.name}`}))))},os=t(1665),rs=t(937),is=t.n(rs),ss=t(938),cs=t.n(ss),ds=t(1751),ms=t(1659),us=t(1735);var ps=e=>{let{isOpen:a,handleClose:t,ticketId:o}=e;const[r,i]=Object(n.useState)(0),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)([]),p={create:aa.a.t("showTicketLogModal.options.create"),chatBot:aa.a.t("showTicketLogModal.options.chatBot"),queue:aa.a.t("showTicketLogModal.options.queue"),open:aa.a.t("showTicketLogModal.options.open"),access:aa.a.t("showTicketLogModal.options.access"),transfered:aa.a.t("showTicketLogModal.options.transfered"),receivedTransfer:aa.a.t("showTicketLogModal.options.receivedTransfer"),pending:aa.a.t("showTicketLogModal.options.pending"),closed:aa.a.t("showTicketLogModal.options.closed"),reopen:aa.a.t("showTicketLogModal.options.reopen"),redirect:aa.a.t("showTicketLogModal.options.redirect")};return Object(n.useEffect)(()=>{c(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("/tickets-log/"+o);m(e),c(!1)}catch(e){c(!1),oa(e)}})()},500);return()=>clearTimeout(e)},[o]),l.a.createElement(co.a,{open:a,onClose:t},l.a.createElement(mo.a,null,aa.a.t("showTicketLogModal.title.header")),l.a.createElement(uo.a,null,l.a.createElement(Bt.a,null,l.a.createElement(po.a,null,l.a.createElement(ds.a,{activeStep:r,orientation:"vertical"},d.map((e,a)=>{var t,n,o,r;return l.a.createElement(ms.a,{key:a},l.a.createElement(us.a,null,`${"access"===e.type||"transfered"===e.type||"open"===e.type||"pending"===e.type||"closed"===e.type||"reopen"===e.type?null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.name:"queue"===(null===e||void 0===e?void 0:e.type)||"redirect"===(null===e||void 0===e?void 0:e.type)?null===e||void 0===e||null===(n=e.queue)||void 0===n?void 0:n.name:"receivedTransfer"===e.type?(null===e||void 0===e||null===(o=e.queue)||void 0===o?void 0:o.name)+" - "+(null===e||void 0===e||null===(r=e.user)||void 0===r?void 0:r.name):""} \n                    ${p[e.type]} - ${Object(Sa.a)(Object(Fa.a)(null===e||void 0===e?void 0:e.createdAt),"dd/MM/yyyy HH:mm")}`))}))))),l.a.createElement(go.a,null,l.a.createElement(Eo.a,{onClick:t,color:"primary"},"Fechar")))},gs=t(1662),Es=t(1663),bs=t(1664);var fs=e=>{let{contact:a,numbers:t,queueId:o,whatsappId:r}=e;Object(F.a)();const i=Object(O.useHistory)(),{user:s}=Object(n.useContext)(ua),c=s.companyId,[d,m]=Object(n.useState)(!1),[p,g]=Object(n.useState)(""),[E,b]=Object(n.useState)(""),[f,h]=Object(n.useState)({id:0,name:"",number:0,profilePicUrl:""});Object(n.useEffect)(()=>{const e=setTimeout(()=>{(async()=>{try{if(Object(la.isNil)(t))return;const e=t.replace(/\D/g,""),n=await u.get("/contacts/profile/"+e);if(n.data.contactId&&0!==n.data.contactId){let e={id:n.data.contactId,name:a,number:t,profilePicUrl:n.data.urlPicture};h(e)}else{let t={name:a,number:e,email:"",companyId:c};const{data:n}=await u.post("/contacts",t);h(n)}}catch(e){console.log(e),oa(e)}})()},500);return()=>clearTimeout(e)},[c,a,t]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{minWidth:"250px"}},l.a.createElement(bo,{isOpen:d,handleClose:()=>{m(!1),m(!1),g(""),b("")},user:p,queue:E}),l.a.createElement(ht.a,{container:!0,spacing:1},l.a.createElement(ht.a,{item:!0,xs:2},l.a.createElement(R.a,{src:""+(null===f||void 0===f?void 0:f.urlPicture)})),l.a.createElement(ht.a,{item:!0,xs:9},l.a.createElement(z.a,{style:{marginTop:"12px",marginLeft:"10px"},color:"primary",variant:"subtitle1",gutterBottom:!0},f.name)),l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(B.a,null),l.a.createElement(kt.a,{fullWidth:!0,color:"primary",onClick:async()=>{try{const{data:e}=await u.post("/tickets",{contactId:f.id,userId:s.id,status:"open",queueId:o,companyId:c,whatsappId:r});i.push("/tickets/"+e.uuid)}catch(e){const a=JSON.parse(e.response.data.error);a.userId!==(null===s||void 0===s?void 0:s.id)?(m(!0),g(a.user.name),b(a.queue.name)):(m(!1),g(""),b(""),i.push("/tickets/"+a.uuid))}},disabled:!f.number},"Conversar")))))};var hs=e=>{let{image:a,link:t,description:o}=e;Object(n.useEffect)(()=>{},[a,t,o]);const r=async()=>{try{window.open(t)}catch(e){oa(e)}};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{minWidth:"250px"}},l.a.createElement("div",null,l.a.createElement("div",{style:{float:"left"}},l.a.createElement("img",{src:a,alt:"loc",onClick:r,style:{width:"100px"}})),o&&l.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},l.a.createElement(z.a,{style:{marginTop:"12px",marginLeft:"15px",marginRight:"15px",float:"left"},variant:"subtitle1",color:"primary",gutterBottom:!0},l.a.createElement("div",{dangerouslySetInnerHTML:{__html:o.replace("\\n","<br />")}}))),l.a.createElement("div",{style:{display:"block",content:"",clear:"both"}}),l.a.createElement("div",null,l.a.createElement(B.a,null),l.a.createElement(kt.a,{fullWidth:!0,color:"primary",onClick:r,disabled:!t},"Visualizar")))))};var As=e=>{let{title:a,children:t,open:n,onClose:o}=e;return l.a.createElement(Tt.a,{open:n,onClose:()=>o(!1),"aria-labelledby":"confirm-dialog"},l.a.createElement(Mt.a,{id:"confirm-dialog"},a),l.a.createElement(St.a,{dividers:!0},l.a.createElement(z.a,null,t)),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{variant:"contained",onClick:()=>o(!1),color:"default"},aa.a.t("Fechar"))))};var vs=e=>{let{messages:a,onClose:t,modalOpen:o}=e;const[r,i]=Object(n.useState)([]),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(""),[p,g]=Object(n.useState)(null),[E,b]=Object(n.useState)({}),[f,h]=Object(n.useState)(!1),{user:A}=Object(n.useContext)(ua),[v,y]=Object(n.useState)(!1),[x,C]=Object(n.useState)(""),[k,w]=Object(n.useState)(!0);Object(n.useEffect)(()=>{if(!o||d.length<3)return void c(!1);c(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("contacts",{params:{searchParam:d}});console.log("contacts",e.contacts),i(e.contacts),c(!1)}catch(e){c(!1),oa(e)}})()},500);return()=>clearTimeout(e)},[d,o]);const T=Object(O.useHistory)(),S=e=>new Promise(a=>setTimeout(a,e)),M=Object(Jl.a)({trim:!0});return l.a.createElement(l.a.Fragment,null,l.a.createElement(oo,{open:f,initialValues:E,onClose:()=>{h(!1)}}),l.a.createElement(Tt.a,{open:o,onClose:()=>{t(),m(""),g(null),y(!1)}},l.a.createElement(Mt.a,{id:"form-dialog-title"},"Encaminhar mensagem"),l.a.createElement(St.a,{dividers:!0},l.a.createElement(Zl.a,{options:r,loading:s,style:{width:300},clearOnBlur:!0,autoHighlight:!0,freeSolo:!0,clearOnEscape:!0,getOptionLabel:e=>e.number?`${e.name} - ${e.number}`:""+e.name,renderOption:e=>e.number?`${e.name} - ${e.number}`:"Nenhum contato encontrado com o nome "+e.name,filterOptions:(e,a)=>{const t=M(e,a);return""!==a.inputValue&&!s&&d.length>=3&&t.push({name:""+a.inputValue}),t},onChange:(e,a)=>((e,a)=>{(null===a||void 0===a?void 0:a.number)?g(a):(null===a||void 0===a?void 0:a.name)&&(b({name:a.name}),h(!0))})(0,a),renderInput:e=>l.a.createElement(wt.a,Object.assign({},e,{label:aa.a.t("newTicketModal.fieldLabel"),variant:"outlined",autoFocus:!0,onChange:e=>m(e.target.value),onKeyPress:e=>{!s&&p&&e.key},InputProps:{...e.InputProps,endAdornment:l.a.createElement(l.a.Fragment,null,s?l.a.createElement(It.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)}}))})),l.a.createElement(Ot.a,null,v&&l.a.createElement(l.a.Fragment,null,l.a.createElement(It.a,{color:"inherit",size:20}),l.a.createElement(In.a,{variant:"body1",color:"textSecondary"},"Enviando ",x,"...")),l.a.createElement(Bi.a,{style:{marginRight:7,color:"gray"},label:aa.a.t("messagesInput.signMessage"),labelPlacement:"start",control:l.a.createElement(Nl.a,{size:"small",checked:k,onChange:e=>{w(e.target.checked)},name:"showAllTickets",color:"primary"})}),l.a.createElement($l,{variant:"contained",type:"button",disabled:!p||v,onClick:()=>(async e=>{const t=[];for(const l of a){y(!0);try{C(l.id);const a=await u.post("/message/forward",{messageId:l.id,contactId:e.id,signMessage:k});t.push(a),S(900)}catch(n){oa(n)}}y(!1),T.push("/tickets")})(p),color:"primary",loading:s},"Encaminhar"))))};var ys=e=>{let{message:a,menuOpen:t,handleClose:o,anchorEl:r,isGroup:i,queueId:s,whatsappId:c}=e;const{setReplyingMessage:d}=Object(n.useContext)(mi),[m,p]=Object(n.useState)(!1),{user:g}=Object(n.useContext)(ua),E=Object(n.useContext)(Di),b=E?E.setEditingMessage:null,{setTabOpen:f}=Object(n.useContext)(et),h=Object(O.useHistory)(),[A,v]=Object(n.useState)(!1),[y,x]=Object(n.useState)(""),[C,k]=Object(n.useState)(""),[w,T]=Object(n.useState)(!1),[S,M]=Object(n.useState)(null),[I,j]=Object(n.useState)(!1),[N,R]=Object(n.useState)(""),{showSelectMessageCheckbox:F,setShowSelectMessageCheckbox:P,selectedMessages:D,forwardMessageModalOpen:L,setForwardMessageModalOpen:B}=Object(n.useContext)(Oi);return l.a.createElement(l.a.Fragment,null,l.a.createElement(jo,{modalOpen:w,onClose:e=>T(!1),ticket:S,ticketId:null===S||void 0===S?void 0:S.id}),l.a.createElement(bo,{isOpen:A,handleClose:()=>{v(!1),v(!1),x(""),k("")},user:y,queue:C}),l.a.createElement(Ir,{title:aa.a.t("messageOptionsMenu.confirmationModal.title"),open:m,onClose:p,onConfirm:async()=>{try{await u.delete("/messages/"+a.id)}catch(e){oa(e)}}},aa.a.t("messageOptionsMenu.confirmationModal.message")),l.a.createElement(As,{title:aa.a.t("Transcri\xe7\xe3o de \xe1udio"),open:I,onClose:j},N),l.a.createElement(vs,{modalOpen:L,messages:D,onClose:e=>{B(!1),P(!1)}}),l.a.createElement(U.a,{anchorEl:r,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:t,onClose:o},a.fromMe&&l.a.createElement(Q.a,{key:"delete",onClick:e=>{p(!0),o()}},aa.a.t("messageOptionsMenu.delete")),a.fromMe&&new Date-new Date(a.createdAt)<=9e5&&l.a.createElement(Q.a,{key:"edit",onClick:async()=>{b(a),o()}},aa.a.t("messageOptionsMenu.edit")),"audio"===a.mediaType&&!a.fromMe&&l.a.createElement(Q.a,{onClick:async()=>{try{const e=String(a.mediaUrl).match(/\/([^\/]+\.ogg)$/),t=e?e[1]:null;if(!t)throw new Error("Formato de URL de \xe1udio inesperado");const n=await u.get("/messages/transcribeAudio/"+t),{data:l}=n;if(!l||"string"!==typeof l.transcribedText)throw l&&l.error?new Error(l.error):new Error("Dados de transcri\xe7\xe3o inv\xe1lidos");R(l.transcribedText),j(!0),o()}catch(e){oa(e.message||"Erro desconhecido")}}},aa.a.t("Transcrever \xe1udio")),l.a.createElement(Q.a,{onClick:()=>{d(a),o()}},aa.a.t("messageOptionsMenu.reply")),l.a.createElement(Q.a,{onClick:()=>{P(!F),o()}},aa.a.t("messageOptionsMenu.forward")),!a.fromMe&&i&&l.a.createElement(Q.a,{onClick:()=>{var e;return(async e=>{if(e){try{const{data:a}=await u.post("/tickets",{contactId:e,userId:null===g||void 0===g?void 0:g.id,status:"open",queueId:s,whatsappId:c});M(a),null===a.queueId?T(!0):(f("open"),h.push("/tickets/"+a.uuid))}catch(a){const e=JSON.parse(a.response.data.error);e.userId!==(null===g||void 0===g?void 0:g.id)?(v(!0),x(e.user.name),k(e.queue.name)):(v(!1),x(""),k(""),f(e.status),h.push("/tickets/"+e.uuid))}o()}})(null===a||void 0===a||null===(e=a.contact)||void 0===e?void 0:e.id)}},aa.a.t("messageOptionsMenu.talkTo"))))},xs=t.p+"static/media/wa-background.cd00123e.png",Cs=t.p+"static/media/wa-background-dark.4c52474f.png",ks=t(931);var ws=e=>{let{videoUrl:a}=e;const[t,o]=Object(n.useState)("");Object(n.useEffect)(()=>{let e=a.split("v=")[1];if(!e){const t=a.match(/(?:youtu\.be\/)([^?\n]+)/);e=t?t[1]:null}let t=e.indexOf("&");-1!=t&&(e=e.substring(0,t)),o(e)},[a]);return l.a.createElement("div",null,t&&l.a.createElement(ks.a,{videoId:t,opts:{height:"300",width:"100%"},style:{borderRadius:10,overflow:"hidden"}}))},Ts=t(1660),Os=t(1729),Ss=t(192),Ms=t(213);const Is=e=>{let{title:a,description:t}=e;return l.a.createElement("div",null,l.a.createElement(z.a,{variant:"body1",style:{fontWeight:"bold"}},a),l.a.createElement(z.a,{variant:"body2",style:{fontSize:"0.8rem"}},t))};var js=e=>{let{titulo:a,descricao:t,textoBotao:o,secoes:r,rodape:i,ticketId:s}=e;const[c,d]=Object(n.useState)(!1),[m,p]=Object(n.useState)(""),[g,E]=Object(n.useState)(""),[b,f]=Object(n.useState)(!1),h=()=>d(!1);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{border:"1px solid #e0e0e0",padding:"10px",borderRadius:"5px",width:"300px"}},l.a.createElement("h3",{style:{marginBottom:"10px"}},a),l.a.createElement("p",{style:{marginBottom:"10px"}},t),l.a.createElement("a",{href:i},i)),l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(B.a,{style:{margin:"5px 0",height:"2px",backgroundColor:"#e0e0e0"}}),l.a.createElement("div",{onClick:()=>d(!0),style:{display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",padding:"3px",backgroundColor:"#fff",color:"black",borderRadius:"4px",margin:"3px 0"}},l.a.createElement(Ss.a,{icon:Ms.d,style:{marginRight:"8px",fontSize:"0.8rem"}}),o)),l.a.createElement(Tt.a,{open:c,onClose:h},l.a.createElement(Mt.a,{style:{backgroundColor:"#4caf50",color:"white"}},"Lista de Bot\xf5es"),l.a.createElement(St.a,{style:{padding:"20px"}},l.a.createElement("h4",null,r[0].titulo),l.a.createElement(B.a,{style:{margin:"10px 0"}})," ",l.a.createElement(Ts.a,{value:m,onChange:e=>{const a=r[0].linhas.find(a=>a.idLinha===e.target.value);p(e.target.value),E(a.titulo)}},r[0].linhas.map(e=>l.a.createElement("div",{key:e.idLinha},l.a.createElement(Bi.a,{value:e.idLinha,control:l.a.createElement(Os.a,null),label:l.a.createElement(Is,{title:e.titulo,description:e.descricao})}),l.a.createElement(B.a,{style:{margin:"5px 0"}})," "))),l.a.createElement(Bt.a,{component:"form",style:{p:"2px 4px",display:"flex",alignItems:"center",borderRadius:"4px",marginTop:"20px",backgroundColor:"#f0f2f5"}},l.a.createElement(jl.a,{style:{padding:"10px",flex:1},value:g,onChange:e=>E(e.target.value),placeholder:"T\xedtulo Selecionado",inputProps:{"aria-label":"t\xedtulo selecionado"}}),l.a.createElement(D.a,{color:"primary",onClick:async()=>{if(f(!0),""===g.trim())return alert("Por favor, selecione um t\xedtulo."),void f(!1);if(!s)return console.error("ticketId n\xe3o est\xe1 definido"),alert("Erro: ticketId n\xe3o encontrado."),void f(!1);const e={read:1,fromMe:!0,mediaUrl:"",body:""+g.trim()};try{await u.post("/messages/"+s,e)}catch(a){console.error("Erro ao enviar a mensagem:",a),alert("Erro ao enviar a mensagem. Tente novamente.")}p(""),E(""),f(!1),h()}},l.a.createElement(qa.a,{style:{width:"35px",height:"35px",color:"#00A884"}}))))))},Ns=t(1661),Rs=t(1728),Fs=t(415),Ps=t.n(Fs);var Ds=e=>{let{companyId:a,avatarUser:t,avatarName:o,avatarUrl:r,name:i,numeroCobranca:s,produto:c,total:d,imagem:m}=e;const[u,p]=Object(n.useState)(!1),[g,E]=Object(n.useState)(""),[b,f]=Object(n.useState)(!1),h=`${w()}/public/company${a}/user/${t}`;console.log("Avatar:",h),console.log("Avatar User URL:",h);const A=()=>f(!1),v=e=>"R$ "+(e/100).toLocaleString("pt-BR",{minimumFractionDigits:2});return l.a.createElement(Sn.a,{style:{width:"300px",border:"1px solid #e0e0e0",borderRadius:"8px",overflow:"hidden"}},l.a.createElement("div",{style:{padding:"2px"}},l.a.createElement(In.a,{variant:"subtitle1",style:{fontWeight:"bold",fontSize:"10px"}},"N\xfamero da Cobran\xe7a: ",s),l.a.createElement(Ns.a,{style:{margin:"10px 0"}}),l.a.createElement(In.a,{variant:"h6",gutterBottom:!0},c),l.a.createElement(Ns.a,{style:{margin:"10px 0"}}),l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",margin:"10px 0"}},l.a.createElement(In.a,{variant:"body2",style:{fontSize:"12px"}},"PIX:"),l.a.createElement("img",{src:"https://www.imagensempng.com.br/wp-content/uploads/2023/06/Logo-Pix-Png-1024x1024.png",alt:"PIX Logo",style:{width:"30px",height:"30px"}})),l.a.createElement(Ns.a,{style:{margin:"10px 0"}}),l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",margin:"10px 0"}},l.a.createElement(In.a,{variant:"body2",style:{fontWeight:"bold",fontSize:"12px"}},"Total:"),l.a.createElement(In.a,{variant:"body2",style:{fontWeight:"bold",fontSize:"12px"}},v(d))),l.a.createElement(Eo.a,{variant:"outlined",fullWidth:!0,onClick:()=>f(!0)},"Mostrar detalhes")),l.a.createElement(Rs.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:u,autoHideDuration:2e3,onClose:()=>p(!1),message:g}),l.a.createElement(co.a,{open:b,onClose:A},l.a.createElement(mo.a,{style:{textAlign:"center"}},"Detalhes da Cobran\xe7a"),l.a.createElement(uo.a,null,l.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center",padding:"10px"}},r&&l.a.createElement("img",{src:r||h,alt:"Avatar",style:{width:"60px",height:"60px",borderRadius:"25px",marginBottom:"10px"}}),l.a.createElement(In.a,{variant:"body1",style:{fontWeight:"bold",fontSize:"17px"}},i,o),l.a.createElement(In.a,{variant:"body1",style:{fontSize:"15px"}},"N\xfamero da Cobran\xe7a: ",s),l.a.createElement("div",{style:{backgroundColor:"#888",borderRadius:"8px",padding:"5px 10px",display:"inline-block"}},l.a.createElement(In.a,{variant:"body2",style:{fontSize:"10px",color:"#fff"}},"Pagamento Solicitado")),l.a.createElement(Ns.a,{style:{margin:"10px 0",borderStyle:"dashed"}}),l.a.createElement(In.a,{variant:"body1",style:{fontSize:"15px"}},"Produto: ",c),l.a.createElement(Ns.a,{style:{margin:"10px 0",borderStyle:"dashed"}}),l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"15px"}},l.a.createElement(In.a,{variant:"body1",style:{marginRight:"10px"}},"Total:"),l.a.createElement(In.a,{variant:"body1",style:{textAlign:"right"}},v(d))))),l.a.createElement(go.a,null,l.a.createElement(Eo.a,{onClick:A,color:"primary"},"Fechar"))))},Ls=t(935);var Bs=e=>{let{titulo:a,descricao:t,textoBotao:o,secoes:r=[],rodape:i,ticketId:s,imagem:c}=e;const[d,m]=Object(n.useState)(!1),[p,g]=Object(n.useState)("");return l.a.createElement("div",{style:{width:"300px"}}," ",c&&l.a.createElement("div",{style:{textAlign:"center",marginBottom:"10px"}},l.a.createElement("img",{src:"data:image/jpeg;base64,"+c,alt:"Preview",style:{width:"50%",height:"auto",borderRadius:"5px"}})),l.a.createElement("div",{style:{border:"1px solid #e0e0e0",padding:"10px",borderRadius:"5px"}},l.a.createElement(z.a,{variant:"subtitle1",gutterBottom:!0},a),l.a.createElement(z.a,{variant:"body1",gutterBottom:!0},t),i&&l.a.createElement("span",{style:{fontSize:"12px",margin:"0px"}},/(https?:\/\/|www\.)/.test(i)?l.a.createElement("a",{href:i,target:"_blank",rel:"noopener noreferrer"},i):i)),l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(B.a,{style:{margin:"5px 0",height:"2px",backgroundColor:"#e0e0e0"}})),r.length>0?r.map((e,a)=>l.a.createElement("div",{key:a},e.linhas&&e.linhas.length>0?e.linhas.map((e,a)=>l.a.createElement(Bt.a,{key:a,style:{marginBottom:"10px",cursor:"pointer",width:"100%"},onClick:()=>(async(e,a,t)=>{switch(e){case"quick_reply":const e={read:1,fromMe:!0,mediaUrl:"",body:a};try{await u.post("/messages/"+s,e),m(!0)}catch(n){console.error(n)}break;case"cta_copy":t?(Ps()(t),g("C\xf3digo copiado!")):g("Nenhum conte\xfado para copiar."),m(!0);break;case"cta_url":t?window.open(t,"_blank"):(g("Nenhum link dispon\xedvel."),m(!0));break;case"cta_call":g("N\xe3o \xe9 poss\xedvel realizar chamadas pelo sistema, tente pelo celular."),m(!0)}})(e.tipo,e.texto,e.conteudo)},l.a.createElement(B.a,null),l.a.createElement("div",{style:{padding:"10px",display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexGrow:1}},(e=>{switch(e){case"quick_reply":return l.a.createElement(Ss.a,{icon:Ms.f});case"cta_copy":return l.a.createElement(Ss.a,{icon:Ls.a});case"cta_call":return l.a.createElement(Ss.a,{icon:Ms.e});case"cta_url":return l.a.createElement(Ss.a,{icon:Ms.c});default:return null}})(e.tipo),l.a.createElement("span",{style:{marginLeft:"8px",fontWeight:"bold"}},e.texto))))):l.a.createElement(z.a,{variant:"body2"},"Sem bot\xf5es nesta se\xe7\xe3o."))):l.a.createElement(z.a,{variant:"body2"},"Nenhuma se\xe7\xe3o dispon\xedvel."),l.a.createElement(lr.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:d,autoHideDuration:2e3,onClose:()=>{m(!1)},message:p}))};var Ws=e=>{let{name:a,startTime:t,endTime:o,location:r,joinLink:i,linkType:s}=e;const[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)(!1),[p,g]=Object(n.useState)(""),E=()=>d(!1),b=e=>{const a=new Date(1e3*e);return`${String(a.getDate()).padStart(2,"0")}/${String(a.getMonth()+1).padStart(2,"0")}/${a.getFullYear()}, ${a.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}`},f=()=>{Ps()(i),g("Link copiado!"),u(!0)};return l.a.createElement(Sn.a,{style:{width:"300px",border:"1px solid #e0e0e0",borderRadius:"8px",overflow:"hidden",backgroundColor:"#f0f0f0",padding:"10px"}},l.a.createElement("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px"}},l.a.createElement("div",{style:{width:"40px",height:"40px",backgroundColor:"white",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"10px"}},l.a.createElement(Ss.a,{icon:Ms.a,size:"lg",style:{color:"#4CAF50"}})),l.a.createElement(In.a,{variant:"h6",style:{fontWeight:"bold"}},a)),l.a.createElement(In.a,{variant:"body2",color:"textSecondary"},b(t)," - ",""+new Date(1e3*o).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})),l.a.createElement(In.a,{variant:"body2",style:{marginTop:"2px",fontWeight:"bold"}},"Endere\xe7o: ",r),l.a.createElement(Ns.a,{style:{margin:"10px 0"}}),l.a.createElement(In.a,{variant:"body2",color:"primary",onClick:f,style:{cursor:"pointer"}},l.a.createElement(Ss.a,{icon:Ms.b,style:{marginRight:"5px"}}),"voice"===s?"Liga\xe7\xe3o de voz do WhatsApp":"Liga\xe7\xe3o de v\xeddeo do WhatsApp"),l.a.createElement(Eo.a,{variant:"outlined",fullWidth:!0,onClick:()=>d(!0),style:{marginTop:"10px"}},"Mostrar detalhes"),l.a.createElement(Rs.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:m,autoHideDuration:2e3,onClose:()=>u(!1),message:p}),l.a.createElement(co.a,{open:c,onClose:E},l.a.createElement(mo.a,{style:{textAlign:"center"}},"Detalhes da Reuni\xe3o"),l.a.createElement(uo.a,null,l.a.createElement(In.a,{variant:"h6"},a),l.a.createElement(In.a,{variant:"body2",color:"textSecondary"},b(t)," - ",b(o)),l.a.createElement(In.a,{variant:"body2",style:{marginTop:"10px",fontWeight:"bold"}},"Endere\xe7o: ",r),l.a.createElement(In.a,{variant:"body2",color:"primary",onClick:f,style:{cursor:"pointer"}},l.a.createElement(Ss.a,{icon:Ms.b,style:{marginRight:"5px"}}),"voice"===s?"Liga\xe7\xe3o de voz do WhatsApp":"Liga\xe7\xe3o de v\xeddeo do WhatsApp")),l.a.createElement(go.a,null,l.a.createElement(Eo.a,{onClick:E,color:"primary"},"Fechar"))))};var qs=e=>{let{image:a,title:t,body:o,sourceUrl:r,messageUser:i}=e;Object(n.useEffect)(()=>{},[a,t,o,r,i]);const s=async()=>{try{window.open(r)}catch(e){oa(e)}};return l.a.createElement("div",{style:{minWidth:"250px"}},l.a.createElement("div",null,l.a.createElement("div",{style:{float:"left"}},l.a.createElement("img",{src:a,alt:"Thumbnail",onClick:s,style:{width:"100px"}})),l.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},l.a.createElement(z.a,{style:{marginTop:"12px",marginLeft:"15px",marginRight:"15px",float:"left"},variant:"subtitle1",color:"primary",gutterBottom:!0},l.a.createElement("div",null,t)),l.a.createElement(z.a,{style:{marginTop:"12px",marginLeft:"15px",marginRight:"15px",float:"left"},variant:"subtitle2",color:"textSecondary",gutterBottom:!0},l.a.createElement("div",null,i))),l.a.createElement("div",{style:{display:"block",content:"",clear:"both"}}),l.a.createElement("div",null,l.a.createElement(B.a,null),l.a.createElement(kt.a,{fullWidth:!0,color:"primary",onClick:s,disabled:!r},"Visualizar"))))},zs=t(1725);var Hs=e=>{let{message:a}=e;const[t,o]=l.a.useState(!1),{showSelectMessageCheckbox:r,setSelectedMessages:i,selectedMessages:s}=Object(n.useContext)(Oi);return r?l.a.createElement(zs.a,{color:"primary",checked:t,onChange:e=>((e,a)=>{const t=s;if(e.target.checked)o(!0),t.push(a);else{const e=t.findIndex(e=>e.id===a.id);t.splice(e,1),o(!0)}i(t)})(e,a)}):null};function Us(e,a){a||(a=e.split("\\").pop().split("/").pop()),fetch(e,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then(e=>e.blob()).then(e=>{!function(e,a){var t=document.createElement("a");t.download=a,t.href=e,document.body.appendChild(t),t.click(),t.remove()}(window.URL.createObjectURL(e),a)}).catch(e=>console.error(e))}const Qs=Object(I.a)(e=>({messagesListWrapper:{overflow:"hidden",position:"relative",display:"flex",flexDirection:"column",flexGrow:1,width:"100%",minWidth:300,minHeight:200},currentTick:{alignItems:"center",textAlign:"center",alignSelf:"center",width:"95%",backgroundColor:e.palette.primary.main,margin:"10px",borderRadius:"10px",boxShadow:"1px 5px 10px #b3b3b3"},currentTicktText:{color:e.palette.primary,fontWeight:"bold",padding:8,alignSelf:"center",marginLeft:"0px"},messagesList:{backgroundImage:"light"===e.mode?`url(${xs})`:`url(${Cs})`,backgroundColor:"light"===e.mode?"transparent":"#0b0b0d",display:"flex",flexDirection:"column",flexGrow:1,padding:"20px 20px 30px 20px",overflowY:"scroll",...e.scrollbarStyles},dragElement:{background:"rgba(255, 255, 255, 0.8)",position:"absolute",width:"100%",height:"100%",zIndex:999999,textAlign:"center",fontSize:"3em",border:"5px dashed #333",color:"#333",display:"flex",justifyContent:"center",alignItems:"center"},circleLoading:{color:Ur.a[500],position:"absolute",opacity:"70%",top:0,left:"50%",marginTop:12},messageLeft:{marginRight:20,marginTop:2,minWidth:100,maxWidth:600,height:"auto",display:"block",position:"relative","&:hover #messageActionsButton":{display:"flex",position:"absolute",top:0,right:0},whiteSpace:"pre-wrap",backgroundColor:"light"===e.mode?"#ffffff":"#202c33",color:"light"===e.mode?"#303030":"#ffffff",alignSelf:"flex-start",borderTopLeftRadius:0,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0,boxShadow:"light"===e.mode?"0 1px 1px #b3b3b3":"0 1px 1px #000000"},quotedContainerLeft:{margin:"-3px -80px 6px -6px",overflow:"hidden",backgroundColor:"light"===e.mode?"#f0f0f0":"#1d282f",borderRadius:"7.5px",display:"flex",position:"relative"},quotedMsg:{padding:10,maxWidth:300,height:"auto",display:"block",whiteSpace:"pre-wrap",overflow:"hidden"},quotedSideColorLeft:{flex:"none",width:"4px",backgroundColor:"#388aff"},messageRight:{marginLeft:20,marginTop:2,minWidth:100,maxWidth:600,height:"auto",display:"block",position:"relative","&:hover #messageActionsButton":{display:"flex",position:"absolute",top:0,right:0},whiteSpace:"pre-wrap",backgroundColor:"light"===e.mode?"#dcf8c6":"#005c4b",color:"light"===e.mode?"#303030":"#ffffff",alignSelf:"flex-end",borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:0,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0,boxShadow:"light"===e.mode?"0 1px 1px #b3b3b3":"0 1px 1px #000000"},messageRightPrivate:{marginLeft:20,marginTop:2,minWidth:100,maxWidth:600,height:"auto",display:"block",position:"relative","&:hover #messageActionsButton":{display:"flex",position:"absolute",top:0,right:0},whiteSpace:"pre-wrap",backgroundColor:"#F0E68C",color:"#303030",alignSelf:"flex-end",borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:0,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0,boxShadow:"light"===e.mode?"0 1px 1px #b3b3b3":"0 1px 1px #000000"},quotedContainerRight:{margin:"-3px -80px 6px -6px",overflowY:"hidden",backgroundColor:"light"===e.mode?"#cfe9ba":"#025144",borderRadius:"7.5px",display:"flex",position:"relative"},quotedMsgRight:{padding:10,maxWidth:300,height:"auto",whiteSpace:"pre-wrap"},quotedSideColorRight:{flex:"none",width:"4px",backgroundColor:"#35cd96"},messageActionsButton:{display:"none",position:"relative",color:"#999",zIndex:1,backgroundColor:"inherit",opacity:"90%","&:hover, &.Mui-focusVisible":{backgroundColor:"inherit"}},messageContactName:{display:"flex",color:"#6bcbef",fontWeight:500},textContentItem:{overflowWrap:"break-word",padding:"3px 80px 6px 6px"},textContentItemDeleted:{fontStyle:"italic",color:"rgba(0, 0, 0, 0.36)",overflowWrap:"break-word",padding:"3px 80px 6px 6px"},messageMedia:{objectFit:"cover",width:400,height:"auto",borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8},timestamp:{fontSize:11,position:"absolute",bottom:0,right:5,color:"#999"},forwardMessage:{fontSize:12,fontStyle:"italic",position:"absolute",top:0,left:5,color:"#999",display:"flex",alignItems:"center"},dailyTimestamp:{alignItems:"center",textAlign:"center",alignSelf:"center",width:"110px",backgroundColor:"#e1f3fb",margin:"10px",borderRadius:"10px",boxShadow:"0 1px 1px #b3b3b3"},dailyTimestampText:{color:"#808888",padding:8,alignSelf:"center",marginLeft:"0px"},ackIcons:{fontSize:18,verticalAlign:"middle",marginLeft:4},deletedIcon:{fontSize:18,verticalAlign:"middle",marginRight:4},ackDoneAllIcon:{color:Ur.a[500],fontSize:18,verticalAlign:"middle",marginLeft:4},ackPlayedIcon:{color:La.a[500],fontSize:18,verticalAlign:"middle",marginLeft:4},downloadMedia:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"inherit",padding:10,color:"light"===e.mode?e.palette.light:e.palette.dark},messageCenter:{marginTop:5,alignItems:"center",verticalAlign:"center",alignContent:"center",backgroundColor:"#E1F5FEEB",fontSize:"12px",minWidth:100,maxWidth:270,color:"#272727",borderTopLeftRadius:0,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0,boxShadow:"0 1px 1px #b3b3b3"},deletedMessage:{color:"#f55d65"}})),Vs=(e,a)=>{if("LOAD_MESSAGES"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...n,...e]}if("ADD_MESSAGE"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?e[n]=t:e.push(t),[...e]}if("UPDATE_MESSAGE"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n&&(e[n]=t),[...e]}if("RESET"===a.type)return[]};var Gs=e=>{let{isGroup:a,onDrop:o,whatsappId:r,queueId:i,channel:s}=e;const c=Qs(),[d,m]=Object(n.useReducer)(Vs,[]),[p,g]=Object(n.useState)(1),[E,b]=Object(n.useState)(!1),[f,h]=Object(n.useState)(!1),[A,v]=Object(n.useState)(!1),y=Object(O.useHistory)(),x=Object(n.useRef)(),[C,k]=Object(n.useState)({}),{setReplyingMessage:w}=Object(n.useContext)(mi),[T,S]=Object(n.useState)(null),I=Boolean(T),{ticketId:j}=Object(O.useParams)(),N=Object(n.useRef)(j),{getAll:R}=ct(),[F,P]=Object(n.useState)(!1),[L,W]=Object(n.useState)(!1),{selectedQueuesMessage:q}=Object(n.useContext)(or),{showSelectMessageCheckbox:z}=Object(n.useContext)(Oi),{user:H,socket:U}=Object(n.useContext)(ua),Q=H.companyId;Object(n.useEffect)(()=>{!async function(){const e=await R(Q);let a,t;for(const[n,l]of Object.entries(e))"lgpdDeleteMessage"===n&&(a=l),"enableLGPD"===n&&(t=l);"enabled"===t&&"enabled"===a&&W(!0)}()},[]),Object(n.useEffect)(()=>{m({type:"RESET"}),g(1),N.current=j},[j,q]),Object(n.useEffect)(()=>{h(!0);const e=setTimeout(()=>{(async()=>{if("undefined"!==j){if(!Object(la.isNil)(j))try{const{data:e}=await u.get("/messages/"+j,{params:{pageNumber:p,selectedQueues:JSON.stringify(q)}});N.current===j&&(m({type:"LOAD_MESSAGES",payload:e.messages}),b(e.hasMore),h(!1),v(!1)),1===p&&e.messages.length>1&&V()}catch(e){h(!1),oa(e),v(!1)}}else y.push("/tickets")})()},500);return()=>{clearTimeout(e)}},[p,j,q]),Object(n.useEffect)(()=>{if("undefined"===j)return;const e=H.companyId,a=()=>{U.emit("joinChatBox",""+j)},t=e=>{var a,t,n;"create"===e.action&&e.ticket.uuid===j&&(m({type:"ADD_MESSAGE",payload:e.message}),V()),"update"===e.action&&(null===e||void 0===e||null===(a=e.message)||void 0===a||null===(t=a.ticket)||void 0===t?void 0:t.uuid)===j&&m({type:"UPDATE_MESSAGE",payload:e.message}),"delete"==e.action&&(null===(n=e.message.ticket)||void 0===n?void 0:n.uuid)===j&&m({type:"DELETE_MESSAGE",payload:e.messageId})};return U.on("connect",a),U.on(`company-${e}-appMessage`,t),()=>{U.emit("joinChatBoxLeave",""+j),U.off("connect",a),U.off(`company-${e}-appMessage`,t)}},[j]);const V=()=>{setTimeout(()=>{x.current&&x.current.scrollIntoView({})},100)},G=(e,a)=>{S(e.currentTarget),k(a)},K=(e,a)=>{S(null),w(a)},Y=e=>{if(console.log(e),"eventMessage"===e.mediaType)try{var a;const t=JSON.parse(e.dataJson).message.eventMessage,n=t.name||"Sem t\xedtulo",o=t.description||"Sem descri\xe7\xe3o",r=(null===(a=t.location)||void 0===a?void 0:a.name)||"Local n\xe3o especificado",i=t.joinLink||"#",s=i.includes("video")?"video":"voice",c=Number(t.startTime),d=c+7200;return l.a.createElement(Ws,{name:n,description:o,location:r,startTime:c,endTime:d,joinLink:i,linkType:s})}catch(P){console.error("Erro ao processar a mensagem de evento: ",P)}else if("listMessage"===e.mediaType)try{var t;const a=JSON.parse(e.dataJson).message.listMessage;let n=a.title||"",o=a.description||"",r=a.footerText||"",i=[],s=[];return a.sections.forEach((e,a)=>{let t=e.title||"";e.rows.forEach((e,a)=>{s.push({titulo:e.title,descricao:e.description,idLinha:e.rowId})}),i.push({titulo:t,linhas:s}),s=[]}),l.a.createElement(js,{titulo:n,descricao:o,textoBotao:a.buttonText||"Clique aqui",secoes:i,rodape:r,ticketId:null===e||void 0===e||null===(t=e.ticket)||void 0===t?void 0:t.id})}catch(P){console.error("Erro ao processar a lista de mensagens: ",P)}else if("viewOnceMessage"===e.mediaType&&e.body.startsWith("[BOTOES]"))try{var n,o,r,i,s,d,m;const a=e.dataJson;if(!a||"string"!==typeof a)return void console.error("dataJson n\xe3o est\xe1 definido ou n\xe3o \xe9 uma string v\xe1lida.");const t=JSON.parse(a).message.viewOnceMessage.message.interactiveMessage;if(!t)return void console.error("viewOnceMessage n\xe3o est\xe1 definido.");const c=(null===(n=t.body)||void 0===n?void 0:n.text)||"",u=(null===(o=t.footer)||void 0===o?void 0:o.text)||"",p=(null===(r=t.nativeFlowMessage)||void 0===r||null===(i=r.buttons)||void 0===i?void 0:i.map(e=>{const{name:a,buttonParamsJson:t}=e,n=JSON.parse(t);return{tipo:a,texto:n.display_text,conteudo:n.phoneNumber||n.url||n.copy_code}}))||[];let g=null;return(null===(s=t.header)||void 0===s||null===(d=s.imageMessage)||void 0===d?void 0:d.jpegThumbnail)?g=t.header.imageMessage.jpegThumbnail:console.log("Nenhuma imagem encontrada no header."),l.a.createElement(Bs,{titulo:c,rodape:u,secoes:[{titulo:"Bot\xf5es",linhas:p}],imagem:g,ticketId:null===e||void 0===e||null===(m=e.ticket)||void 0===m?void 0:m.id})}catch(P){console.error("Erro ao processar a mensagem do tipo viewOnceMessage: ",P)}else{if("viewOnceMessage"!==e.mediaType&&"interactiveMessage"!==e.mediaType||!e.body.startsWith("[PIX]")){if("locationMessage"===e.mediaType&&e.body.split("|").length>=2){let a=e.body.split("|"),t=a[0],n=a[1],o=null;return a.length>2&&(o=e.body.split("|")[2]),l.a.createElement(hs,{image:t,link:n,description:o})}if("contactMessage"===e.mediaType){var u,p,g;let a=e.body.split("\n"),t=[],n="";for(let e=0;e<a.length;e++){let l=a[e].split(":");for(let e=0;e<l.length;e++)-1!==l[e].indexOf("+")&&t.push({number:l[e]}),-1!==l[e].indexOf("FN")&&(n=l[e+1])}return l.a.createElement(fs,{contact:n,numbers:null===(u=t[0])||void 0===u?void 0:u.number,queueId:null===e||void 0===e||null===(p=e.ticket)||void 0===p?void 0:p.queueId,whatsappId:null===e||void 0===e||null===(g=e.ticket)||void 0===g?void 0:g.whatsappId})}if("adMetaPreview"===e.mediaType){console.log("Entrou no MetaPreview");let[a,t,n,o,r]=e.body.split("|");return l.a.createElement(qs,{image:a,sourceUrl:t,title:n,body:o,messageUser:r})}return"image"===e.mediaType?l.a.createElement(hr,{imageUrl:e.mediaUrl}):"audio"===e.mediaType?l.a.createElement(Ni,{url:e.mediaUrl}):"video"===e.mediaType?l.a.createElement("video",{className:c.messageMedia,src:e.mediaUrl,controls:!0}):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:c.downloadMedia},l.a.createElement(kt.a,{startIcon:l.a.createElement(gs.a,null),variant:"outlined",target:"_blank",onClick:()=>{Us(e.mediaUrl||e.body)}},"Download")),l.a.createElement(B.a,null))}try{var E,b,f,h,A,v,y,x,C,k,w,T,O,S,M,I,j,N,R,F;const a=e.dataJson;if(!a||"string"!==typeof a)return void console.error("dataJson n\xe3o est\xe1 definido ou n\xe3o \xe9 uma string v\xe1lida.");const t=JSON.parse(a),n=(null===(E=t.message)||void 0===E||null===(b=E.interactiveMessage)||void 0===b?void 0:b.nativeFlowMessage)||(null===(f=t.message)||void 0===f||null===(h=f.viewOnceMessage)||void 0===h||null===(A=h.message)||void 0===A||null===(v=A.interactiveMessage)||void 0===v?void 0:v.nativeFlowMessage);if(!n)return void console.error("Mensagem de fluxo nativa n\xe3o encontrada.");const o=null===(y=n.buttons)||void 0===y?void 0:y[0];if(!o)return void console.error("Bot\xe3o n\xe3o encontrado.");const{name:r,buttonParamsJson:i}=o,s=JSON.parse(i),c=s.reference_id||"N/A",d=(null===(x=s.total_amount)||void 0===x?void 0:x.value)||"N/A",m=(null===(C=s.order)||void 0===C||null===(k=C.items)||void 0===k||null===(w=k[0])||void 0===w?void 0:w.name)||"N/A";let u=null;return(null===(T=n.header)||void 0===T||null===(O=T.imageMessage)||void 0===O?void 0:O.jpegThumbnail)&&(u=n.header.imageMessage.jpegThumbnail),l.a.createElement(Ds,{companyId:e.companyId,avatarUser:null===(S=e.ticket)||void 0===S||null===(M=S.user)||void 0===M?void 0:M.profileImage,avatarName:null===(I=e.ticket)||void 0===I||null===(j=I.user)||void 0===j?void 0:j.name,avatarUrl:null===(N=e.contact)||void 0===N?void 0:N.urlPicture,name:null===(R=e.contact)||void 0===R?void 0:R.name,numeroCobranca:c,total:d,produto:m,imagem:u,ticketId:null===e||void 0===e||null===(F=e.ticket)||void 0===F?void 0:F.id})}catch(P){console.error("Erro ao processar a mensagem de pagamento: ",P)}}},X=(e,a)=>{const t=Object(Sa.a)(new Date,"dd/MM/yyyy");if(0===a)return l.a.createElement("span",{className:c.dailyTimestamp,key:"timestamp-"+e.id},l.a.createElement("div",{className:c.dailyTimestampText},t===Object(Sa.a)(Object(Fa.a)(d[a].createdAt),"dd/MM/yyyy")?"HOJE":Object(Sa.a)(Object(Fa.a)(d[a].createdAt),"dd/MM/yyyy")));if(a<d.length-1){let n=Object(Fa.a)(d[a].createdAt),o=Object(Fa.a)(d[a-1].createdAt);if(!Object(Ra.a)(n,o))return l.a.createElement("span",{className:c.dailyTimestamp,key:"timestamp-"+e.id},l.a.createElement("div",{className:c.dailyTimestampText},t===Object(Sa.a)(Object(Fa.a)(d[a].createdAt),"dd/MM/yyyy")?"HOJE":Object(Sa.a)(Object(Fa.a)(d[a].createdAt),"dd/MM/yyyy")))}else if(a===d.length-1)return l.a.createElement("div",{key:"ref-"+e.id,ref:x,style:{float:"left",clear:"both"}})},J=(e,a)=>{var t;let n=null===(t=d[a-1])||void 0===t?void 0:t.ticketId;var o,r,i,s,m;if(n!==e.ticketId&&void 0!==n)return(null===e||void 0===e||null===(o=e.ticket)||void 0===o?void 0:o.queue)?l.a.createElement("span",{className:c.currentTick,key:`timestamp-${e.id}a`},l.a.createElement("div",{className:c.currentTicktText,style:{backgroundColor:(null===e||void 0===e||null===(r=e.ticket)||void 0===r||null===(i=r.queue)||void 0===i?void 0:i.color)||"grey"}},"#",aa.a.t("ticketsList.called")," ",null===e||void 0===e?void 0:e.ticketId," - ",null===e||void 0===e||null===(s=e.ticket)||void 0===s||null===(m=s.queue)||void 0===m?void 0:m.name)):l.a.createElement("span",{className:c.currentTick,key:`timestamp-${e.id}b`},l.a.createElement("div",{className:c.currentTicktText,style:{backgroundColor:"grey"}},"#",aa.a.t("ticketsList.called")," ",e.ticketId," - ",aa.a.t("ticketsList.noQueue")))},Z=(e,a)=>{if(a<d.length&&a>0){if(d[a].fromMe!==d[a-1].fromMe)return l.a.createElement("span",{style:{marginTop:16},key:"divider-"+e.id})}},_=t(624),$=e=>{var a,t,n,o,r,i;return l.a.createElement("div",{className:Object(M.a)(c.quotedContainerLeft,{[c.quotedContainerRight]:e.fromMe})},l.a.createElement("span",{className:Object(M.a)(c.quotedSideColorLeft,{[c.quotedSideColorRight]:null===(a=e.quotedMsg)||void 0===a?void 0:a.fromMe})}),l.a.createElement("div",{className:c.quotedMsg},!(null===(t=e.quotedMsg)||void 0===t?void 0:t.fromMe)&&l.a.createElement("span",{className:c.messageContactName},null===(n=e.quotedMsg)||void 0===n||null===(o=n.contact)||void 0===o?void 0:o.name),"audio"===e.quotedMsg.mediaType&&l.a.createElement("div",{className:c.downloadMedia},l.a.createElement(Ni,{url:e.quotedMsg.mediaUrl})),"video"===e.quotedMsg.mediaType&&l.a.createElement("video",{className:c.messageMedia,src:e.quotedMsg.mediaUrl,controls:!0}),"contactMessage"===e.quotedMsg.mediaType&&"Contato","application"===e.quotedMsg.mediaType&&l.a.createElement("div",{className:c.downloadMedia},l.a.createElement(kt.a,{startIcon:l.a.createElement(gs.a,null),variant:"outlined",target:"_blank",href:e.quotedMsg.mediaUrl},"Download")),"image"===e.quotedMsg.mediaType&&l.a.createElement(hr,{imageUrl:e.quotedMsg.mediaUrl})||(null===(r=e.quotedMsg)||void 0===r?void 0:r.body),"image"===!e.quotedMsg.mediaType&&(null===(i=e.quotedMsg)||void 0===i?void 0:i.body)))},ee=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?P(!0):"dragleave"===e.type&&P(!1)},ae=e=>/(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/.test(e),te=/<([^>]+)>/g,ne=/\*(.*?)\*/g;return l.a.createElement("div",{className:c.messagesListWrapper,onDragEnter:ee},F&&l.a.createElement("div",{className:c.dragElement,onDragEnter:ee,onDragLeave:ee,onDragOver:ee,onDrop:e=>{e.preventDefault(),e.stopPropagation(),P(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&o&&o(e.dataTransfer.files)}},"Solte o arquivo aqui"),l.a.createElement(ys,{message:C,anchorEl:T,menuOpen:I,handleClose:e=>{S(null)},isGroup:a,whatsappId:r,queueId:i}),l.a.createElement("div",{id:"messagesList",className:c.messagesList,onScroll:e=>{if(!E)return;const{scrollTop:a}=e.currentTarget;0===a&&(document.getElementById("messagesList").scrollTop=1),f||a<50&&(A||(v(!0),g(e=>e+1)))}},d.length>0?(()=>{if(d.length>0){return d.map((e,t)=>{var n,o,r,i,s,d;return"call_log"===e.mediaType?l.a.createElement(l.a.Fragment,{key:e.id},X(e,t),J(e,t),Z(e,t),l.a.createElement("div",{className:c.messageCenter},l.a.createElement(D.a,{variant:"contained",size:"small",id:"messageActionsButton",disabled:e.isDeleted,className:c.messageActionsButton,onClick:a=>G(a,e)},l.a.createElement(bs.a,null)),a&&l.a.createElement("span",{className:c.messageContactName},null===(n=e.contact)||void 0===n?void 0:n.name),l.a.createElement("div",null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 17",width:"20",height:"17"},l.a.createElement("path",{fill:"#df3333",d:"M18.2 12.1c-1.5-1.8-5-2.7-8.2-2.7s-6.7 1-8.2 2.7c-.7.8-.3 2.3.2 2.8.2.2.3.3.5.3 1.4 0 3.6-.7 3.6-.7.5-.2.8-.5.8-1v-1.3c.7-1.2 5.4-1.2 6.4-.1l.1.1v1.3c0 .2.1.4.2.6.1.2.3.3.5.4 0 0 2.2.7 3.6.7.2 0 1.4-2 .5-3.1zM5.4 3.2l4.7 4.6 5.8-5.7-.9-.8L10.1 6 6.4 2.3h2.5V1H4.1v4.8h1.3V3.2z"}))," ",l.a.createElement("span",null,aa.a.t("ticketsList.missedCall")," ",Object(Sa.a)(Object(Fa.a)(e.createdAt),"HH:mm"))))):e.fromMe?l.a.createElement(l.a.Fragment,{key:e.id},X(e,t),J(e,t),Z(e,t),l.a.createElement("div",{className:e.isPrivate?c.messageRightPrivate:c.messageRight,title:e.queueId&&(null===(o=e.queue)||void 0===o?void 0:o.name),onDoubleClick:a=>K(0,e)},z&&l.a.createElement(Hs,{message:e}),l.a.createElement(D.a,{variant:"contained",size:"small",id:"messageActionsButton",disabled:e.isDeleted,className:c.messageActionsButton,onClick:a=>G(a,e)},l.a.createElement(bs.a,null)),e.isForwarded&&l.a.createElement("div",null,l.a.createElement("span",{className:c.forwardMessage},l.a.createElement(ei.a,{style:{color:"grey",transform:"scaleX(-1)"}})," Encaminhada"),l.a.createElement("br",null)),ae(e.body)&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ws,{videoUrl:e.body})),!L&&e.isDeleted&&l.a.createElement("div",null,l.a.createElement("span",{className:c.deletedMessage},"\ud83d\udeab Essa mensagem foi apagada \xa0")),(e.mediaUrl||"locationMessage"===e.mediaType||"contactMessage"===e.mediaType||"pollCreationMessageV3"===e.mediaType||"eventMessage"===e.mediaType||"listMessage"===e.mediaType||"viewOnceMessage"===e.mediaType||"interactiveMessage"===e.mediaType||"adMetaPreview"===e.mediaType)&&Y(e),l.a.createElement("div",{className:Object(M.a)(c.textContentItem,{[c.textContentItemDeleted]:e.isDeleted})},e.quotedMsg&&$(e),("image"===e.mediaType||"video"===e.mediaType)&&_.basename(e.mediaUrl)===e.body||"audio"!==e.mediaType&&"reactionMessage"!=e.mediaType&&"locationMessage"!=e.mediaType&&"contactMessage"!==e.mediaType&&"pollCreationMessageV3"!=e.mediaType&&"eventMessage"!=e.mediaType&&"listMessage"!=e.mediaType&&"viewOnceMessage"!=e.mediaType&&"interactiveMessage"!=e.mediaType&&"adMetaPreview"!==e.mediaType&&l.a.createElement(l.a.Fragment,null,te.test(e.body)&&l.a.createElement("div",null,(d=e.body,ne.test(d)&&(d=d.replace(ne,"**$1**")),d)),!te.test(e.body)&&l.a.createElement(Xa,null,e.body)),e.quotedMsg&&"reactionMessage"===e.mediaType&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{style:{marginLeft:"0px"}},l.a.createElement(Xa,null,"Voc\xea reagiu... "+e.body))),l.a.createElement("span",{className:c.timestamp},e.isEdited?"Editada "+Object(Sa.a)(Object(Fa.a)(e.createdAt),"HH:mm"):Object(Sa.a)(Object(Fa.a)(e.createdAt),"HH:mm"),(e=>0===e.ack?l.a.createElement(ql.a,{fontSize:"small",className:c.ackIcons}):1===e.ack?l.a.createElement(Bo.a,{fontSize:"small",className:c.ackIcons}):2===e.ack?l.a.createElement(Es.a,{fontSize:"small",className:c.ackIcons}):3===e.ack||4===e.ack?l.a.createElement(Es.a,{fontSize:"small",className:"audio"===e.mediaType?c.ackPlayedIcon:c.ackDoneAllIcon}):5===e.ack?l.a.createElement(Es.a,{fontSize:"small",className:c.ackDoneAllIcon}):void 0)(e))))):l.a.createElement(l.a.Fragment,{key:e.id},X(e,t),J(e,t),Z(e,t),l.a.createElement("div",{className:c.messageLeft,title:e.queueId&&(null===(r=e.queue)||void 0===r?void 0:r.name),onDoubleClick:a=>K(0,e)},z&&l.a.createElement(Hs,{message:e}),l.a.createElement(D.a,{variant:"contained",size:"small",id:"messageActionsButton",disabled:e.isDeleted,className:c.messageActionsButton,onClick:a=>G(a,e)},l.a.createElement(bs.a,null)),e.isForwarded&&l.a.createElement("div",null,l.a.createElement("span",{className:c.forwardMessage},l.a.createElement(ei.a,{style:{color:"grey",transform:"scaleX(-1)"}})," Encaminhada"),l.a.createElement("br",null)),a&&l.a.createElement("span",{className:c.messageContactName},null===(i=e.contact)||void 0===i?void 0:i.name),ae(e.body)&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ws,{videoUrl:e.body})),!L&&e.isDeleted&&l.a.createElement("div",null,l.a.createElement("span",{className:c.deletedMessage},"\ud83d\udeab Essa mensagem foi apagada pelo contato \xa0")),(e.mediaUrl||"locationMessage"===e.mediaType||"contactMessage"===e.mediaType||"pollCreationMessageV3"===e.mediaType||"eventMessage"===e.mediaType||"listMessage"===e.mediaType||"viewOnceMessage"===e.mediaType||"interactiveMessage"===e.mediaType||"adMetaPreview"===e.mediaType)&&Y(e),l.a.createElement("div",{className:Object(M.a)(c.textContentItem,{[c.textContentItemDeleted]:e.isDeleted})},e.quotedMsg&&$(e),(null!==e.mediaUrl&&("image"===e.mediaType||"video"===e.mediaType)&&_.basename(e.mediaUrl).trim()!==e.body.trim()||"audio"!==e.mediaType&&"image"!==e.mediaType&&"video"!==e.mediaType&&"reactionMessage"!=e.mediaType&&"locationMessage"!=e.mediaType&&"contactMessage"!==e.mediaType&&"pollCreationMessageV3"!=e.mediaType&&"eventMessage"!=e.mediaType&&"listMessage"!=e.mediaType&&"viewOnceMessage"!=e.mediaType&&"interactiveMessage"!=e.mediaType&&"adMetaPreview"!==e.mediaType)&&l.a.createElement(l.a.Fragment,null,te.test(e.body)&&l.a.createElement("span",null,e.body),!te.test(e.body)&&l.a.createElement(Xa,null,L&&e.isDeleted?"\ud83d\udeab _Mensagem apagada_ ":e.body)),e.quotedMsg&&"reactionMessage"===e.mediaType&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{style:{marginLeft:"0px"}},l.a.createElement(Xa,null,(null===e||void 0===e||null===(s=e.contact)||void 0===s?void 0:s.name)+" reagiu... "+e.body))),l.a.createElement("span",{className:c.timestamp},e.isEdited?"Editada "+Object(Sa.a)(Object(Fa.a)(e.createdAt),"HH:mm"):Object(Sa.a)(Object(Fa.a)(e.createdAt),"HH:mm")))))})}return l.a.createElement("div",null,"Diga ol\xe1 para seu novo contato!")})():[]),"whatsapp"!==s&&void 0!==s&&l.a.createElement("div",{style:{width:"100%",display:"flex",padding:"10px",alignItems:"center",backgroundColor:"#E1F3FB"}},"facebook"===s?l.a.createElement(ro.a,null):l.a.createElement(io.a,null),l.a.createElement("span",null,"Voc\xea tem 24h para responder ap\xf3s receber uma mensagem, de acordo com as pol\xedticas do Facebook.")),f&&l.a.createElement("div",null,l.a.createElement(It.a,{className:c.circleLoading})))},Ks=t(936),Ys=t.n(Ks);const Xs=Object(I.a)(e=>({root:{display:"flex",height:"100%",position:"relative",overflow:"hidden"},mainWrapper:{flex:1,height:"100%",display:"flex",flexDirection:"column",overflow:"hidden",borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeft:"0",marginRight:-320,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},mainWrapperShift:{borderTopRightRadius:0,borderBottomRightRadius:0,transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0}}));function Js(e){let{open:a,handleClose:t,ticketId:o}=e;Object(O.useHistory)(),Xs();const{user:r,socket:i}=Object(n.useContext)(ua),[,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(!0),[m,u]=Object(n.useState)({}),[p,g]=Object(n.useState)({}),[E,b]=Object(n.useState)(!1),f=()=>{const e=document.getElementById("messagesList"),a=document.getElementById("TicketHeader"),t={margin:1,filename:`relat\xf3rio_atendimento_${o}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};if(e){const n=a.cloneNode(!0),l=e.cloneNode(!0),o=document.createElement("div");o.appendChild(n),o.appendChild(l),Ys()().from(o).set(t).save()}else oa("Elemento n\xe3o encontrado para exportar.")},h=()=>{E||(f(),b(!0),t())};return Object(n.useEffect)(()=>{a&&h()},[a,o,h]),l.a.createElement(Tt.a,{maxWidth:"md",onClose:t,open:a},l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:f,color:"primary"},"Exportar para PDF"),l.a.createElement(kt.a,{onClick:t,color:"primary"},"Fechar")))}var Zs=t(438);const _s=Object(I.a)(e=>({actionButtons:{marginRight:6,maxWidth:"100%",flex:"none",alignSelf:"center",marginLeft:"auto",display:"flex","& > *":{margin:e.spacing(1)}},bottomButtonVisibilityIcon:{padding:1,color:"light"===e.mode?"#0872b9":"#FFF"},botoes:{display:"flex",padding:"15px",justifyContent:"flex-end",maxWidth:"100%"}})),$s=xt.c().shape({ratingId:xt.e().required("Avalia\xe7\xe3o obrigat\xf3ria")});var ec=e=>{let{ticket:a}=e;const t=_s(),o=Object(Zs.a)(),r=Object(O.useHistory)(),[i,s]=Object(n.useState)(!0),[c,d]=Object(n.useState)(!1),{user:m}=Object(n.useContext)(ua),{setCurrentTicket:p,setTabOpen:g}=Object(n.useContext)(et),[E,b]=l.a.useState(!1),f=l.a.useRef(null),[h,A]=Object(n.useState)(!1),[v,y]=Object(n.useState)(!1),[x,C]=Object(n.useState)(!1),[k,w]=Object(n.useState)(null),[T,M]=Object(n.useState)(!1),[I,j]=Object(n.useState)(!1),[N,R]=Object(n.useState)(!1),[F,P]=Object(n.useState)(a.contact.disableBot),[L,B]=Object(n.useState)(!1),[W,q]=Object(n.useState)(a.useIntegration),[z,H]=Object(n.useState)(!1),[V,G]=Object(n.useState)(""),[K,Y]=Object(n.useState)(""),[X,J]=Object(n.useState)([]),{get:Z}=ct(),{getPlanCompany:_}=va(),[$,ee]=Object(n.useState)(null),[ae,te]=Object(n.useState)(!1);Object(n.useEffect)(()=>(le(),()=>{s(!1)}),[]);const le=async()=>{const e=m.companyId,t=await _(void 0,e);B(t.plan.useSchedules),R(!1),P(a.contact.disableBot),j(!1)},oe=()=>{f.current.resetForm(),b(!1)},re=async()=>{M(!0)},ie=()=>{ee(null),te(!1)},se=async(e,t,n)=>{d(!0);try{var l,o;let e;await u.put("/tickets/"+a.id,{status:t,userId:n||null});try{e=await Z({column:"sendGreetingAccepted"})}catch(i){oa(i)}"enabled"!==(null===(l=e)||void 0===l?void 0:l.sendGreetingAccepted)||a.isGroup&&"enabled"!==(null===(o=a.whatsapp)||void 0===o?void 0:o.groupAsTicket)||"pending"!==a.status||(async e=>{let a;try{a=await Z({column:"greetingAcceptedMessage"})}catch(i){oa(i)}const t={read:1,fromMe:!0,mediaUrl:"",body:""+(""+a.greetingAcceptedMessage).trim()};try{await u.post("/messages/"+e,t)}catch(i){oa(i)}})(a.id),d(!1),"open"===t||"group"===t?(p({...a,code:"#"+t}),setTimeout(()=>{r.push("/tickets")},0),setTimeout(()=>{r.push("/tickets/"+a.uuid),g(t)},10)):(p({id:null,code:null}),r.push("/tickets"))}catch(i){d(!1),oa(i)}};return l.a.createElement(l.a.Fragment,null,z&&l.a.createElement(bo,{isOpen:z,handleClose:()=>{H(!1),d(!1)},user:V,queue:K}),T&&l.a.createElement(jo,{modalOpen:T,onClose:e=>M(!1),ticketId:a.id,ticket:a}),I&&l.a.createElement(ps,{isOpen:I,handleClose:e=>j(!1),ticketId:a.id}),N&&l.a.createElement(Js,{open:N,handleClose:()=>R(!1),ticketId:a.id}),l.a.createElement("div",{className:t.actionButtons},"closed"===a.status&&(null===a.queueId||void 0===a.queueId)&&l.a.createElement($l,{loading:c,startIcon:l.a.createElement(zo.a,null),size:"small",onClick:e=>re()},aa.a.t("messagesList.header.buttons.reopen")),"closed"===a.status&&null!==a.queueId&&l.a.createElement($l,{startIcon:l.a.createElement(zo.a,null),loading:c,onClick:e=>(async e=>{d(!0);try{const t=await u.put("/tickets/"+e,{status:a.isGroup?"group":"open",userId:null===m||void 0===m?void 0:m.id});t.data.id!==a.id?t.data.userId!==(null===m||void 0===m?void 0:m.id)?(H(!0),G(t.data.user.name),Y(t.data.queue.name),g(t.isGroup?"group":"open")):(d(!1),g(t.isGroup?"group":"open"),r.push("/tickets/"+t.data.uuid)):(d(!1),r.push("/tickets"),setTimeout(()=>{r.push("/tickets/"+a.uuid),g(a.isGroup?"group":"open")},1e3))}catch(t){d(!1),oa(t)}})(a.id)},aa.a.t("messagesList.header.buttons.reopen")),("open"===a.status||"group"===a.status)&&l.a.createElement(l.a.Fragment,null,l.a.createElement(l.a.Fragment,null,l.a.createElement(D.a,{className:t.bottomButtonVisibilityIcon},l.a.createElement(ne.a,{title:aa.a.t("messagesList.header.buttons.resolve")},l.a.createElement(is.a,{onClick:async e=>{const t=await Z({column:"requiredTag"});if("enabled"===(null===t||void 0===t?void 0:t.requiredTag))try{(await u.get("/contactTags/"+a.contact.id)).data.tags?b(!0):S.b.warning(aa.a.t("messagesList.header.buttons.requiredTag"))}catch(n){oa(n)}else b(!0)}}))),l.a.createElement(D.a,{className:t.bottomButtonVisibilityIcon},l.a.createElement(ne.a,{title:aa.a.t("tickets.buttons.returnQueue")},l.a.createElement(cs.a,{onClick:e=>se(0,"pending",null)}))),l.a.createElement(D.a,{className:t.bottomButtonVisibilityIcon},l.a.createElement(ne.a,{title:"Transferir Ticket"},l.a.createElement(os.a,{onClick:e=>{y(!0),oe()}})))),l.a.createElement(Q.a,{className:t.bottomButtonVisibilityIcon},l.a.createElement(ne.a,{title:aa.a.t("contactModal.form.chatBotContact")},l.a.createElement(Nl.a,{size:"small",checked:F,onChange:()=>(async()=>{const{id:e}=a.contact;try{const{data:t}=await u.put("/contacts/toggleDisableBot/"+e);a.contact.disableBot=t.disableBot,P(t.disableBot)}catch(t){oa(t)}})()}))),h&&l.a.createElement(Ir,{title:`${aa.a.t("ticketOptionsMenu.confirmationModal.title")} #${a.id}?`,open:h,onClose:A,onConfirm:async()=>{try{await u.delete("/tickets/"+a.id),r.push("/tickets")}catch(e){oa(e)}}},aa.a.t("ticketOptionsMenu.confirmationModal.message")),v&&l.a.createElement(Lo,{modalOpen:v,onClose:()=>{y(!1)},ticketid:a.id,ticket:a})),"pending"===a.status&&(null===a.queueId||void 0===a.queueId)&&l.a.createElement($l,{loading:c,size:"small",variant:"contained",onClick:e=>re()},aa.a.t("messagesList.header.buttons.accept")),"pending"===a.status&&null!==a.queueId&&l.a.createElement($l,{loading:c,size:"small",variant:"contained",onClick:e=>se(0,"open",null===m||void 0===m?void 0:m.id)},aa.a.t("messagesList.header.buttons.accept")),l.a.createElement(D.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:e=>{ee(e.currentTarget),te(!0)},color:"inherit",style:{paddingHorizontal:3,paddingTop:10}},l.a.createElement(_r.a,{style:{fontSize:16,padding:0}})),l.a.createElement(U.a,{id:"menu-appbar",anchorEl:$,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:ae,onClose:ie},l.a.createElement(Q.a,{onClick:e=>{A(!0),oe()}},l.a.createElement(Aa,{role:m.profile,perform:"ticket-options:deleteTicket",yes:()=>aa.a.t("tickets.buttons.deleteTicket")})),l.a.createElement(Q.a,{onClick:async()=>{d(!0);try{await u.put("/tickets/"+a.id,{useIntegration:!W}),q(!W),d(!1)}catch(e){d(!1),oa(e)}}},!0===W?aa.a.t("messagesList.header.buttons.disableIntegration"):aa.a.t("messagesList.header.buttons.enableIntegration")),l.a.createElement(Q.a,{onClick:async()=>{j(!0)}},aa.a.t("messagesList.header.buttons.logTicket")),l.a.createElement(Q.a,{onClick:async()=>{R(!0),ie()}},aa.a.t("ticketsList.buttons.exportAsPDF")))),l.a.createElement(l.a.Fragment,null,l.a.createElement(Ct.e,{enableReinitialize:!0,validationSchema:$s,innerRef:f,onSubmit:(e,a)=>{setTimeout(()=>{a.setSubmitting(!1),a.resetForm()},400)}},e=>{let{values:n,touched:i,errors:s,isSubmitting:c,setFieldValue:p,resetForm:g}=e;return l.a.createElement(Tt.a,{open:E,onClose:oe,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(Ct.d,null,l.a.createElement(Ot.a,{className:t.botoes},l.a.createElement(kt.a,{onClick:e=>(async()=>{d(!0);try{await u.put("/tickets/"+a.id,{status:"closed",userId:(null===m||void 0===m?void 0:m.id)||null,sendFarewellMessage:!1,amountUsedBotQueues:0}),d(!1),r.push("/tickets")}catch(e){d(!1),oa(e)}})(),style:{background:o.palette.primary.main,color:"white"}},aa.a.t("messagesList.header.dialogRatingWithoutFarewellMsg")),l.a.createElement(kt.a,{onClick:e=>{var t;return se(0,"closed",null===m||void 0===m?void 0:m.id,null===a||void 0===a||null===(t=a.queue)||void 0===t||t.id)},style:{background:o.palette.primary.main,color:"white"}},aa.a.t("messagesList.header.dialogRatingCancel")))))})))};const ac=Object(I.a)(e=>({root:{display:"flex",height:"100%",position:"relative",overflow:"hidden"},mainWrapper:{flex:1,height:"100%",display:"flex",flexDirection:"column",overflow:"hidden",borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeft:"0",marginRight:-320,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},mainWrapperShift:{borderTopRightRadius:0,borderBottomRightRadius:0,transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0}}));var tc=()=>{const{ticketId:e}=Object(O.useParams)(),a=Object(O.useHistory)(),t=ac(),{user:o,socket:r}=Object(n.useContext)(ua),{setTabOpen:i}=Object(n.useContext)(et),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(!0),[p,g]=Object(n.useState)({}),[E,b]=Object(n.useState)({}),[f,h]=Object(n.useState)([]),{companyId:A}=o;Object(n.useEffect)(()=>{console.log("======== Ticket ==========="),console.log(E),console.log("===========================")},[E]),Object(n.useEffect)(()=>{m(!0);const t=setTimeout(()=>{(async()=>{try{if(!Object(la.isNil)(e)&&"undefined"!==e){const{data:a}=await u.get("/tickets/u/"+e);g(a.contact),b(a),["pending","open","group"].includes(a.status)&&i(a.status),m(!1)}}catch(t){a.push("/tickets"),m(!1),oa(t)}})()},500);return()=>clearTimeout(t)},[e,o,a]),Object(n.useEffect)(()=>{if((E||E.id||E.uuid===e||"undefined"!==e)&&o.companyId){const e=()=>{r.emit("joinChatBox",""+E.id)},t=e=>{"update"===e.action&&e.ticket.id===(null===E||void 0===E?void 0:E.id)&&b(e.ticket),"delete"===e.action&&e.ticketId===(null===E||void 0===E?void 0:E.id)&&a.push("/tickets")},n=e=>{"update"===e.action&&g(a=>{var t;return a.id===(null===(t=e.contact)||void 0===t?void 0:t.id)?{...a,...e.contact}:a})};return r.on("connect",e),r.on(`company-${A}-ticket`,t),r.on(`company-${A}-contact`,n),()=>{r.emit("joinChatBoxLeave",""+E.id),r.off("connect",e),r.off(`company-${A}-ticket`,t),r.off(`company-${A}-contact`,n)}}},[e,E,a]);const v=Object(n.useCallback)(()=>{c(!0)},[]),y=Object(n.useCallback)(()=>{c(!1)},[]);return l.a.createElement("div",{className:t.root,id:"drawer-container"},l.a.createElement(Bt.a,{variant:"outlined",elevation:0,className:Object(M.a)(t.mainWrapper,{[t.mainWrapperShift]:s})},l.a.createElement(ns,{loading:d},void 0!==E.contact&&l.a.createElement("div",{id:"TicketHeader"},l.a.createElement(ls,{contact:p,ticket:E,onClick:v})),l.a.createElement(ec,{ticket:E})),l.a.createElement(Bt.a,null,l.a.createElement(to,{contact:p})),l.a.createElement(ui,null,l.a.createElement(Si,null,l.a.createElement(Li,null,l.a.createElement(l.a.Fragment,null,l.a.createElement(Gs,{isGroup:E.isGroup,onDrop:h,whatsappId:E.whatsappId,queueId:E.queueId,channel:E.channel}),l.a.createElement(Ji,{ticketId:E.id,ticketStatus:E.status,ticketChannel:E.channel,droppedFiles:f,contactId:p.id})))))),l.a.createElement(Wr,{open:s,handleDrawerClose:y,contact:p,loading:d,ticket:E}))};const nc=Object(I.a)(e=>({chatContainer:{flex:1,padding:"2px",height:"calc(100% - 48px)",overflowY:"hidden"},chatPapper:{display:"flex",height:"100%"},contactsWrapper:{display:"flex",height:"100%",flexDirection:"column",overflowY:"hidden",position:"relative"},messagesWrapper:{display:"flex",height:"100%",flexDirection:"column",flexGrow:1},welcomeMsg:{background:e.palette.tabHeaderBackground,display:"flex",justifyContent:"space-evenly",alignItems:"center",height:"100%",textAlign:"center"},dragger:{width:"5px",cursor:"ew-resize",padding:"4px 0 0",borderTop:"1px solid #ddd",position:"absolute",top:0,right:0,bottom:0,zIndex:100,backgroundColor:"#f4f7f9",userSelect:"none"},logo:{logo:e.logo,content:"url("+("light"===e.mode?e.calculatedLogoLight():e.calculatedLogoDark())+")"}}));var lc=()=>{const{user:e}=Object(n.useContext)(ua),a=nc({ticketsManagerWidth:e.defaultTicketsManagerWidth||550}),{handleLogout:t}=Object(n.useContext)(ua),{ticketId:o}=Object(O.useParams)(),[r,i]=Object(n.useState)(0),s=Object(n.useRef)(r);Object(n.useEffect)(()=>{e&&e.defaultTicketsManagerWidth&&i(e.defaultTicketsManagerWidth)},[e]),!0!==da()(da()().format()).isBefore(e.company.dueDate)&&t();const c=Object(n.useCallback)(e=>{const a=e.clientX-document.body.offsetLeft;a>404&&a<700&&(s.current=a,i(a))},[]),d=async()=>{document.removeEventListener("mouseup",d,!0),document.removeEventListener("mousemove",c,!0);const a=s.current;a!==r&&await(async a=>{a<404&&(a=404),await u.put("/users/toggleChangeWidht/"+e.id,{defaultTicketsManagerWidth:a})})(a)};return l.a.createElement(rr,null,l.a.createElement("div",{className:a.chatContainer},l.a.createElement("div",{className:a.chatPapper},l.a.createElement("div",{className:a.contactsWrapper,style:{width:r}},l.a.createElement(sr,null),l.a.createElement("div",{onMouseDown:e=>(document.addEventListener("mouseup",d,!0),void document.addEventListener("mousemove",c,!0)),className:a.dragger})),l.a.createElement("div",{className:a.messagesWrapper},o?l.a.createElement(l.a.Fragment,null,l.a.createElement(tc,null)):l.a.createElement(Il.a,{only:["sm","xs"]},l.a.createElement(Bt.a,{square:!0,variant:"outlined",className:a.welcomeMsg},l.a.createElement("span",null,l.a.createElement("center",null,l.a.createElement("img",{className:a.logo,width:"50%",alt:""})),aa.a.t("chat.noTicketMessage")),"        "))))))},oc=t(1666),rc=t(1667),ic=t(939),sc=t.n(ic),cc=t(908);var dc=Object(cc.a)(Bt.a)({height:"calc(100% - 48px)",display:"grid",gridTemplateRows:"56px 1fr"});const mc=Object(I.a)(e=>({header:{},content:{overflow:"auto"},placeholderContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",background:e.palette.tabHeaderBackground},placeholderItem:{}}));var uc=e=>{const a=mc(),{ticketId:t}=Object(O.useParams)(),[o,r]=Object(n.useState)(0),{currentTicket:i,setCurrentTicket:s}=Object(n.useContext)(et);Object(n.useEffect)(()=>(null!==i.id&&s({id:i.id,code:"#open"}),t||r(1),()=>{s({id:null,code:null})}),[]),Object(n.useEffect)(()=>{null!==i.id&&r(0)},[i]);return l.a.createElement(rr,null,l.a.createElement(dc,null,l.a.createElement(Gt.a,{className:a.header},l.a.createElement(oc.a,{value:o,onChange:(e,a)=>{r(a)},showLabels:!0,className:a.root},l.a.createElement(rc.a,{label:"Ticket",icon:l.a.createElement(Na.a,null)}),l.a.createElement(rc.a,{label:"Atendimentos",icon:l.a.createElement(sc.a,null)}))),l.a.createElement(Gt.a,{className:a.content},0===o?t&&"undefined"!==t?l.a.createElement(tc,null):l.a.createElement(Gt.a,{className:a.placeholderContainer},l.a.createElement("div",{className:a.placeholderItem},aa.a.t("chat.noTicketMessage")),l.a.createElement("br",null),l.a.createElement(kt.a,{onClick:()=>r(1),variant:"contained",color:"primary"},"Selecionar Ticket")):l.a.createElement(sr,null))))};var pc=Object(Ml.a)()((function(e){return Object(Ml.c)("md",e.width)?l.a.createElement(lc,null):l.a.createElement(uc,null)})),gc=t(550),Ec=t.n(gc),bc=t.p+"static/media/bg-login.0819aa13.png",fc=t(1454);const hc=Object(I.a)(e=>({root:{width:"100vw",height:"100vh",display:"flex",flexDirection:"row",alignItems:"center",backgroundColor:"transparent",overflow:"hidden"},paper:{backgroundColor:e.palette.background.paper,display:"flex",flexDirection:"column",alignItems:"center",width:"100%",maxWidth:"450px",padding:"30px",borderRadius:"12.5px",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.1)",[e.breakpoints.down("sm")]:{padding:"20px",maxWidth:"90%"}},form:{width:"100%",marginTop:e.spacing(2)},submit:{margin:e.spacing(2,0,1),padding:"10px",borderRadius:"0",backgroundColor:"#096799",fontSize:"12px",fontWeight:500,textTransform:"none","&:hover":{backgroundColor:"#075781"}},logoContainer:{flex:1,height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(255, 255, 255, 0.95)",padding:e.spacing(6)},formContainer:{flex:1,height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:e.spacing(3),backgroundImage:`url(${bc})`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"},title:{fontSize:"24px",fontWeight:600,marginBottom:e.spacing(.5),color:e.palette.text.primary},subtitle:{fontSize:"14px",color:e.palette.text.secondary,marginBottom:e.spacing(2),textAlign:"center"},inputField:{marginBottom:e.spacing(1.5),"& .MuiOutlinedInput-root":{borderRadius:"0",backgroundColor:"dark"===e.palette.type?e.palette.background.default:"#fff","&:hover fieldset":{borderColor:"#096799"},"&.Mui-focused fieldset":{borderColor:"#096799"}},"& .MuiInputLabel-root":{color:e.palette.text.secondary},"& .MuiOutlinedInput-input":{color:e.palette.text.primary,padding:"11.5px 14px"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(0, 0, 0, 0.23)"}},planSelect:{marginTop:e.spacing(.5),"& .MuiOutlinedInput-root":{borderRadius:"0",backgroundColor:"dark"===e.palette.type?e.palette.background.default:"#fff"},"& .MuiSelect-root":{color:e.palette.text.primary}},planLabel:{color:e.palette.text.secondary,marginBottom:e.spacing(.5),fontSize:"14px"},loginLink:{marginTop:e.spacing(1),textAlign:"center",color:"#096799",fontSize:"14px","&:hover":{textDecoration:"none",color:"#075781"}},logoImg:{width:"100%",maxWidth:"350px",height:"auto",maxHeight:"120px",margin:"0 auto",content:"url("+("light"===e.mode?e.calculatedLogoLight():e.calculatedLogoDark())+")"}})),Ac=xt.c().shape({name:xt.e().min(2,"Too Short!").max(50,"Too Long!").required("Required"),companyName:xt.e().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:xt.e().min(5,"Too Short!").max(50,"Too Long!"),email:xt.e().email("Invalid email").required("Required"),phone:xt.e().required("Required")});var vc=()=>{const e=hc(),a=Object(O.useHistory)(),{getPlanList:t}=va(),[o,r]=Object(n.useState)([]),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(!1),{colorMode:u}=Object(n.useContext)(h),{appLogoFavicon:p,appName:g,mode:E}=u;let b=null;const f=Ec.a.parse(window.location.search);void 0!==f.companyId&&(b=f.companyId);const A={name:"",email:"",password:"",phone:"",companyId:b,companyName:"",planId:""},[v]=Object(n.useState)(A),y=()=>{d(!c)},x=e=>{e.preventDefault()};Object(n.useEffect)(()=>{s(!0);(async()=>{const e=await t({listPublic:"false"});r(e),s(!1)})()},[]);return l.a.createElement("div",{className:e.root},l.a.createElement("div",{className:e.logoContainer},l.a.createElement("img",{className:e.logoImg,alt:"logo"})),l.a.createElement(kl.a,{component:"main",className:e.formContainer},l.a.createElement("div",{className:e.paper},l.a.createElement(z.a,{component:"h1",className:e.title},aa.a.t("signup.title")),l.a.createElement(z.a,{component:"h2",className:e.subtitle},"Preencha os dados abaixo para criar sua conta"),l.a.createElement(Ct.e,{initialValues:v,enableReinitialize:!0,validationSchema:Ac,onSubmit:(e,t)=>{setTimeout(()=>{(async e=>{try{await m.post("/auth/signup",e),S.b.success(aa.a.t("signup.toasts.success")),a.push("/login")}catch(t){oa(t)}})(e)},400)}},a=>{let{touched:t,errors:n,isSubmitting:r}=a;return l.a.createElement(Ct.d,{className:e.form},l.a.createElement(ht.a,{container:!0,spacing:2},l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(Ct.b,{as:wt.a,variant:"outlined",fullWidth:!0,className:e.inputField,id:"companyName",label:aa.a.t("signup.form.company"),error:t.companyName&&Boolean(n.companyName),helperText:t.companyName&&n.companyName,name:"companyName",autoComplete:"companyName",autoFocus:!0})),l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(Ct.b,{as:wt.a,className:e.inputField,autoComplete:"name",name:"name",error:t.name&&Boolean(n.name),helperText:t.name&&n.name,variant:"outlined",fullWidth:!0,id:"name",label:aa.a.t("signup.form.name")})),l.a.createElement(ht.a,{item:!0,xs:12,sm:6},l.a.createElement(Ct.b,{as:wt.a,className:e.inputField,variant:"outlined",fullWidth:!0,id:"email",label:aa.a.t("signup.form.email"),name:"email",error:t.email&&Boolean(n.email),helperText:t.email&&n.email,autoComplete:"email",inputProps:{style:{textTransform:"lowercase"}}})),l.a.createElement(ht.a,{item:!0,xs:12,sm:6},l.a.createElement(Ct.b,{as:wt.a,className:e.inputField,variant:"outlined",fullWidth:!0,name:"password",error:t.password&&Boolean(n.password),helperText:t.password&&n.password,label:aa.a.t("signup.form.password"),type:c?"text":"password",id:"password",autoComplete:"current-password",InputProps:{endAdornment:l.a.createElement(fc.a,{position:"end"},l.a.createElement(D.a,{"aria-label":"toggle password visibility",onClick:y,onMouseDown:x,edge:"end"},c?l.a.createElement(Ul.a,null):l.a.createElement(Vl.a,null)))}})),l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(Ct.b,{as:wt.a,className:e.inputField,variant:"outlined",fullWidth:!0,id:"phone",label:aa.a.t("signup.form.phone"),name:"phone",autoComplete:"phone"})),l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(Nt.a,{className:e.planLabel,htmlFor:"plan-selection"},"Selecione seu plano"),l.a.createElement(Ct.b,{as:jt.a,variant:"outlined",fullWidth:!0,className:e.planSelect,id:"plan-selection",name:"planId",required:!0},o.map((e,a)=>l.a.createElement(Q.a,{key:a,value:e.id},e.name," - Atendentes: ",e.users," - WhatsApp: ",e.connections," - Filas: ",e.queues," - R$ ",e.amount))))),l.a.createElement(kt.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:r},aa.a.t("signup.buttons.submit")),l.a.createElement(mr.a,{href:"#",variant:"body2",component:T.b,to:"/login",className:e.loginLink},aa.a.t("signup.buttons.login")))}))))},yc=t(940);const xc=Object(I.a)(e=>({root:{width:"100vw",height:"100vh",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",background:"light"===e.mode?e.palette.light:e.palette.dark,[e.breakpoints.down("sm")]:{flexDirection:"column",height:"auto",minHeight:"100vh"}},leftSide:{width:"50%",height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"light"===e.mode?"#ebf2ff":"#11111e",padding:"20px",[e.breakpoints.down("sm")]:{width:"100%",height:"auto",padding:"10px 0"}},containerFooter:{display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"center",textAlign:"center",fontSize:"0.875rem",color:"light"===e.mode?"#333":"#ccc",width:"100%",padding:"15px",lineHeight:"1.4",marginTop:"auto","& p":{margin:"5px 0"},"& a":{color:"light"===e.mode?"#333":"#ccc",textDecoration:"none",fontWeight:"bold"},"& a:hover":{textDecoration:"underline"}},rightSide:{width:"50%",height:"100%",backgroundImage:`url(${bc})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",display:"flex",justifyContent:"center",alignItems:"center",[e.breakpoints.down("sm")]:{width:"100%",height:"auto",minHeight:"60vh",backgroundImage:"none",backgroundColor:"light"===e.mode?"#fff":"#222"}},logoImg:{width:"80%",maxWidth:"300px",height:"auto",margin:"0 auto",[e.breakpoints.down("sm")]:{maxWidth:"180px",margin:"20px auto"}},paper:{backgroundColor:"light"===e.mode?"rgba(255, 255, 255, 0.7)":"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",boxShadow:"light"===e.mode?"0 4px 6px rgba(0, 0, 0, 0.1)":"0 4px 6px rgba(255, 255, 255, 0.2)",display:"flex",flexDirection:"column",alignItems:"center",padding:"40px 10px",borderRadius:"25px",width:"100%",[e.breakpoints.down("sm")]:{padding:"20px 5px",borderRadius:"12px",minWidth:"0",boxShadow:"none"}},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),borderRadius:"12px",backgroundColor:"#245798",color:"#fff","&:hover":{backgroundColor:"#1d4e85"}},register:{borderRadius:"12px",borderColor:"#245798",color:"#245798","&:hover":{borderColor:"#1d4e85",backgroundColor:"rgba(29, 78, 133, 0.04)"}},iconButton:{position:"absolute",top:10,right:10,color:"light"===e.mode?"black":"white"},selectFocus:{"& .MuiOutlinedInput-root":{backgroundColor:"transparent"},"& .MuiOutlinedInput-root:hover":{backgroundColor:"transparent"},"& .MuiOutlinedInput-root.Mui-focused":{backgroundColor:"transparent"},"& .MuiSelect-root":{backgroundColor:"transparent"},"& .MuiSelect-root.Mui-focused":{backgroundColor:"transparent"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"1px solid #bebebe",borderRadius:"12px"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#8a8a8a",borderRadius:"12px"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{border:"1px solid #bebebe",borderRadius:"12px"}},labelFocus:{"& .MuiInputLabel-outlined":{color:"dark"===e.mode?"#fff":"#8c8a8a"},"& .MuiInputLabel-outlined.Mui-focused":{color:"dark"===e.mode?"#fff":"#8c8a8a"}},textFieldCustom:{"& .MuiOutlinedInput-root":{backgroundColor:"light"===e.mode?"#e0e0e0":"#245798",borderRadius:"12px",color:"light"===e.mode?"#000":"#fff"},"& .MuiOutlinedInput-root:hover":{backgroundColor:"light"===e.mode?"#d6d6d6":"#1d4e85"},"& .MuiOutlinedInput-root.Mui-focused":{backgroundColor:"light"===e.mode?"#d6d6d6":"#1d4e85"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"light"===e.mode?"#bebebe":"#fff",borderRadius:"12px"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"light"===e.mode?"#8a8a8a":"#d6d6d6"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"light"===e.mode?"#bebebe":"#fff"}},logoWrapper:{flex:1,width:"100%",display:"flex",alignItems:"center",justifyContent:"center"}}));var Cc=()=>{const e=xc(),{colorMode:a}=Object(n.useContext)(h),{appLogoFavicon:t,appName:o,mode:r}=a,[s,c]=Object(n.useState)({email:"",password:""}),{getPublicSetting:d}=xn(),{handleLogin:m}=Object(n.useContext)(ua),[u,p]=Object(n.useState)(!1),g=Object(F.a)(),E=e=>{c({...s,[e.target.name]:e.target.value})};return l.a.createElement(l.a.Fragment,null,l.a.createElement(yc.Helmet,null,l.a.createElement("title",null,o||"WORKZAP"),l.a.createElement("link",{rel:"icon",href:t||"/default-favicon.ico"})),l.a.createElement("div",{className:e.root},l.a.createElement("div",{className:e.leftSide},l.a.createElement("div",{className:e.logoWrapper},l.a.createElement("img",{className:e.logoImg,alt:"Logo",src:"light"===g.mode?g.calculatedLogoLight():g.calculatedLogoDark()})),l.a.createElement("div",{className:e.containerFooter},l.a.createElement("p",null,"Copyright \xa9"," ",l.a.createElement("a",{href:"https://seulink.com.br",target:"_blank",rel:"noopener noreferrer"},"Sua empresa","")," ","2024"," "),l.a.createElement("p",null,"This site is protected by reCAPTCHA Enterprise and the Google"," ",l.a.createElement("a",{href:"https://seulink.com.br/politica-de-privacidade",target:"_blank",rel:"noopener noreferrer"},"Privacy Policy")," ","and"," ",l.a.createElement("a",{href:"https://seulink.com.br/politica-de-privacidade",target:"_blank",rel:"noopener noreferrer"},"Terms of Service")))),l.a.createElement("div",{className:e.rightSide},l.a.createElement(kl.a,{component:"main",maxWidth:"xs"},l.a.createElement(i.a,null),l.a.createElement("div",{className:e.paper},l.a.createElement(D.a,{className:e.iconButton,onClick:a.toggleColorMode},"dark"===r?l.a.createElement(yn.a,null):l.a.createElement(An.a,null)),l.a.createElement("form",{className:e.form,noValidate:!0,onSubmit:e=>{e.preventDefault(),m(s)}},l.a.createElement(wt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:aa.a.t("login.form.email"),name:"email",value:s.email,onChange:E,autoComplete:"email",autoFocus:!0,className:`${e.textFieldCustom} ${e.selectFocus} ${e.labelFocus}`}),l.a.createElement(wt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:aa.a.t("login.form.password"),type:u?"text":"password",id:"password",value:s.password,onChange:E,autoComplete:"current-password",className:`${e.textFieldCustom} ${e.selectFocus} ${e.labelFocus}`,InputProps:{endAdornment:l.a.createElement(fc.a,{position:"end"},l.a.createElement(D.a,{"aria-label":"toggle password visibility",onClick:()=>{p(!u)},onMouseDown:e=>{e.preventDefault()},edge:"end"},u?l.a.createElement(Ul.a,null):l.a.createElement(Vl.a,null)))}}),l.a.createElement(kt.a,{type:"submit",fullWidth:!0,variant:"contained",className:e.submit},aa.a.t("login.buttons.submit")),l.a.createElement(kt.a,{fullWidth:!0,variant:"outlined",className:e.register,component:T.b,to:"/signup",style:{marginTop:"10px",borderRadius:"12px",borderColor:"#245798",color:"#245798","&:hover":{borderColor:"#1d4e85",backgroundColor:"rgba(29, 78, 133, 0.04)"}}},aa.a.t("login.buttons.register"))))))))},kc=t(1671),wc=t(168),Tc=t.n(wc),Oc=t(1676),Sc=t(1672),Mc=t(1673),Ic=t(1674),jc=t(1675),Nc=t(1677),Rc=t(1678),Fc=t(1679),Pc=t(261),Dc=t.n(Pc);const Lc=Object(I.a)(e=>({mainContainer:{flex:1,padding:e.spacing(2),height:"calc(100% - 48px)"},contentWrapper:{height:"100%",overflowY:"hidden",display:"flex",flexDirection:"column"}}));var Bc=e=>{let{children:a}=e;const t=Lc();return l.a.createElement(kl.a,{className:t.mainContainer},l.a.createElement("div",{className:t.contentWrapper},a))};const Wc=Object(I.a)(e=>({contactsHeader:{display:"flex",alignItems:"center",padding:"0px 6px 6px 6px"}}));var qc=e=>{let{children:a}=e;const t=Wc();return l.a.createElement("div",{className:t.contactsHeader},a)};const zc=Object(I.a)(e=>({MainHeaderButtonsWrapper:{flex:"none",marginLeft:"auto","& > *":{margin:e.spacing(1)}}}));var Hc=e=>{let{children:a}=e;const t=zc();return l.a.createElement("div",{className:t.MainHeaderButtonsWrapper},a)};function Uc(e){return l.a.createElement(z.a,{variant:"h5",color:"primary",gutterBottom:!0},e.children)}const Qc=Object(I.a)(e=>({customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"}}));var Vc=e=>{let{avatar:a,columns:t}=e;const n=Qc();return l.a.createElement(l.a.Fragment,null,l.a.createElement(Zn.a,null,a&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Yn.a,{style:{paddingRight:0}},l.a.createElement(_n.a,{animation:"wave",variant:"circle",width:40,height:40})),l.a.createElement(Yn.a,null,l.a.createElement(_n.a,{animation:"wave",height:30,width:80}))),Array.from({length:t},(e,a)=>l.a.createElement(Yn.a,{align:"center",key:a},l.a.createElement("div",{className:n.customTableCell},l.a.createElement(_n.a,{align:"center",animation:"wave",height:30,width:80}))))))},Gc=t(1669),Kc=t(1670),Yc=t(435);const Xc=Object(I.a)(e=>({root:{width:"100%"},fullWidth:{width:"100%"},textfield:{width:"100%",fontSize:"0.875em"},row:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},control:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},buttonContainer:{textAlign:"right",padding:e.spacing(1)}}));var Jc=function(e){const{initialValues:a,onSubmit:t,loading:o,labelSaveButton:r}=e,i=Xc(),[s,c]=Object(n.useState)([{weekday:aa.a.t("queueModal.serviceHours.monday"),weekdayEn:"monday",startTimeA:"",endTimeA:"",startTimeB:"",endTimeB:""},{weekday:aa.a.t("queueModal.serviceHours.tuesday"),weekdayEn:"tuesday",startTimeA:"",endTimeA:"",startTimeB:"",endTimeB:""},{weekday:aa.a.t("queueModal.serviceHours.wednesday"),weekdayEn:"wednesday",startTimeA:"",endTimeA:"",startTimeB:"",endTimeB:""},{weekday:aa.a.t("queueModal.serviceHours.thursday"),weekdayEn:"thursday",startTimeA:"",endTimeA:"",startTimeB:"",endTimeB:""},{weekday:aa.a.t("queueModal.serviceHours.friday"),weekdayEn:"friday",startTimeA:"",endTimeA:"",startTimeB:"",endTimeB:""},{weekday:aa.a.t("queueModal.serviceHours.saturday"),weekdayEn:"saturday",startTimeA:"",endTimeA:"",startTimeB:"",endTimeB:""},{weekday:aa.a.t("queueModal.serviceHours.sunday"),weekdayEn:"sunday",startTimeA:"",endTimeA:"",startTimeB:"",endTimeB:""}]);return Object(n.useEffect)(()=>{console.log(a),Object(la.isArray)(a)&&a.length>0&&c(a)},[a]),l.a.createElement(Ct.e,{enableReinitialize:!0,className:i.fullWidth,initialValues:{schedules:s},onSubmit:e=>{let{schedules:a}=e;return setTimeout(()=>{var e;e=a,console.log(e),t(e)},500)}},e=>{let{values:a}=e;return l.a.createElement(Ct.d,{className:i.fullWidth},l.a.createElement(Ct.c,{name:"schedules",render:e=>l.a.createElement(ht.a,{spacing:4,container:!0},a.schedules.map((e,a)=>l.a.createElement(ht.a,{key:a,xs:12,md:4,item:!0},l.a.createElement(ht.a,{container:!0},l.a.createElement(ht.a,{className:i.control,xs:12,item:!0},l.a.createElement(Ct.a,{as:wt.a,abel:aa.a.t("queueModal.serviceHours.dayWeek"),name:`schedules[${a}].weekday`,disabled:!0,variant:"outlined",className:i.fullWidth,margin:"dense"})),l.a.createElement(ht.a,{className:i.control,xs:12,md:6,item:!0},l.a.createElement(Ct.a,{label:aa.a.t("queueModal.serviceHours.startTimeA"),name:`schedules[${a}].startTimeA`},e=>{let{field:a}=e;return l.a.createElement(Yc.a,Object.assign({},a,{variant:"outlined",margin:"dense",customInput:wt.a,format:"##:##",className:i.fullWidth,label:aa.a.t("queueModal.serviceHours.startTimeA")}))})),l.a.createElement(ht.a,{className:i.control,xs:12,md:6,item:!0},l.a.createElement(Ct.a,{label:aa.a.t("queueModal.serviceHours.endTimeA"),name:`schedules[${a}].endTimeA`},e=>{let{field:a}=e;return l.a.createElement(Yc.a,Object.assign({},a,{variant:"outlined",margin:"dense",customInput:wt.a,format:"##:##",className:i.fullWidth,label:aa.a.t("queueModal.serviceHours.endTimeA")}))})),l.a.createElement(ht.a,{className:i.control,xs:12,md:6,item:!0},l.a.createElement(Ct.a,{label:aa.a.t("queueModal.serviceHours.startTimeB"),name:`schedules[${a}].startTimeB`},e=>{let{field:a}=e;return l.a.createElement(Yc.a,Object.assign({},a,{variant:"outlined",margin:"dense",customInput:wt.a,format:"##:##",className:i.fullWidth,label:aa.a.t("queueModal.serviceHours.startTimeB")}))})),l.a.createElement(ht.a,{className:i.control,xs:12,md:6,item:!0},l.a.createElement(Ct.a,{label:aa.a.t("queueModal.serviceHours.endTimeB"),name:`schedules[${a}].endTimeB`},e=>{let{field:a}=e;return l.a.createElement(Yc.a,Object.assign({},a,{variant:"outlined",margin:"dense",customInput:wt.a,format:"##:##",className:i.fullWidth,label:aa.a.t("queueModal.serviceHours.endTimeB")}))}))))))}),l.a.createElement("div",{className:i.buttonContainer},l.a.createElement($l,{loading:o,type:"submit",color:"primary",variant:"contained"},null!==r&&void 0!==r?r:aa.a.t("whatsappModal.buttons.okEdit"))))})};const Zc=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap",gap:4},multFieldLine:{marginTop:12,display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},importMessage:{marginTop:12,marginBottom:12,paddingBottom:20,paddingTop:3,padding:12,border:"solid grey 2px",borderRadius:4,display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},textField:{marginRight:e.spacing(1),flex:1},tokenRefresh:{minWidth:"auto",display:"flex",alignItems:"center",justifyContent:"center"}})),_c=xt.c().shape({name:xt.e().min(2,"Too Short!").max(50,"Too Long!").required("Required")});var $c=l.a.memo(e=>{let{open:a,onClose:t,whatsAppId:o}=e;const r=Zc(),[i,s]=Object(n.useState)(""),c=Object(n.useRef)(null),[d,m]=Object(n.useState)(null),[p,g]=Object(n.useState)(""),E={name:"",greetingMessage:"",complationMessage:"",outOfHoursMessage:"",ratingMessage:"",isDefault:!1,token:"",maxUseBotQueues:3,provider:"beta",expiresTicket:0,allowGroup:!1,enableImportMessage:!1,groupAsTicket:"disabled",timeUseBotQueues:"0",timeSendQueue:"0",sendIdQueue:0,expiresTicketNPS:"0",expiresInactiveMessage:"",timeInactiveMessage:"",inactiveMessage:"",maxUseBotQueuesNPS:3,whenExpiresTicket:0,timeCreateNewTicket:0,greetingMediaAttachment:"",importRecentMessages:"",importOldMessages:"",importOldMessagesGroups:"",integrationId:"",collectiveVacationEnd:"",collectiveVacationStart:"",collectiveVacationMessage:"",queueIdImportMessages:null},[b,f]=Object(n.useState)(E),[h,A]=Object(n.useState)([]),[v,y]=Object(n.useState)([]),[x,C]=Object(n.useState)("general"),[k,w]=Object(n.useState)(!1),[T,O]=Object(n.useState)(!1),[M,I]=Object(n.useState)(!1),[j,N]=Object(n.useState)(da()().add(-1,"days").format("YYYY-MM-DDTHH:mm")),[R,F]=Object(n.useState)(da()().add(-1,"minutes").format("YYYY-MM-DDTHH:mm")),[P,D]=Object(n.useState)(!1),[L,B]=Object(n.useState)(!1),[W,q]=Object(n.useState)(!1),[z,H]=Object(n.useState)(!1),[U,V]=Object(n.useState)(!1),{user:G}=Object(n.useContext)(ua),[K,Y]=Object(n.useState)([{weekday:aa.a.t("queueModal.serviceHours.monday"),weekdayEn:"monday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:aa.a.t("queueModal.serviceHours.tuesday"),weekdayEn:"tuesday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:aa.a.t("queueModal.serviceHours.wednesday"),weekdayEn:"wednesday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:aa.a.t("queueModal.serviceHours.thursday"),weekdayEn:"thursday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:aa.a.t("queueModal.serviceHours.friday"),weekdayEn:"friday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:"S\xe1bado",weekdayEn:"saturday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:"Domingo",weekdayEn:"sunday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"}]),{get:X}=ct(),{getPlanCompany:J}=va(),[Z,_]=Object(n.useState)(null),[$,ee]=Object(n.useState)([]),[ae,te]=Object(n.useState)([]),[ne,le]=Object(n.useState)(),[oe,re]=Object(n.useState)(),[ie,se]=Object(n.useState)(null),[ce,de]=Object(n.useState)([]);Object(n.useEffect)(()=>{o||b.token?o&&!b.token?s(be(30)):s(b.token):s(be(30))},[o,b.token]),Object(n.useEffect)(()=>{!async function(){const e=G.companyId,a=await J(void 0,e);H(a.plan.useOpenAi),V(a.plan.useIntegrations)}()},[]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await u.get("/prompt");ee(e.prompts)}catch(e){oa(e)}})()},[o]),Object(n.useEffect)(()=>{(async()=>{const e=await X({column:"scheduleType"});B("connection"===e.scheduleType);const a=await X({column:"userRating"});q("enabled"===a.userRating)})()},[]);const me=async e=>{w(e.target.checked)};Object(n.useEffect)(()=>{(async()=>{if(o)try{var e;const{data:a}=await u.get(`whatsapp/${o}?session=0`);if(a&&(null===a||void 0===a?void 0:a.flowIdNotPhrase)){const{data:e}=await u.get("flowbuilder/"+a.flowIdNotPhrase);console.log(null===e||void 0===e?void 0:e.flow.id);const t=null===e||void 0===e?void 0:e.flow.id;le(t)}if(a&&(null===a||void 0===a?void 0:a.flowIdWelcome)){const{data:e}=await u.get("flowbuilder/"+a.flowIdWelcome);console.log(null===e||void 0===e?void 0:e.flow.id);const t=null===e||void 0===e?void 0:e.flow.id;re(t)}f(a),g(a.greetingMediaAttachment),s(a.token),se(null===a||void 0===a?void 0:a.integrationId),a.promptId?_(a.promptId):_(null);const t=null===(e=a.queues)||void 0===e?void 0:e.map(e=>e.id);A(t),Y(a.schedules),Object(la.isNil)(null===a||void 0===a?void 0:a.importOldMessages)||(w(!0),N(null===a||void 0===a?void 0:a.importOldMessages),F(null===a||void 0===a?void 0:a.importRecentMessages),I(null===a||void 0===a?void 0:a.closedTicketsPostImported),O(null===a||void 0===a?void 0:a.importOldMessagesGroups))}catch(a){oa(a)}})()},[o]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await u.get("/queue");y(e)}catch(e){oa(e)}})()},[]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await u.get("/queueIntegration");de(e.queueIntegrations)}catch(e){oa(e)}})()},[]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await u.get("/flowbuilder");te(e.flows)}catch(e){oa(e)}})()},[]);const ue=e=>{se(e.target.value),_(null),A([])},pe=e=>{console.log(e.target.value),le(e.target.value)},ge=e=>{console.log(e.target.value),re(e.target.value)},Ee=e=>{_(e.target.value),A([])};function be(e){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyvz0123456789";let t="";for(let n=0;n<e;n++){const e=Math.floor(Math.random()*a.length);t+=a.charAt(e)}return t}const fe=()=>{s(be(30))},he=()=>{navigator.clipboard.writeText(i),D(!0)},Ae=async e=>{S.b.success("Clique em salvar para registar as altera\xe7\xf5es"),Y(e)},ve=()=>{t(),f(E),w(!1),m(null),g(""),D(!1)},ye=(e,a)=>{C(a)},xe=()=>{const e=c.current.files[0];m(e),g(e.name),c.current.value=null},Ce=()=>{m(null),g(null)};return l.a.createElement("div",{className:r.root},l.a.createElement(Tt.a,{open:a,onClose:ve,maxWidth:"lg",fullWidth:!0,scroll:"paper"},l.a.createElement(Mt.a,null,o?aa.a.t("whatsappModal.title.edit"):aa.a.t("whatsappModal.title.add")),l.a.createElement(Ct.e,{initialValues:b,enableReinitialize:!0,validationSchema:_c,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{if(o||s(be(30)),W){if(Object(la.isNil)(e.ratingMessage))return void oa(aa.a.t("whatsappModal.errorRatingMessage"));if("0"===e.expiresTicketNPS&&""===e.expiresTicketNPS&&0===e.expiresTicketNPS)return void oa(aa.a.t("whatsappModal.errorExpiresNPS"))}if(""===e.timeSendQueue&&(e.timeSendQueue="0"),(0===e.sendIdQueue||""===e.sendIdQueue||Object(la.isNil)(e.sendIdQueue))&&0!==e.timeSendQueue&&"0"!==e.timeSendQueue)return void oa(aa.a.t("whatsappModal.errorSendQueue"));const a={...e,flowIdWelcome:oe||null,flowIdNotPhrase:ne||null,integrationId:ie||null,queueIds:h,importOldMessages:k?j:null,importRecentMessages:k?R:null,importOldMessagesGroups:T||null,closedTicketsPostImported:M||null,token:i||null,schedules:K,promptId:Z||null};console.dir(a),delete a.queues,delete a.session;try{if(o){if(o&&k&&"CONNECTED"===(null===b||void 0===b?void 0:b.status))try{f({...b,status:"qrcode"}),await u.delete("/whatsappsession/"+b.id)}catch(t){oa(t)}if(await u.put("/whatsapp/"+o,a),null!=d){const e=new FormData;e.append("file",d),await u.post(`/whatsapp/${o}/media-upload`,e)}p||null===b.greetingMediaAttachment||await u.delete(`/whatsapp/${o}/media-upload`)}else{const{data:e}=await u.post("/whatsapp",a);if(null!=d){const a=new FormData;a.append("file",d),await u.post(`/whatsapp/${e.id}/media-upload`,a)}}S.b.success(aa.a.t("whatsappModal.success")),ve()}catch(t){oa(t)}})(e),a.setSubmitting(!1)},400)}},e=>{var a,t;let{values:n,touched:s,errors:d,isSubmitting:m}=e;return l.a.createElement(Ct.d,null,l.a.createElement(Bt.a,{className:r.mainPaper,elevation:1},l.a.createElement(Wt.a,{value:x,indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",onChange:ye,className:r.tab},l.a.createElement(qt.a,{label:aa.a.t("whatsappModal.tabs.general"),value:"general"}),l.a.createElement(qt.a,{label:aa.a.t("whatsappModal.tabs.integrations"),value:"integrations"}),l.a.createElement(qt.a,{label:aa.a.t("whatsappModal.tabs.messages"),value:"messages"}),l.a.createElement(qt.a,{label:"Chatbot",value:"chatbot"}),l.a.createElement(qt.a,{label:aa.a.t("whatsappModal.tabs.assessments"),value:"nps"}),l.a.createElement(qt.a,{label:"Fluxo Padr\xe3o",value:"flowbuilder"}),L&&l.a.createElement(qt.a,{label:aa.a.t("whatsappModal.tabs.schedules"),value:"schedules"}))),l.a.createElement(Bt.a,{className:r.paper,elevation:0},l.a.createElement(zt,{className:r.container,value:x,name:"general"},l.a.createElement(St.a,{dividers:!0},p&&l.a.createElement("div",{style:{display:"flex",flexDirection:"row-reverse"}},l.a.createElement(kt.a,{variant:"outlined",color:"primary",endIcon:l.a.createElement(ao.a,null),onClick:Ce},p)),l.a.createElement("div",{style:{display:"flex",flexDirection:"column-reverse"}},l.a.createElement("input",{type:"file",accept:"video/*,image/*",ref:c,style:{display:"none"},onChange:xe}),l.a.createElement(kt.a,{variant:"contained",color:"primary",onClick:()=>c.current.click()},aa.a.t("userModal.buttons.addImage"))),l.a.createElement("div",{className:r.multFieldLine},l.a.createElement(ht.a,{spacing:2,container:!0},l.a.createElement(ht.a,{item:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.name"),autoFocus:!0,name:"name",error:s.name&&Boolean(d.name),helperText:s.name&&d.name,variant:"outlined",margin:"dense",className:r.textField})),l.a.createElement(ht.a,{style:{paddingTop:15},item:!0},l.a.createElement(Bi.a,{control:l.a.createElement(Ct.b,{as:Nl.a,color:"primary",name:"isDefault",checked:n.isDefault}),label:aa.a.t("whatsappModal.form.default")}),l.a.createElement(Bi.a,{control:l.a.createElement(Ct.b,{as:Nl.a,color:"primary",name:"allowGroup",checked:n.allowGroup}),label:aa.a.t("whatsappModal.form.group")})),l.a.createElement(ht.a,{xs:6,md:4,item:!0},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:r.formControl},l.a.createElement(Nt.a,{id:"groupAsTicket-selection-label"},aa.a.t("whatsappModal.form.groupAsTicket")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("whatsappModal.form.groupAsTicket"),placeholder:aa.a.t("whatsappModal.form.groupAsTicket"),labelId:"groupAsTicket-selection-label",id:"groupAsTicket",name:"groupAsTicket"},l.a.createElement(Q.a,{value:"disabled"},aa.a.t("whatsappModal.menuItem.disabled")),l.a.createElement(Q.a,{value:"enabled"},aa.a.t("whatsappModal.menuItem.enabled"))))))),l.a.createElement("div",{className:r.importMessage},l.a.createElement("div",{className:r.multFieldLine},l.a.createElement(Bi.a,{style:{marginRight:7,color:"gray"},label:aa.a.t("whatsappModal.form.importOldMessagesEnable"),labelPlacement:"end",control:l.a.createElement(Nl.a,{size:"medium",checked:k,onChange:me,name:"importOldMessagesEnable",color:"primary"})}),k?l.a.createElement(l.a.Fragment,null,l.a.createElement(Bi.a,{style:{marginRight:7,color:"gray"},label:aa.a.t("whatsappModal.form.importOldMessagesGroups"),labelPlacement:"end",control:l.a.createElement(Nl.a,{size:"medium",checked:T,onChange:e=>O(e.target.checked),name:"importOldMessagesGroups",color:"primary"})}),l.a.createElement(Bi.a,{style:{marginRight:7,color:"gray"},label:aa.a.t("whatsappModal.form.closedTicketsPostImported"),labelPlacement:"end",control:l.a.createElement(Nl.a,{size:"medium",checked:M,onChange:e=>I(e.target.checked),name:"closedTicketsPostImported",color:"primary"})})):l.a.createElement(l.a.Fragment,null)),k?l.a.createElement(ht.a,{style:{marginTop:18},container:!0,spacing:1},l.a.createElement(ht.a,{item:!0,xs:6},l.a.createElement(Ct.b,{fullWidth:!0,as:wt.a,label:aa.a.t("whatsappModal.form.importOldMessages"),type:"datetime-local",name:"importOldMessages",inputProps:{max:da()().add(0,"minutes").format("YYYY-MM-DDTHH:mm"),min:da()().add(-2,"years").format("YYYY-MM-DDTHH:mm")},InputLabelProps:{shrink:!0},error:s.importOldMessages&&Boolean(d.importOldMessages),helperText:s.importOldMessages&&d.importOldMessages,variant:"outlined",value:da()(j).format("YYYY-MM-DDTHH:mm"),onChange:e=>{N(e.target.value)}})),l.a.createElement(ht.a,{item:!0,xs:6},l.a.createElement(Ct.b,{fullWidth:!0,as:wt.a,label:aa.a.t("whatsappModal.form.importRecentMessages"),type:"datetime-local",name:"importRecentMessages",inputProps:{max:da()().add(0,"minutes").format("YYYY-MM-DDTHH:mm"),min:da()(j).format("YYYY-MM-DDTHH:mm")},InputLabelProps:{shrink:!0},error:s.importRecentMessages&&Boolean(d.importRecentMessages),helperText:s.importRecentMessages&&d.importRecentMessages,variant:"outlined",value:da()(R).format("YYYY-MM-DDTHH:mm"),onChange:e=>{F(e.target.value)}})),l.a.createElement(ht.a,{xs:12,md:12,xl:12,item:!0},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",className:r.FormControl,fullWidth:!0},l.a.createElement(Nt.a,{id:"queueIdImportMessages-selection-label"},aa.a.t("whatsappModal.form.queueIdImportMessages")),l.a.createElement(Ct.b,{as:jt.a,name:"queueIdImportMessages",id:"queueIdImportMessages",value:n.queueIdImportMessages||"0",required:k,label:aa.a.t("whatsappModal.form.queueIdImportMessages"),placeholder:aa.a.t("whatsappModal.form.queueIdImportMessages"),labelId:"queueIdImportMessages-selection-label"},l.a.createElement(Q.a,{value:0},"\xa0"),v.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name)))))):null),k&&l.a.createElement("span",{style:{color:"red"}},aa.a.t("whatsappModal.form.importAlert")),l.a.createElement(Gt.a,{display:"flex",alignItems:"center"},l.a.createElement(ht.a,{xs:6,md:12,item:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.token"),type:"token",fullWidth:!0,value:i,variant:"outlined",margin:"dense",disabled:!0})),l.a.createElement(kt.a,{onClick:fe,disabled:m,className:r.tokenRefresh,variant:"text",startIcon:l.a.createElement(Gc.a,{style:{marginLeft:5,color:"green"}})}),l.a.createElement(kt.a,{onClick:he,className:r.tokenRefresh,variant:"text",startIcon:l.a.createElement(Kc.a,{style:{color:P?"blue":"inherit"}})})),l.a.createElement("div",null,l.a.createElement("h3",null,aa.a.t("whatsappModal.form.queueRedirection")),l.a.createElement("p",null,aa.a.t("whatsappModal.form.queueRedirectionDesc")),l.a.createElement(ht.a,{spacing:2,container:!0},l.a.createElement(ht.a,{xs:6,md:6,item:!0},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",className:r.FormControl,fullWidth:!0},l.a.createElement(Nt.a,{id:"sendIdQueue-selection-label"},aa.a.t("whatsappModal.form.sendIdQueue")),l.a.createElement(Ct.b,{as:jt.a,name:"sendIdQueue",id:"sendIdQueue",value:n.sendIdQueue||"0",required:n.timeSendQueue>0,label:aa.a.t("whatsappModal.form.sendIdQueue"),placeholder:aa.a.t("whatsappModal.form.sendIdQueue"),labelId:"sendIdQueue-selection-label"},l.a.createElement(Q.a,{value:0},"\xa0"),v.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name))))),l.a.createElement(ht.a,{xs:6,md:6,item:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.timeSendQueue"),fullWidth:!0,name:"timeSendQueue",variant:"outlined",margin:"dense",error:s.timeSendQueue&&Boolean(d.timeSendQueue),helperText:s.timeSendQueue&&d.timeSendQueue})))))),l.a.createElement(zt,{className:r.container,value:x,name:"integrations"},l.a.createElement(St.a,{dividers:!0},l.a.createElement(Lt,{selectedQueueIds:h,onChange:e=>(A(e),_(null),void se(null))}),U&&l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",className:r.FormControl,fullWidth:!0},l.a.createElement(Nt.a,{id:"integrationId-selection-label"},aa.a.t("queueModal.form.integrationId")),l.a.createElement(jt.a,{label:aa.a.t("queueModal.form.integrationId"),name:"integrationId",value:ie||"",onChange:ue,id:"integrationId",variant:"outlined",margin:"dense",placeholder:aa.a.t("queueModal.form.integrationId"),labelId:"integrationId-selection-label"},l.a.createElement(Q.a,{value:null},"Desabilitado"),ce.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name)))),z&&l.a.createElement(Rt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Nt.a,null,aa.a.t("whatsappModal.form.prompt")),l.a.createElement(jt.a,{labelId:"dialog-select-prompt-label",id:"dialog-select-prompt",name:"promptId",value:Z||"",onChange:Ee,label:aa.a.t("whatsappModal.form.prompt"),fullWidth:!0,MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null}},$.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name)))))),l.a.createElement(zt,{className:r.container,value:x,name:"messages"},l.a.createElement(St.a,{dividers:!0},l.a.createElement(ht.a,{container:!0,spacing:1},l.a.createElement(ht.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.greetingMessage"),type:"greetingMessage",multiline:!0,rows:4,fullWidth:!0,name:"greetingMessage",error:s.greetingMessage&&Boolean(d.greetingMessage),helperText:s.greetingMessage&&d.greetingMessage,variant:"outlined",margin:"dense"})),l.a.createElement(ht.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.complationMessage"),multiline:!0,rows:4,fullWidth:!0,name:"complationMessage",error:s.complationMessage&&Boolean(d.complationMessage),helperText:s.complationMessage&&d.complationMessage,variant:"outlined",margin:"dense"})),l.a.createElement(ht.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.outOfHoursMessage"),multiline:!0,rows:4,fullWidth:!0,name:"outOfHoursMessage",error:s.outOfHoursMessage&&Boolean(d.outOfHoursMessage),helperText:s.outOfHoursMessage&&d.outOfHoursMessage,variant:"outlined",margin:"dense"})),l.a.createElement(ht.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.collectiveVacationMessage"),multiline:!0,rows:4,fullWidth:!0,name:"collectiveVacationMessage",error:s.collectiveVacationMessage&&Boolean(d.collectiveVacationMessage),helperText:s.collectiveVacationMessage&&d.collectiveVacationMessage,variant:"outlined",margin:"dense"})),l.a.createElement(ht.a,{item:!0,xs:6},l.a.createElement(Ct.b,{fullWidth:!0,as:wt.a,label:aa.a.t("whatsappModal.form.collectiveVacationStart"),type:"date",name:"collectiveVacationStart",required:(null===(a=n.collectiveVacationMessage)||void 0===a?void 0:a.length)>0,inputProps:{min:da()().add(-10,"days").format("YYYY-MM-DD")},InputLabelProps:{shrink:!0},error:s.collectiveVacationStart&&Boolean(d.collectiveVacationStart),helperText:s.collectiveVacationStart&&d.collectiveVacationStart,variant:"outlined"})),l.a.createElement(ht.a,{item:!0,xs:6},l.a.createElement(Ct.b,{fullWidth:!0,as:wt.a,label:aa.a.t("whatsappModal.form.collectiveVacationEnd"),type:"date",name:"collectiveVacationEnd",required:(null===(t=n.collectiveVacationMessage)||void 0===t?void 0:t.length)>0,inputProps:{min:da()().add(-10,"days").format("YYYY-MM-DD")},InputLabelProps:{shrink:!0},error:s.collectiveVacationEnd&&Boolean(d.collectiveVacationEnd),helperText:s.collectiveVacationEnd&&d.collectiveVacationEnd,variant:"outlined"}))))),l.a.createElement(zt,{className:r.container,value:x,name:"chatbot"},l.a.createElement(St.a,{dividers:!0},l.a.createElement(ht.a,{spacing:2,container:!0},l.a.createElement(ht.a,{xs:6,md:4,item:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.timeCreateNewTicket"),fullWidth:!0,name:"timeCreateNewTicket",variant:"outlined",margin:"dense",error:s.timeCreateNewTicket&&Boolean(d.timeCreateNewTicket),helperText:s.timeCreateNewTicket&&d.timeCreateNewTicket})),l.a.createElement(ht.a,{xs:6,md:4,item:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.maxUseBotQueues"),fullWidth:!0,name:"maxUseBotQueues",variant:"outlined",margin:"dense",error:s.maxUseBotQueues&&Boolean(d.maxUseBotQueues),helperText:s.maxUseBotQueues&&d.maxUseBotQueues})),l.a.createElement(ht.a,{xs:6,md:4,item:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.timeUseBotQueues"),fullWidth:!0,name:"timeUseBotQueues",variant:"outlined",margin:"dense",error:s.timeUseBotQueues&&Boolean(d.timeUseBotQueues),helperText:s.timeUseBotQueues&&d.timeUseBotQueues}))),l.a.createElement(ht.a,{spacing:2,container:!0},l.a.createElement(ht.a,{xs:6,md:6,item:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.expiresTicket"),fullWidth:!0,name:"expiresTicket",required:n.timeInactiveMessage>0,variant:"outlined",margin:"dense",error:s.expiresTicket&&Boolean(d.expiresTicket),helperText:s.expiresTicket&&d.expiresTicket})),l.a.createElement(ht.a,{xs:6,md:6,item:!0},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:r.formControl},l.a.createElement(Nt.a,{id:"whenExpiresTicket-selection-label"},aa.a.t("whatsappModal.form.whenExpiresTicket")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("whatsappModal.form.whenExpiresTicket"),placeholder:aa.a.t("whatsappModal.form.whenExpiresTicket"),labelId:"whenExpiresTicket-selection-label",id:"whenExpiresTicket",name:"whenExpiresTicket"},l.a.createElement(Q.a,{value:"0"},aa.a.t("whatsappModal.form.closeLastMessageOptions1")),l.a.createElement(Q.a,{value:"1"},aa.a.t("whatsappModal.form.closeLastMessageOptions2")))))),l.a.createElement("div",null,l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.expiresInactiveMessage"),multiline:!0,rows:4,fullWidth:!0,name:"expiresInactiveMessage",error:s.expiresInactiveMessage&&Boolean(d.expiresInactiveMessage),helperText:s.expiresInactiveMessage&&d.expiresInactiveMessage,variant:"outlined",margin:"dense"})),l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.timeInactiveMessage"),fullWidth:!0,name:"timeInactiveMessage",variant:"outlined",margin:"dense",error:s.timeInactiveMessage&&Boolean(d.timeInactiveMessage),helperText:s.timeInactiveMessage&&d.timeInactiveMessage}),l.a.createElement("div",null,l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.inactiveMessage"),multiline:!0,rows:4,fullWidth:!0,name:"inactiveMessage",error:s.inactiveMessage&&Boolean(d.inactiveMessage),helperText:s.inactiveMessage&&d.inactiveMessage,variant:"outlined",margin:"dense"})))),l.a.createElement(zt,{className:r.container,value:x,name:"nps"},l.a.createElement(St.a,{dividers:!0},l.a.createElement("div",null,l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.ratingMessage"),multiline:!0,rows:4,fullWidth:!0,name:"ratingMessage",error:s.ratingMessage&&Boolean(d.ratingMessage),helperText:s.ratingMessage&&d.ratingMessage,variant:"outlined",margin:"dense"})),l.a.createElement("div",null,l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.maxUseBotQueuesNPS"),fullWidth:!0,name:"maxUseBotQueuesNPS",variant:"outlined",margin:"dense",error:s.maxUseBotQueuesNPS&&Boolean(d.maxUseBotQueuesNPS),helperText:s.maxUseBotQueuesNPS&&d.maxUseBotQueuesNPS})),l.a.createElement("div",null,l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.expiresTicketNPS"),fullWidth:!0,name:"expiresTicketNPS",variant:"outlined",margin:"dense",error:s.expiresTicketNPS&&Boolean(d.expiresTicketNPS),helperText:s.expiresTicketNPS&&d.expiresTicketNPS})))),U&&l.a.createElement(l.a.Fragment,null,l.a.createElement(zt,{className:r.container,value:x,name:"flowbuilder"},l.a.createElement(St.a,null,l.a.createElement("h3",null,"Fluxo de boas vindas"),l.a.createElement("p",null,"Este fluxo \xe9 disparado apenas para novos contatos, pessoas que voce n\xe3o possui em sua lista de contatos e que mandaram uma mensagem"),l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",className:r.FormControl,fullWidth:!0},l.a.createElement(jt.a,{name:"flowIdWelcome",value:oe||"",onChange:ge,id:"flowIdWelcome",variant:"outlined",margin:"dense",labelId:"flowIdWelcome-selection-label"},l.a.createElement(Q.a,{value:null},"Desabilitado"),ae.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name))))),l.a.createElement(St.a,null,l.a.createElement("h3",null,"Fluxo de resposta padr\xe3o"),l.a.createElement("p",null,"Resposta Padr\xe3o \xe9 enviada com qualquer caractere diferente de uma palavra chave. ATEN\xc7\xc3O! Ser\xe1 disparada se o atendimento ja estiver fechado."),l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",className:r.FormControl,fullWidth:!0},l.a.createElement(jt.a,{name:"flowNotIdPhrase",value:ne||"",onChange:pe,id:"flowNotIdPhrase",variant:"outlined",margin:"dense",labelId:"flowNotIdPhrase-selection-label"},l.a.createElement(Q.a,{value:null},"Desabilitado"),ae.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name))))))),l.a.createElement(zt,{className:r.container,value:x,name:"schedules"},"schedules"===x&&l.a.createElement(Bt.a,{style:{padding:20}},l.a.createElement(Jc,{loading:!1,onSubmit:Ae,initialValues:K,labelSaveButton:aa.a.t("whatsappModal.buttons.okAdd")})))),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:ve,color:"secondary",disabled:m,variant:"outlined"},aa.a.t("whatsappModal.buttons.cancel")),l.a.createElement(kt.a,{type:"submit",color:"primary",disabled:m,variant:"contained",className:r.btnWrapper},o?aa.a.t("whatsappModal.buttons.okEdit"):aa.a.t("whatsappModal.buttons.okAdd"),m&&l.a.createElement(It.a,{size:24,className:r.buttonProgress}))))})))}),ed=t(941),ad=t.n(ed);const td=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"}}));var nd=l.a.memo(e=>{let{open:a,onClose:t,whatsAppId:o}=e;const r=td(),[i,s]=Object(n.useState)(""),{user:c,socket:d}=Object(n.useContext)(ua);return Object(n.useEffect)(()=>{(async()=>{if(o)try{const{data:e}=await u.get("/whatsapp/"+o);s(e.qrcode)}catch(e){oa(e)}})()},[o]),Object(n.useEffect)(()=>{if(!o)return;const e=c.companyId,a=e=>{"update"===e.action&&e.session.id===o&&s(e.session.qrcode),"update"===e.action&&""===e.session.qrcode&&t()};return d.on(`company-${e}-whatsappSession`,a),()=>{d.off(`company-${e}-whatsappSession`,a)}},[o,t]),l.a.createElement(Tt.a,{open:a,onClose:t,maxWidth:"lg",scroll:"paper"},l.a.createElement(St.a,null,l.a.createElement(Bt.a,{elevation:0},l.a.createElement(z.a,{color:"secondary",gutterBottom:!0},aa.a.t("qrCode.message")),l.a.createElement("div",{className:r.root},i?l.a.createElement(ad.a,{value:i,size:300,style:{backgroundColor:"white",padding:"5px"}}):l.a.createElement("span",null,"Aguardando pelo QR Code")))))}),ld=t(205);const od=Object(I.a)(e=>({mainPaper:{flex:1,padding:e.padding,overflowY:"scroll",...e.scrollbarStyles},customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"},tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",fontSize:e.typography.pxToRem(14),border:"1px solid #dadde9",maxWidth:450},tooltipPopper:{textAlign:"center"},buttonProgress:{color:La.a[500]}}));function rd(e){return l.a.createElement(Gt.a,{position:"relative",display:"inline-flex"},l.a.createElement(It.a,Object.assign({variant:"determinate"},e)),l.a.createElement(Gt.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},l.a.createElement(z.a,{variant:"caption",component:"div",color:"textSecondary"},Math.round(e.value)+"%")))}const id=e=>{let{title:a,content:t,children:n}=e;const o=od();return l.a.createElement(ne.a,{arrow:!0,classes:{tooltip:o.tooltip,popper:o.tooltipPopper},title:l.a.createElement(l.a.Fragment,null,l.a.createElement(z.a,{gutterBottom:!0,color:"inherit"},a),t&&l.a.createElement(z.a,null,t))},n)};var sd=()=>{const e=od(),{whatsApps:a,loading:t}=Object(n.useContext)(ba),[o,r]=Object(n.useState)(!1),[i,s]=Object(n.useState)([]),[c,d]=Object(n.useState)(!1),[m,p]=Object(n.useState)(null),[g,E]=Object(n.useState)(!1),{handleLogout:b}=Object(n.useContext)(ua),f=Object(ld.useHistory)(),h={action:"",title:"",message:"",whatsAppId:"",open:!1},[A,v]=Object(n.useState)(h),[y,x]=Object(n.useState)(!1),{user:C,socket:k}=Object(n.useContext)(ua),w=C.companyId,{getPlanCompany:T}=va();Object(n.useEffect)(()=>{!async function(){const e=await T(void 0,w);x(e)}()},[]),!0!==da()(da()().format()).isBefore(C.company.dueDate)&&b();const O=e=>{if("unknown"!==e.status){const{accessToken:a,id:t}=e;u.post("/facebook",{facebookUserId:t,facebookUserToken:a}).then(e=>{S.b.success(aa.a.t("connections.facebook.success"))}).catch(e=>{oa(e)})}},M=e=>{if("unknown"!==e.status){const{accessToken:a,id:t}=e;u.post("/facebook",{addInstagram:!0,facebookUserId:t,facebookUserToken:a}).then(e=>{S.b.success(aa.a.t("connections.facebook.success"))}).catch(e=>{oa(e)})}};Object(n.useEffect)(()=>{k.on("importMessages-"+C.companyId,e=>{"refresh"===e.action&&(s([]),f.go(0)),"update"===e.action&&s(e.status)})},[a]);const I=Object(n.useCallback)(()=>{r(!1),p(null)},[p,r]),j=Object(n.useCallback)(()=>{p(null),d(!1)},[d,p]),N=(e,a)=>{"disconnect"===e&&v({action:e,title:aa.a.t("connections.confirmationModal.disconnectTitle"),message:aa.a.t("connections.confirmationModal.disconnectMessage"),whatsAppId:a}),"delete"===e&&v({action:e,title:aa.a.t("connections.confirmationModal.deleteTitle"),message:aa.a.t("connections.confirmationModal.deleteMessage"),whatsAppId:a}),"closedImported"===e&&v({action:e,title:aa.a.t("connections.confirmationModal.closedImportedTitle"),message:aa.a.t("connections.confirmationModal.closedImportedMessage"),whatsAppId:a}),E(!0)},R=a=>l.a.createElement(l.a.Fragment,null,"qrcode"===a.status&&l.a.createElement(Aa,{role:"user"===C.profile&&"enabled"===C.allowConnections?"admin":C.profile,perform:"connections-page:addConnection",yes:()=>l.a.createElement(kt.a,{size:"small",variant:"contained",color:"primary",onClick:()=>(e=>{p(e),d(!0)})(a)},aa.a.t("connections.buttons.qrcode"))}),"DISCONNECTED"===a.status&&l.a.createElement(Aa,{role:"user"===C.profile&&"enabled"===C.allowConnections?"admin":C.profile,perform:"connections-page:addConnection",yes:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(kt.a,{size:"small",variant:"outlined",color:"primary",onClick:()=>(async e=>{try{await u.post("/whatsappsession/"+e)}catch(a){oa(a)}})(a.id)},aa.a.t("connections.buttons.tryAgain"))," ",l.a.createElement(kt.a,{size:"small",variant:"outlined",color:"secondary",onClick:()=>(async e=>{try{await u.put("/whatsappsession/"+e)}catch(a){oa(a)}})(a.id)},aa.a.t("connections.buttons.newQr")))}),("CONNECTED"===a.status||"PAIRING"===a.status||"TIMEOUT"===a.status)&&l.a.createElement(Aa,{role:C.profile,perform:"connections-page:addConnection",yes:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(kt.a,{size:"small",variant:"outlined",color:"secondary",onClick:()=>{N("disconnect",a.id)}},aa.a.t("connections.buttons.disconnect")),(a=>{if("renderButtonCloseTickets"===(null===a||void 0===a?void 0:a.statusImportMessages))return l.a.createElement(kt.a,{style:{marginLeft:12},size:"small",variant:"outlined",color:"primary",onClick:()=>{N("closedImported",a.id)}},aa.a.t("connections.buttons.closedImported"));if(null===a||void 0===a?void 0:a.importOldMessages){if(!isNaN(new Date(Math.floor(null===a||void 0===a?void 0:a.statusImportMessages)).getTime())){const t=new Date(Math.floor(null===a||void 0===a?void 0:a.statusImportMessages)).getTime();if(+Object(kc.a)(t,{seconds:35}).getTime()>(new Date).getTime())return l.a.createElement(l.a.Fragment,null,l.a.createElement(kt.a,{disabled:!0,style:{marginLeft:12},size:"small",endIcon:l.a.createElement(It.a,{size:12,className:e.buttonProgress}),variant:"outlined",color:"primary"},aa.a.t("connections.buttons.preparing")))}}})(a))}),"OPENING"===a.status&&l.a.createElement(kt.a,{size:"small",variant:"outlined",disabled:!0,color:"default"},aa.a.t("connections.buttons.connecting")));return l.a.createElement(Bc,null,l.a.createElement(Ir,{title:A.title,open:g,onClose:E,onConfirm:async()=>{if("disconnect"===A.action)try{await u.delete("/whatsappsession/"+A.whatsAppId)}catch(e){oa(e)}if("delete"===A.action)try{await u.delete("/whatsapp/"+A.whatsAppId),S.b.success(aa.a.t("connections.toasts.deleted"))}catch(e){oa(e)}if("closedImported"===A.action)try{await u.post("/closedimported/"+A.whatsAppId),S.b.success(aa.a.t("connections.toasts.closedimported"))}catch(e){oa(e)}v(h)}},A.message),c&&l.a.createElement(nd,{open:c,onClose:j,whatsAppId:!o&&(null===m||void 0===m?void 0:m.id)}),l.a.createElement($c,{open:o,onClose:I,whatsAppId:!c&&(null===m||void 0===m?void 0:m.id)}),"user"===C.profile&&"disabled"===C.allowConnections?l.a.createElement(Tl,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(qc,null,l.a.createElement(Uc,null,aa.a.t("connections.title")," (",a.length,")"),l.a.createElement(Hc,null,l.a.createElement(kt.a,{variant:"contained",color:"primary",onClick:async()=>{try{await u.post("/whatsapp-restart/"),S.b.success(aa.a.t("connections.waitConnection"))}catch(e){oa(e)}}},aa.a.t("connections.restartConnections")),l.a.createElement(kt.a,{variant:"contained",color:"primary",onClick:()=>{return e="https://wa.me/"+Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"http://localhost:8081",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"24"}).REACT_APP_NUMBER_SUPPORT,void window.open(e,"_blank","noopener,noreferrer");var e}},aa.a.t("connections.callSupport")),l.a.createElement(Tc.a,{variant:"popover",popupId:"demo-popup-menu"},e=>l.a.createElement(l.a.Fragment,null,l.a.createElement(Aa,{role:C.profile,perform:"connections-page:addConnection",yes:()=>{var a;return l.a.createElement(l.a.Fragment,null,l.a.createElement(kt.a,Object.assign({variant:"contained",color:"primary"},Object(wc.bindTrigger)(e)),aa.a.t("connections.newConnection")),l.a.createElement(U.a,Object(wc.bindMenu)(e),l.a.createElement(Q.a,{disabled:!(null===y||void 0===y||null===(a=y.plan)||void 0===a?void 0:a.useWhatsapp),onClick:()=>{p(null),r(!0),e.close()}},l.a.createElement(so.a,{fontSize:"small",style:{marginRight:"10px",color:"#25D366"}}),"WhatsApp"),l.a.createElement(Dc.a,{appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"http://localhost:8081",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"24"}).REACT_APP_FACEBOOK_APP_ID,autoLoad:!1,fields:"name,email,picture",version:"9.0",scope:"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management",callback:O,render:e=>{var a;return l.a.createElement(Q.a,{disabled:!(null===y||void 0===y||null===(a=y.plan)||void 0===a?void 0:a.useFacebook),onClick:e.onClick},l.a.createElement(ro.a,{fontSize:"small",style:{marginRight:"10px",color:"#3b5998"}}),"Facebook")}}),l.a.createElement(Dc.a,{appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"http://localhost:8081",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"24"}).REACT_APP_FACEBOOK_APP_ID,autoLoad:!1,fields:"name,email,picture",version:"9.0",scope:"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management",callback:M,render:e=>{var a;return l.a.createElement(Q.a,{disabled:!(null===y||void 0===y||null===(a=y.plan)||void 0===a?void 0:a.useInstagram),onClick:e.onClick},l.a.createElement(io.a,{fontSize:"small",style:{marginRight:"10px",color:"#e1306c"}}),"Instagram")}})))}}))))),(null===i||void 0===i?void 0:i.all)?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{margin:"auto",marginBottom:12}},l.a.createElement(Zi.a,{className:e.root},l.a.createElement(Oc.a,{className:e.content},l.a.createElement(z.a,{component:"h5",variant:"h5"},-1===(null===i||void 0===i?void 0:i.this)?aa.a.t("connections.buttons.preparing"):aa.a.t("connections.buttons.importing")),-1===(null===i||void 0===i?void 0:i.this)?l.a.createElement(z.a,{component:"h6",variant:"h6",align:"center"},l.a.createElement(It.a,{size:24})):l.a.createElement(l.a.Fragment,null,l.a.createElement(z.a,{component:"h6",variant:"h6",align:"center"},`${aa.a.t("connections.typography.processed")} ${null===i||void 0===i?void 0:i.this} ${aa.a.t("connections.typography.in")} ${null===i||void 0===i?void 0:i.all}  ${aa.a.t("connections.typography.date")}: ${null===i||void 0===i?void 0:i.date} `),l.a.createElement(z.a,{align:"center"},l.a.createElement(rd,{style:{margin:"auto"},value:(null===i||void 0===i?void 0:i.this)/(null===i||void 0===i?void 0:i.all)*100}))))))):null,l.a.createElement(Bt.a,{className:e.mainPaper,variant:"outlined"},l.a.createElement(Gn.a,{size:"small"},l.a.createElement(Jn.a,null,l.a.createElement(Zn.a,null,l.a.createElement(Yn.a,{align:"center"},"Channel"),l.a.createElement(Yn.a,{align:"center"},aa.a.t("connections.table.name")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("connections.table.number")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("connections.table.status")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("connections.table.session")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("connections.table.lastUpdate")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("connections.table.default")),l.a.createElement(Aa,{role:"user"===C.profile&&"enabled"===C.allowConnections?"admin":C.profile,perform:"connections-page:addConnection",yes:()=>l.a.createElement(Yn.a,{align:"center"},aa.a.t("connections.table.actions"))}))),l.a.createElement(Kn.a,null,t?l.a.createElement(Vc,null):l.a.createElement(l.a.Fragment,null,(null===a||void 0===a?void 0:a.length)>0&&a.map(a=>l.a.createElement(Zn.a,{key:a.id},l.a.createElement(Yn.a,{align:"center"},(e=>{switch(e){case"facebook":return l.a.createElement(ro.a,{style:{color:"#3b5998"}});case"instagram":return l.a.createElement(io.a,{style:{color:"#e1306c"}});case"whatsapp":return l.a.createElement(so.a,{style:{color:"#25d366"}});default:return"error"}})(a.channel)),l.a.createElement(Yn.a,{align:"center"},a.name),l.a.createElement(Yn.a,{align:"center"},a.number&&"whatsapp"===a.channel?l.a.createElement(l.a.Fragment,null,Er(a.number)):a.number),l.a.createElement(Yn.a,{align:"center"},(a=>l.a.createElement("div",{className:e.customTableCell},"DISCONNECTED"===a.status&&l.a.createElement(id,{title:aa.a.t("connections.toolTips.disconnected.title"),content:aa.a.t("connections.toolTips.disconnected.content")},l.a.createElement(Sc.a,{color:"secondary"})),"OPENING"===a.status&&l.a.createElement(It.a,{size:24,className:e.buttonProgress}),"qrcode"===a.status&&l.a.createElement(id,{title:aa.a.t("connections.toolTips.qrcode.title"),content:aa.a.t("connections.toolTips.qrcode.content")},l.a.createElement(Mc.a,null)),"CONNECTED"===a.status&&l.a.createElement(id,{title:aa.a.t("connections.toolTips.connected.title")},l.a.createElement(Ic.a,{style:{color:La.a[500]}})),("TIMEOUT"===a.status||"PAIRING"===a.status)&&l.a.createElement(id,{title:aa.a.t("connections.toolTips.timeout.title"),content:aa.a.t("connections.toolTips.timeout.content")},l.a.createElement(jc.a,{color:"secondary"}))))(a)),l.a.createElement(Yn.a,{align:"center"},R(a)),l.a.createElement(Yn.a,{align:"center"},Object(Sa.a)(Object(Fa.a)(a.updatedAt),"dd/MM/yy HH:mm")),l.a.createElement(Yn.a,{align:"center"},a.isDefault&&l.a.createElement("div",{className:e.customTableCell},l.a.createElement(Nc.a,{style:{color:La.a[500]}}))),l.a.createElement(Aa,{role:C.profile,perform:"connections-page:addConnection",yes:()=>l.a.createElement(Yn.a,{align:"center"},l.a.createElement(D.a,{size:"small",onClick:()=>(e=>{p(e),r(!0)})(a)},l.a.createElement(Rc.a,null)),l.a.createElement(D.a,{size:"small",onClick:e=>{N("delete",a.id)}},l.a.createElement(Fc.a,null)))})))))))))};var cd=()=>({save:async e=>{const{data:a}=await u.request({url:"/companies",method:"POST",data:e});return a},update:async e=>{const{data:a}=await u.request({url:"/companies/"+e.id,method:"PUT",data:e});return a},remove:async e=>{const{data:a}=await u.request({url:"/companies/"+e,method:"DELETE"});return a},list:async e=>{const{data:a}=await u.request({url:"/companies/list",method:"GET"});return a},find:async e=>{const{data:a}=await u.request({url:"/companies/"+e,method:"GET"});return a},findAll:async e=>{const{data:a}=await u.request({url:"/companies",method:"GET"});return a},updateSchedules:async e=>{const{data:a}=await u.request({url:`/companies/${e.id}/schedules`,method:"PUT",data:e});return a}});const dd=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120}})),md=xt.c().shape({name:xt.e().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:xt.e().min(5,"Too Short!").max(50,"Too Long!"),email:xt.e().email("Invalid email").required("Required")});var ud=e=>{let{open:a,onClose:t,userId:o,companyId:r}=e;const i=dd(),s={name:"",email:"",password:"",profile:"user"},{user:c}=Object(n.useContext)(ua),[d,m]=Object(n.useState)(s),[p,g]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{if(o&&a)try{var e;const{data:a}=await u.get("/users/"+o);m(e=>({...e,...a}));const t=null===(e=a.queues)||void 0===e?void 0:e.map(e=>e.id);g(t)}catch(t){oa(t)}})()},[o,a]);const E=()=>{t(),m(s)};return l.a.createElement("div",{className:i.root},l.a.createElement(Tt.a,{open:a,onClose:E,maxWidth:"xs",fullWidth:!0,scroll:"paper"},l.a.createElement(Mt.a,{id:"form-dialog-title"},o?""+aa.a.t("userModal.title.edit"):""+aa.a.t("userModal.title.add")),l.a.createElement(Ct.e,{initialValues:d,enableReinitialize:!0,validationSchema:md,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e,companyId:r,queueIds:p};try{o?await u.put("/users/"+o,a):await u.post("/users",a),S.b.success(aa.a.t("userModal.success"))}catch(t){oa(t)}E()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n}=e;return l.a.createElement(Ct.d,null,l.a.createElement(St.a,{dividers:!0},l.a.createElement("div",{className:i.multFieldLine},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("userModal.form.name"),autoFocus:!0,name:"name",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:"outlined",margin:"dense",fullWidth:!0}),l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("userModal.form.password"),type:"password",name:"password",error:a.password&&Boolean(t.password),helperText:a.password&&t.password,variant:"outlined",margin:"dense",fullWidth:!0})),l.a.createElement("div",{className:i.multFieldLine},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("userModal.form.email"),name:"email",error:a.email&&Boolean(t.email),helperText:a.email&&t.email,variant:"outlined",margin:"dense",fullWidth:!0}),l.a.createElement(Rt.a,{variant:"outlined",className:i.formControl,margin:"dense"},l.a.createElement(Aa,{role:c.profile,perform:"user-modal:editProfile",yes:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(Nt.a,{id:"profile-selection-input-label"},aa.a.t("userModal.form.profile")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("userModal.form.profile"),name:"profile",labelId:"profile-selection-label",id:"profile-selection",required:!0},l.a.createElement(Q.a,{value:"admin"},"Admin"),l.a.createElement(Q.a,{value:"user"},"User")))}))),l.a.createElement(Aa,{role:c.profile,perform:"user-modal:editQueues",yes:()=>l.a.createElement(Lt,{selectedQueueIds:p,onChange:e=>g(e)})})),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:E,color:"secondary",disabled:n,variant:"outlined"},aa.a.t("userModal.buttons.cancel")),l.a.createElement(kt.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:i.btnWrapper},o?""+aa.a.t("userModal.buttons.okEdit"):""+aa.a.t("userModal.buttons.okAdd"),n&&l.a.createElement(It.a,{size:24,className:i.buttonProgress}))))})))};const pd=Object(I.a)(e=>({root:{width:"100%",padding:"2px"},mainPaper:{width:"100%",flex:1},fullWidth:{width:"100%"},tableContainer:{width:"100%",padding:"2px"},textfield:{width:"100%"},textRight:{textAlign:"right"},row:{},control:{},buttonContainer:{textAlign:"right"}}));function gd(e){const{onSubmit:a,onDelete:t,onCancel:o,initialValue:r,loading:i}=e,s=pd(),[c,d]=Object(n.useState)([]),[m,u]=Object(n.useState)(!1),[p,g]=Object(n.useState)({}),[E,b]=Object(n.useState)({name:"",email:"",phone:"",planId:"",status:!0,dueDate:"",recurrence:"",password:"",...r}),{list:f}=va();Object(n.useEffect)(()=>{!async function(){const e=await f();d(e)}()},[]),Object(n.useEffect)(()=>{b(e=>(da()(r).isValid()&&(r.dueDate=da()(r.dueDate).format("YYYY-MM-DD")),{...e,...r}))},[r]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(ud,{userId:p.id,companyId:r.id,open:m,onClose:()=>{g({}),u(!1)}}),l.a.createElement(Ct.e,{enableReinitialize:!0,className:s.fullWidth,initialValues:E,onSubmit:(e,t)=>{let{resetForm:n}=t;return setTimeout(()=>{(async e=>{""!==e.dueDate&&!1!==da()(e.dueDate).isValid()||(e.dueDate=null),a(e),b({...r,dueDate:""})})(e),n()},500)}},(e,a)=>l.a.createElement(Ct.d,{className:s.fullWidth},l.a.createElement(ht.a,{spacing:1,justifyContent:"center",container:!0},l.a.createElement(ht.a,{xs:12,sm:6,md:3,item:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("compaies.table.name"),name:"name",variant:"outlined",className:s.fullWidth,margin:"dense"})),l.a.createElement(ht.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("compaies.table.email"),name:"email",variant:"outlined",className:s.fullWidth,margin:"dense",required:!0})),l.a.createElement(ht.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("compaies.table.password"),name:"password",variant:"outlined",className:s.fullWidth,margin:"dense"})),l.a.createElement(ht.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("compaies.table.phone"),name:"phone",variant:"outlined",className:s.fullWidth,margin:"dense"})),l.a.createElement(ht.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(Rt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Nt.a,{htmlFor:"plan-selection"},aa.a.t("compaies.table.plan")),l.a.createElement(Ct.b,{as:jt.a,id:"plan-selection",label:aa.a.t("compaies.table.plan"),labelId:"plan-selection-label",name:"planId",margin:"dense",required:!0},c.map((e,a)=>l.a.createElement(Q.a,{key:a,value:e.id},e.name))))),l.a.createElement(ht.a,{xs:12,sm:6,md:1,item:!0},l.a.createElement(Rt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Nt.a,{htmlFor:"status-selection"},aa.a.t("compaies.table.active")),l.a.createElement(Ct.b,{as:jt.a,id:"status-selection",label:aa.a.t("compaies.table.active"),labelId:"status-selection-label",name:"status",margin:"dense"},l.a.createElement(Q.a,{value:!0},aa.a.t("compaies.table.yes")),l.a.createElement(Q.a,{value:!1},aa.a.t("compaies.table.no"))))),l.a.createElement(ht.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("compaies.table.document"),name:"document",variant:"outlined",className:s.fullWidth,margin:"dense"})),l.a.createElement(ht.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(Rt.a,{variant:"outlined",fullWidth:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("compaies.table.dueDate"),type:"date",name:"dueDate",InputLabelProps:{shrink:!0},variant:"outlined",fullWidth:!0,margin:"dense"}))),l.a.createElement(ht.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(Rt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Nt.a,{htmlFor:"recorrencia-selection"},aa.a.t("compaies.table.recurrence")),l.a.createElement(Ct.b,{as:jt.a,label:"Recorr\xeancia",labelId:"recorrencia-selection-label",id:"recurrence",name:"recurrence",margin:"dense"},l.a.createElement(Q.a,{value:"MENSAL"},aa.a.t("compaies.table.monthly")),l.a.createElement(Q.a,{value:"BIMESTRAL"},aa.a.t("compaies.table.bimonthly")),l.a.createElement(Q.a,{value:"TRIMESTRAL"},aa.a.t("compaies.table.quarterly")),l.a.createElement(Q.a,{value:"SEMESTRAL"},aa.a.t("compaies.table.semester")),l.a.createElement(Q.a,{value:"ANUAL"},aa.a.t("compaies.table.yearly"))))),l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(ht.a,{justifyContent:"flex-end",spacing:1,container:!0},l.a.createElement(ht.a,{xs:4,md:1,item:!0},l.a.createElement($l,{className:s.fullWidth,style:{marginTop:7},loading:i,onClick:()=>o(),variant:"contained"},aa.a.t("compaies.table.clear"))),void 0!==E.id?l.a.createElement(l.a.Fragment,null,l.a.createElement(ht.a,{xs:6,md:1,item:!0},l.a.createElement($l,{style:{marginTop:7},className:s.fullWidth,loading:i,onClick:()=>t(E),variant:"contained",color:"secondary"},aa.a.t("compaies.table.delete"))),l.a.createElement(ht.a,{xs:6,md:2,item:!0},l.a.createElement($l,{style:{marginTop:7},className:s.fullWidth,loading:i,onClick:()=>(()=>{const e={...E};if(""!==e.dueDate&&null!==e.dueDate)switch(e.recurrence){case"MENSAL":e.dueDate=da()(e.dueDate).add(1,"month").format("YYYY-MM-DD");break;case"BIMESTRAL":e.dueDate=da()(e.dueDate).add(2,"month").format("YYYY-MM-DD");break;case"TRIMESTRAL":e.dueDate=da()(e.dueDate).add(3,"month").format("YYYY-MM-DD");break;case"SEMESTRAL":e.dueDate=da()(e.dueDate).add(6,"month").format("YYYY-MM-DD");break;case"ANUAL":e.dueDate=da()(e.dueDate).add(12,"month").format("YYYY-MM-DD")}b(e)})(),variant:"contained",color:"primary"},aa.a.t("compaies.table.dueDate")))):null,l.a.createElement(ht.a,{xs:6,md:1,item:!0},l.a.createElement($l,{className:s.fullWidth,style:{marginTop:7},loading:i,type:"submit",variant:"contained",color:"primary"},aa.a.t("compaies.table.save")))))))))}function Ed(e){const{records:a,onSelect:t}=e,n=pd(),{dateToClient:o,datetimeToClient:r}=un(),i=e=>{if(da()(e.dueDate).isValid()){const a=da()(),t=da()(e.dueDate).diff(a,"days");if(t>=1&&t<=5)return{backgroundColor:"#fffead"};if(t<=0)return{backgroundColor:"#fa8c8c"}}return{}};return l.a.createElement(Bt.a,{className:n.tableContainer},l.a.createElement(Gn.a,{className:n.fullWidth,padding:"none","aria-label":"a dense table"},l.a.createElement(Jn.a,null,l.a.createElement(Zn.a,null,l.a.createElement(Yn.a,{align:"center",style:{width:"1%"}},"#"),l.a.createElement(Yn.a,{align:"left"},aa.a.t("compaies.table.name")),l.a.createElement(Yn.a,{align:"left"},aa.a.t("compaies.table.email")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("compaies.table.phone")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("compaies.table.plan")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("compaies.table.value")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("compaies.table.active")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("compaies.table.createdAt")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("compaies.table.dueDate")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("compaies.table.lastLogin")))),l.a.createElement(Kn.a,null,a.map((e,a)=>l.a.createElement(Zn.a,{style:i(e),key:a},l.a.createElement(Yn.a,{align:"center",style:{width:"1%"}},l.a.createElement(D.a,{onClick:()=>t(e),"aria-label":"delete"},l.a.createElement(Rc.a,null))),l.a.createElement(Yn.a,{align:"left"},e.name||"-"),l.a.createElement(Yn.a,{align:"left",size:"small"},e.email||"-"),l.a.createElement(Yn.a,{align:"center"},e.phone||"-"),l.a.createElement(Yn.a,{align:"center"},(e=>null!==e.planId?e.plan.name:"-")(e)),l.a.createElement(Yn.a,{align:"center"},aa.a.t("compaies.table.money")," ",(e=>null!==e.planId?e.plan.amount?e.plan.amount.toLocaleString("pt-br",{minimumFractionDigits:2}):"00.00":"-")(e)),l.a.createElement(Yn.a,{align:"center"},(e=>!1===e.status?"N\xe3o":"Sim")(e)),l.a.createElement(Yn.a,{align:"center"},o(e.createdAt)),l.a.createElement(Yn.a,{align:"center"},o(e.dueDate),l.a.createElement("br",null),l.a.createElement("span",null,e.recurrence)),l.a.createElement(Yn.a,{align:"center"},r(e.lastLogin)))))))}function bd(){const e=pd(),{list:a,save:t,update:o,remove:r}=cd(),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)([]),[p,g]=Object(n.useState)({name:"",email:"",phone:"",planId:"",status:!0,dueDate:"",recurrence:"",password:"",document:"",paymentMethod:""});Object(n.useEffect)(()=>{E()},[]);const E=async()=>{d(!0);try{const e=await a();u(e)}catch(e){S.b.error("N\xe3o foi poss\xedvel carregar a lista de registros")}d(!1)},b=()=>{g(e=>({...e,name:"",email:"",phone:"",planId:"",status:!0,dueDate:"",recurrence:"",password:"",document:"",paymentMethod:""}))};return l.a.createElement(Bt.a,{className:e.mainPaper,elevation:0},l.a.createElement(ht.a,{spacing:2,container:!0},l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(gd,{initialValue:p,onDelete:()=>{s(!0)},onSubmit:async e=>{d(!0);try{void 0!==e.id?await o(e):await t(e),await E(),b(),S.b.success("Opera\xe7\xe3o realizada com sucesso!")}catch(a){S.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o. Verifique se j\xe1 existe uma empresa com o mesmo nome ou se os campos foram preenchidos corretamente")}d(!1)},onCancel:b,loading:c})),l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(Ed,{records:m,onSelect:e=>{g(a=>({...a,id:e.id,name:e.name||"",phone:e.phone||"",email:e.email||"",planId:e.planId||"",status:!1!==e.status,dueDate:e.dueDate||"",recurrence:e.recurrence||"",password:"",document:e.document||"",paymentMethod:e.paymentMethod||""}))}}))),l.a.createElement(Ir,{title:"Exclus\xe3o de Registro",open:i,onClose:()=>s(!1),onConfirm:()=>(async()=>{d(!0);try{await r(p.id),await E(),b(),S.b.success("Opera\xe7\xe3o realizada com sucesso!")}catch(e){S.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o")}d(!1)})()},"Deseja realmente excluir esse registro?"))}const fd=Object(I.a)(e=>({root:{width:"100%"},mainPaper:{width:"100%",flex:1,padding:e.spacing(2)},fullWidth:{width:"100%"},tableContainer:{width:"100%",overflowX:"scroll",...e.scrollbarStyles},textfield:{width:"100%"},textRight:{textAlign:"right"},row:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},control:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},buttonContainer:{textAlign:"right",padding:e.spacing(1)}}));function hd(e){const{onSubmit:a,onDelete:t,onCancel:o,initialValue:r,loading:i}=e,s=fd(),[c,d]=Object(n.useState)({name:"",users:0,connections:0,queues:0,amount:0,useWhatsapp:!0,useFacebook:!0,useInstagram:!0,useCampaigns:!0,useSchedules:!0,useInternalChat:!0,useExternalApi:!0,useKanban:!0,useOpenAi:!0,useIntegrations:!0,isPublic:!0});Object(n.useEffect)(()=>{d(r)},[r]);return l.a.createElement(Ct.e,{enableReinitialize:!0,className:s.fullWidth,initialValues:c,onSubmit:(e,t)=>{let{resetForm:n}=t;return setTimeout(()=>{(async e=>{a(e)})(e),n()},500)}},e=>l.a.createElement(Ct.d,{className:s.fullWidth},l.a.createElement(ht.a,{spacing:1,justifyContent:"flex-start",container:!0},l.a.createElement(ht.a,{xs:12,sm:6,md:2,xl:2,item:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("plans.form.name"),name:"name",variant:"outlined",className:s.fullWidth,margin:"dense"})),l.a.createElement(ht.a,{xs:12,sm:6,md:2,xl:2,item:!0},l.a.createElement(Rt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Nt.a,{htmlFor:"status-selection"},aa.a.t("plans.form.public")),l.a.createElement(Ct.b,{as:jt.a,id:"status-selection",label:aa.a.t("plans.form.public"),labelId:"status-selection-label",name:"isPublic",margin:"dense"},l.a.createElement(Q.a,{value:!0},"Sim"),l.a.createElement(Q.a,{value:!1},"N\xe3o")))),l.a.createElement(ht.a,{xs:12,sm:6,md:1,item:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("plans.form.users"),name:"users",variant:"outlined",className:s.fullWidth,margin:"dense",type:"number"})),l.a.createElement(ht.a,{xs:12,sm:6,md:1,item:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("plans.form.connections"),name:"connections",variant:"outlined",className:s.fullWidth,margin:"dense",type:"number"})),l.a.createElement(ht.a,{xs:12,sm:6,md:1,item:!0},l.a.createElement(Ct.b,{as:wt.a,label:"Filas",name:"queues",variant:"outlined",className:s.fullWidth,margin:"dense",type:"number"})),l.a.createElement(ht.a,{xs:12,sm:6,md:1,item:!0},l.a.createElement(Ct.b,{as:wt.a,label:"Valor",name:"amount",variant:"outlined",className:s.fullWidth,margin:"dense",type:"text"})),l.a.createElement(ht.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(Rt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Nt.a,{htmlFor:"useWhatsapp-selection"},"Whatsapp"),l.a.createElement(Ct.b,{as:jt.a,id:"useWhatsapp-selection",label:"Whatsapp",labelId:"useWhatsapp-selection-label",name:"useWhatsapp",margin:"dense"},l.a.createElement(Q.a,{value:!0},aa.a.t("plans.form.enabled")),l.a.createElement(Q.a,{value:!1},aa.a.t("plans.form.disabled"))))),l.a.createElement(ht.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(Rt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Nt.a,{htmlFor:"useFacebook-selection"},"Facebook"),l.a.createElement(Ct.b,{as:jt.a,id:"useFacebook-selection",label:"Facebook",labelId:"useFacebook-selection-label",name:"useFacebook",margin:"dense"},l.a.createElement(Q.a,{value:!0},aa.a.t("plans.form.enabled")),l.a.createElement(Q.a,{value:!1},aa.a.t("plans.form.disabled"))))),l.a.createElement(ht.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(Rt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Nt.a,{htmlFor:"useInstagram-selection"},"Instagram"),l.a.createElement(Ct.b,{as:jt.a,id:"useInstagram-selection",label:"Instagram",labelId:"useInstagram-selection-label",name:"useInstagram",margin:"dense"},l.a.createElement(Q.a,{value:!0},aa.a.t("plans.form.enabled")),l.a.createElement(Q.a,{value:!1},aa.a.t("plans.form.disabled"))))),l.a.createElement(ht.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(Rt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Nt.a,{htmlFor:"useCampaigns-selection"},aa.a.t("plans.form.campaigns")),l.a.createElement(Ct.b,{as:jt.a,id:"useCampaigns-selection",label:aa.a.t("plans.form.campaigns"),labelId:"useCampaigns-selection-label",name:"useCampaigns",margin:"dense"},l.a.createElement(Q.a,{value:!0},aa.a.t("plans.form.enabled")),l.a.createElement(Q.a,{value:!1},aa.a.t("plans.form.disabled"))))),l.a.createElement(ht.a,{xs:12,sm:8,md:2,item:!0},l.a.createElement(Rt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Nt.a,{htmlFor:"useSchedules-selection"},aa.a.t("plans.form.schedules")),l.a.createElement(Ct.b,{as:jt.a,id:"useSchedules-selection",label:aa.a.t("plans.form.schedules"),labelId:"useSchedules-selection-label",name:"useSchedules",margin:"dense"},l.a.createElement(Q.a,{value:!0},aa.a.t("plans.form.enabled")),l.a.createElement(Q.a,{value:!1},aa.a.t("plans.form.disabled"))))),l.a.createElement(ht.a,{xs:12,sm:8,md:2,item:!0},l.a.createElement(Rt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Nt.a,{htmlFor:"useInternalChat-selection"},"Chat Interno"),l.a.createElement(Ct.b,{as:jt.a,id:"useInternalChat-selection",label:"Chat Interno",labelId:"useInternalChat-selection-label",name:"useInternalChat",margin:"dense"},l.a.createElement(Q.a,{value:!0},aa.a.t("plans.form.enabled")),l.a.createElement(Q.a,{value:!1},aa.a.t("plans.form.disabled"))))),l.a.createElement(ht.a,{xs:12,sm:8,md:4,item:!0},l.a.createElement(Rt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Nt.a,{htmlFor:"useExternalApi-selection"},"API Externa"),l.a.createElement(Ct.b,{as:jt.a,id:"useExternalApi-selection",label:"API Externa",labelId:"useExternalApi-selection-label",name:"useExternalApi",margin:"dense"},l.a.createElement(Q.a,{value:!0},aa.a.t("plans.form.enabled")),l.a.createElement(Q.a,{value:!1},aa.a.t("plans.form.disabled"))))),l.a.createElement(ht.a,{xs:12,sm:8,md:2,item:!0},l.a.createElement(Rt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Nt.a,{htmlFor:"useKanban-selection"},"Kanban"),l.a.createElement(Ct.b,{as:jt.a,id:"useKanban-selection",label:"Kanban",labelId:"useKanban-selection-label",name:"useKanban",margin:"dense"},l.a.createElement(Q.a,{value:!0},aa.a.t("plans.form.enabled")),l.a.createElement(Q.a,{value:!1},aa.a.t("plans.form.disabled"))))),l.a.createElement(ht.a,{xs:12,sm:8,md:2,item:!0},l.a.createElement(Rt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Nt.a,{htmlFor:"useOpenAi-selection"},"Talk.Ai"),l.a.createElement(Ct.b,{as:jt.a,id:"useOpenAi-selection",label:"Talk.Ai",labelId:"useOpenAi-selection-label",name:"useOpenAi",margin:"dense"},l.a.createElement(Q.a,{value:!0},aa.a.t("plans.form.enabled")),l.a.createElement(Q.a,{value:!1},aa.a.t("plans.form.disabled"))))),l.a.createElement(ht.a,{xs:12,sm:8,md:2,item:!0},l.a.createElement(Rt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Nt.a,{htmlFor:"useIntegrations-selection"},"Integra\xe7\xf5es"),l.a.createElement(Ct.b,{as:jt.a,id:"useIntegrations-selection",label:"Integra\xe7\xf5es",labelId:"useIntegrations-selection-label",name:"useIntegrations",margin:"dense"},l.a.createElement(Q.a,{value:!0},aa.a.t("plans.form.enabled")),l.a.createElement(Q.a,{value:!1},aa.a.t("plans.form.disabled")))))),l.a.createElement(ht.a,{spacing:2,justifyContent:"flex-end",container:!0},l.a.createElement(ht.a,{sm:3,md:2,item:!0},l.a.createElement($l,{className:s.fullWidth,loading:i,onClick:()=>o(),variant:"contained"},aa.a.t("plans.form.clear"))),void 0!==c.id?l.a.createElement(ht.a,{sm:3,md:2,item:!0},l.a.createElement($l,{className:s.fullWidth,loading:i,onClick:()=>t(c),variant:"contained",color:"secondary"},aa.a.t("plans.form.delete"))):null,l.a.createElement(ht.a,{sm:3,md:2,item:!0},l.a.createElement($l,{className:s.fullWidth,loading:i,type:"submit",variant:"contained",color:"primary"},aa.a.t("plans.form.save"))))))}function Ad(e){const{records:a,onSelect:t}=e,n=fd();return l.a.createElement(Bt.a,{className:n.tableContainer},l.a.createElement(Gn.a,{className:n.fullWidth,padding:"none","aria-label":"a dense table"},l.a.createElement(Jn.a,null,l.a.createElement(Zn.a,null,l.a.createElement(Yn.a,{align:"center",style:{width:"1%"}},"#"),l.a.createElement(Yn.a,{align:"left"},aa.a.t("plans.form.name")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("plans.form.users")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("plans.form.public")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("plans.form.connections")),l.a.createElement(Yn.a,{align:"center"},"Filas"),l.a.createElement(Yn.a,{align:"center"},"Valor"),l.a.createElement(Yn.a,{align:"center"},"Whatsapp"),l.a.createElement(Yn.a,{align:"center"},"Facebook"),l.a.createElement(Yn.a,{align:"center"},"Instagram"),l.a.createElement(Yn.a,{align:"center"},aa.a.t("plans.form.campaigns")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("plans.form.schedules")),l.a.createElement(Yn.a,{align:"center"},"Chat Interno"),l.a.createElement(Yn.a,{align:"center"},"API Externa"),l.a.createElement(Yn.a,{align:"center"},"Kanban"),l.a.createElement(Yn.a,{align:"center"},"Talk.Ai"),l.a.createElement(Yn.a,{align:"center"},"Integra\xe7\xf5es"))),l.a.createElement(Kn.a,null,a.map(e=>l.a.createElement(Zn.a,{key:e.id},l.a.createElement(Yn.a,{align:"center",style:{width:"1%"}},l.a.createElement(D.a,{onClick:()=>t(e),"aria-label":"delete"},l.a.createElement(Rc.a,null))),l.a.createElement(Yn.a,{align:"left"},e.name||"-"),l.a.createElement(Yn.a,{align:"center"},e.users||"-"),l.a.createElement(Yn.a,{align:"center"},e.isPublic?"Sim":"N\xe3o"),l.a.createElement(Yn.a,{align:"center"},e.connections||"-"),l.a.createElement(Yn.a,{align:"center"},e.queues||"-"),l.a.createElement(Yn.a,{align:"center"},aa.a.t("plans.form.money")," ",e.amount?e.amount.toLocaleString("pt-br",{minimumFractionDigits:2}):"00.00"),l.a.createElement(Yn.a,{align:"center"},(e=>!1===e.useWhatsapp?""+aa.a.t("plans.form.no"):""+aa.a.t("plans.form.yes"))(e)),l.a.createElement(Yn.a,{align:"center"},(e=>!1===e.useFacebook?""+aa.a.t("plans.form.no"):""+aa.a.t("plans.form.yes"))(e)),l.a.createElement(Yn.a,{align:"center"},(e=>!1===e.useInstagram?""+aa.a.t("plans.form.no"):""+aa.a.t("plans.form.yes"))(e)),l.a.createElement(Yn.a,{align:"center"},(e=>!1===e.useCampaigns?""+aa.a.t("plans.form.no"):""+aa.a.t("plans.form.yes"))(e)),l.a.createElement(Yn.a,{align:"center"},(e=>!1===e.useSchedules?""+aa.a.t("plans.form.no"):""+aa.a.t("plans.form.yes"))(e)),l.a.createElement(Yn.a,{align:"center"},(e=>!1===e.useInternalChat?""+aa.a.t("plans.form.no"):""+aa.a.t("plans.form.yes"))(e)),l.a.createElement(Yn.a,{align:"center"},(e=>!1===e.useExternalApi?""+aa.a.t("plans.form.no"):""+aa.a.t("plans.form.yes"))(e)),l.a.createElement(Yn.a,{align:"center"},(e=>!1===e.useKanban?""+aa.a.t("plans.form.no"):""+aa.a.t("plans.form.yes"))(e)),l.a.createElement(Yn.a,{align:"center"},(e=>!1===e.useOpenAi?""+aa.a.t("plans.form.no"):""+aa.a.t("plans.form.yes"))(e)),l.a.createElement(Yn.a,{align:"center"},(e=>!1===e.useIntegrations?""+aa.a.t("plans.form.no"):""+aa.a.t("plans.form.yes"))(e)))))))}function vd(){const e=fd(),{list:a,save:t,update:o,remove:r}=va(),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)([]),[p,g]=Object(n.useState)({name:"",users:0,connections:0,queues:0,amount:0,useWhatsapp:!0,useFacebook:!0,useInstagram:!0,useCampaigns:!0,useSchedules:!0,useInternalChat:!0,useExternalApi:!0,useKanban:!0,useOpenAi:!0,useIntegrations:!0,isPublic:!0});Object(n.useEffect)(()=>{!async function(){await E()}()},[p]);const E=async()=>{d(!0);try{const e=await a();u(e)}catch(e){S.b.error("N\xe3o foi poss\xedvel carregar a lista de registros")}d(!1)},b=()=>{g({id:void 0,name:"",users:0,connections:0,queues:0,amount:0,useWhatsapp:!0,useFacebook:!0,useInstagram:!0,useCampaigns:!0,useSchedules:!0,useInternalChat:!0,useExternalApi:!0,useKanban:!0,useOpenAi:!0,useIntegrations:!0,isPublic:!0})};return l.a.createElement(Bt.a,{className:e.mainPaper,elevation:0},l.a.createElement(ht.a,{spacing:2,container:!0},l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(hd,{initialValue:p,onDelete:()=>{s(!0)},onSubmit:async e=>{d(!0),console.log(e);try{void 0!==e.id?await o(e):await t(e),await E(),b(),S.b.success("Opera\xe7\xe3o realizada com sucesso!")}catch(a){S.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o. Verifique se j\xe1 existe uma plano com o mesmo nome ou se os campos foram preenchidos corretamente")}d(!1)},onCancel:b,loading:c})),l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(Ad,{records:m,onSelect:e=>{var a;let t=!1!==e.useWhatsapp,n=!1!==e.useFacebook,l=!1!==e.useInstagram,o=!1!==e.useCampaigns,r=!1!==e.useSchedules,i=!1!==e.useInternalChat,s=!1!==e.useExternalApi,c=!1!==e.useKanban,d=!1!==e.useOpenAi,m=!1!==e.useIntegrations;g({id:e.id,name:e.name||"",users:e.users||0,connections:e.connections||0,queues:e.queues||0,amount:(null===(a=e.amount)||void 0===a?void 0:a.toLocaleString("pt-br",{minimumFractionDigits:2}))||0,useWhatsapp:t,useFacebook:n,useInstagram:l,useCampaigns:o,useSchedules:r,useInternalChat:i,useExternalApi:s,useKanban:c,useOpenAi:d,useIntegrations:m,isPublic:e.isPublic})}}))),l.a.createElement(Ir,{title:"Exclus\xe3o de Registro",open:i,onClose:()=>s(!1),onConfirm:()=>(async()=>{d(!0);try{await r(p.id),await E(),b(),S.b.success("Opera\xe7\xe3o realizada com sucesso!")}catch(e){S.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o")}d(!1)})()},"Deseja realmente excluir esse registro?"))}const yd=Object(I.a)(e=>({root:{width:"100%"},mainPaper:{width:"100%",flex:1,padding:e.spacing(2)},fullWidth:{width:"100%"},tableContainer:{width:"100%",overflowX:"scroll",...e.scrollbarStyles},textfield:{width:"100%"},textRight:{textAlign:"right"},row:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},control:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},buttonContainer:{textAlign:"right",padding:e.spacing(1)}}));function xd(e){const{onSubmit:a,onDelete:t,onCancel:o,initialValue:r,loading:i}=e,s=yd(),[c,d]=Object(n.useState)(r);Object(n.useEffect)(()=>{d(r)},[r]);return l.a.createElement(Ct.e,{enableReinitialize:!0,className:s.fullWidth,initialValues:c,onSubmit:(e,t)=>{let{resetForm:n}=t;return setTimeout(()=>{(async e=>{a(e)})(e),n()},500)}},e=>l.a.createElement(Ct.d,{className:s.fullWidth},l.a.createElement(ht.a,{spacing:2,justifyContent:"flex-end",container:!0},l.a.createElement(ht.a,{xs:12,sm:6,md:3,item:!0},l.a.createElement(Ct.b,{as:wt.a,label:"T\xedtulo",name:"title",variant:"outlined",className:s.fullWidth,margin:"dense"})),l.a.createElement(ht.a,{xs:12,sm:6,md:3,item:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("helps.settings.codeVideo"),name:"video",variant:"outlined",className:s.fullWidth,margin:"dense"})),l.a.createElement(ht.a,{xs:12,sm:12,md:6,item:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("helps.settings.description"),name:"description",variant:"outlined",className:s.fullWidth,margin:"dense"})),l.a.createElement(ht.a,{sm:3,md:1,item:!0},l.a.createElement($l,{className:s.fullWidth,loading:i,onClick:()=>o(),variant:"contained"},aa.a.t("helps.settings.clear"))),void 0!==c.id?l.a.createElement(ht.a,{sm:3,md:1,item:!0},l.a.createElement($l,{className:s.fullWidth,loading:i,onClick:()=>t(c),variant:"contained",color:"secondary"},aa.a.t("helps.settings.delete"))):null,l.a.createElement(ht.a,{sm:3,md:1,item:!0},l.a.createElement($l,{className:s.fullWidth,loading:i,type:"submit",variant:"contained",color:"primary"},aa.a.t("helps.settings.save"))))))}function Cd(e){const{records:a,onSelect:t}=e,n=yd();return l.a.createElement(Bt.a,{className:n.tableContainer},l.a.createElement(Gn.a,{className:n.fullWidth,size:"small","aria-label":"a dense table"},l.a.createElement(Jn.a,null,l.a.createElement(Zn.a,null,l.a.createElement(Yn.a,{align:"center",style:{width:"1%"}},"#"),l.a.createElement(Yn.a,{align:"left"},"T\xedtulo"),l.a.createElement(Yn.a,{align:"left"},aa.a.t("helps.settings.description")),l.a.createElement(Yn.a,{align:"left"},"Video"))),l.a.createElement(Kn.a,null,a.map(e=>l.a.createElement(Zn.a,{key:e.id},l.a.createElement(Yn.a,{align:"center",style:{width:"1%"}},l.a.createElement(D.a,{onClick:()=>t(e),"aria-label":"delete"},l.a.createElement(Rc.a,null))),l.a.createElement(Yn.a,{align:"left"},e.title||"-"),l.a.createElement(Yn.a,{align:"left"},e.description||"-"),l.a.createElement(Yn.a,{align:"left"},e.video||"-"))))))}function kd(){const e=yd(),{list:a,save:t,update:o,remove:r}=Z(),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)([]),[p,g]=Object(n.useState)({title:"",description:"",video:""});Object(n.useEffect)(()=>{!async function(){await E()}()},[]);const E=async()=>{d(!0);try{const e=await a();u(e)}catch(e){S.b.error("N\xe3o foi poss\xedvel carregar a lista de registros")}d(!1)},b=()=>{g({title:"",description:"",video:""})};return l.a.createElement(Bt.a,{className:e.mainPaper,elevation:0},l.a.createElement(ht.a,{spacing:2,container:!0},l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(xd,{initialValue:p,onDelete:()=>{s(!0)},onSubmit:async e=>{d(!0);try{void 0!==e.id?await o(e):await t(e),await E(),b(),S.b.success("Opera\xe7\xe3o realizada com sucesso!")}catch(a){S.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o. Verifique se j\xe1 existe uma helpo com o mesmo nome ou se os campos foram preenchidos corretamente")}d(!1)},onCancel:b,loading:c})),l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(Cd,{records:m,onSelect:e=>{g({id:e.id,title:e.title||"",description:e.description||"",video:e.video||""})}}))),l.a.createElement(Ir,{title:"Exclus\xe3o de Registro",open:i,onClose:()=>s(!1),onConfirm:()=>(async()=>{d(!0);try{await r(p.id),await E(),b(),S.b.success("Opera\xe7\xe3o realizada com sucesso!")}catch(e){S.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o")}d(!1)})()},"Deseja realmente excluir esse registro?"))}var wd=t(993);const Td=Object(I.a)(e=>({container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},fixedHeightPaper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:240},cardAvatar:{fontSize:"55px",color:$n.a[500],backgroundColor:"#ffffff",width:e.spacing(7),height:e.spacing(7)},cardTitle:{fontSize:"18px",color:Ur.a[700]},cardSubtitle:{color:$n.a[600],fontSize:"14px"},alignRight:{textAlign:"right"},fullWidth:{width:"100%"},selectContainer:{width:"100%",textAlign:"left"},tab:{backgroundColor:"light"===e.mode?"#f2f2f2":"#7f7f7f",borderRadius:4,width:"100%","& .MuiTabs-flexContainer":{justifyContent:"center"}}}));function Od(e){const{oldSettings:a,settings:t,scheduleTypeChanged:o,user:r}=e,i=Td(),[s,c]=Object(n.useState)("disabled"),[d,m]=Object(n.useState)("disabled"),[u,p]=Object(n.useState)("text"),[g,E]=Object(n.useState)(!1),[b,f]=Object(n.useState)(!1),[h,A]=Object(n.useState)("disabled"),[v,y]=Object(n.useState)(!1),[x,C]=Object(n.useState)("enabled"),[k,w]=Object(n.useState)(!1),[T,O]=Object(n.useState)("enabled"),[M,I]=Object(n.useState)(!1),[j,N]=Object(n.useState)("enabled"),[R,F]=Object(n.useState)(!1),[P,D]=Object(n.useState)("enabled"),[L,B]=Object(n.useState)(!1),[W,q]=Object(n.useState)("enabled"),[z,H]=Object(n.useState)(!1),[U,V]=Object(n.useState)("enabled"),[G,K]=Object(n.useState)(!1),[Y,X]=Object(n.useState)("enabled"),[J,Z]=Object(n.useState)(!1),[_,$]=Object(n.useState)("enabled"),[ee,ae]=Object(n.useState)(!1),[te,ne]=Object(n.useState)("enabled"),[le,oe]=Object(n.useState)(!1),[re,ie]=Object(n.useState)(""),[se,ce]=Object(n.useState)(!1),[de,me]=Object(n.useState)(""),[ue,pe]=Object(n.useState)(!1),[ge,Ee]=Object(n.useState)(""),[be,fe]=Object(n.useState)(!1),[he,Ae]=Object(n.useState)(""),[ve,ye]=Object(n.useState)(!1),[xe,Ce]=Object(n.useState)(""),[ke,we]=Object(n.useState)(!1),[Te,Oe]=Object(n.useState)(""),[Se,Me]=Object(n.useState)(!1),[Ie,je]=Object(n.useState)(""),[Ne,Re]=Object(n.useState)(!1),[Fe,Pe]=Object(n.useState)("disabled"),[De,Le]=Object(n.useState)(!1),[Be,We]=Object(n.useState)(""),[qe,ze]=Object(n.useState)(!1),[He,Ue]=Object(n.useState)(""),[Qe,Ve]=Object(n.useState)(!1),[Ge,Ke]=Object(n.useState)("disabled"),[Ye,Xe]=Object(n.useState)(!1),[Je,Ze]=Object(n.useState)("64"),[_e,$e]=Object(n.useState)(!1),[ea,ta]=Object(n.useState)("disabled"),[na,la]=Object(n.useState)(!1),[oa,ra]=Object(n.useState)("disabled"),[ia,sa]=Object(n.useState)(!1),[ca,da]=Object(n.useState)("enabled"),[ma,ua]=Object(n.useState)(!1),[pa,ga]=Object(n.useState)(!1),[Ea,ba]=Object(n.useState)(!1),[fa,ha]=Object(n.useState)(!1),[Aa,va]=Object(n.useState)(!1),[ya,xa]=Object(n.useState)(""),[Ca,ka]=Object(n.useState)(!1),[wa,Ta]=Object(n.useState)(""),[Oa,Sa]=Object(n.useState)(!1),[Ma,Ia]=Object(n.useState)(""),[ja,Na]=Object(n.useState)(!1),[Ra,Fa]=Object(n.useState)(""),[Pa,Da]=Object(n.useState)(!1),[La,Ba]=Object(n.useState)(!1),[Wa,qa]=Object(n.useState)(!1),{update:za,getAll:Ha}=xn(),{update:Ua}=xn(),{update:Qa}=xn(),{update:Va}=xn(),{update:Ga}=xn(),{update:Ka}=xn(),{update:Ya}=xn(),{update:Xa}=xn(),{update:Ja}=xn(),{update:Za}=ct(),_a=()=>r.super;return Object(n.useEffect)(()=>{if(Array.isArray(a)&&a.length){const e=a.find(e=>"userCreation"===e.key);e&&A(e.value);const t=a.find(e=>"downloadLimit"===e.key);t&&Ze(t.value);const n=a.find(e=>"eficlientid"===e.key);n&&ie(n.value);const l=a.find(e=>"eficlientsecret"===e.key);l&&me(l.value);const o=a.find(e=>"efichavepix"===e.key);o&&Ee(o.value);const r=a.find(e=>"mpaccesstoken"===e.key);r&&Ae(r.value);const i=a.find(e=>"asaastoken"===e.key);i&&Oe(i.value);const s=a.find(e=>"openaikeyaudio"===e.key);s&&je(s.value)}},[a]),Object(n.useEffect)(()=>{for(const[e,a]of Object.entries(t))"userRating"===e&&c(a),"scheduleType"===e&&m(a),"chatBotType"===e&&p(a),"acceptCallWhatsapp"===e&&D(a),"userRandom"===e&&O(a),"sendGreetingMessageOneQueues"===e&&V(a),"sendSignMessage"===e&&q(a),"sendFarewellWaitingTicket"===e&&$(a),"sendGreetingAccepted"===e&&C(a),"sendQueuePosition"===e&&X(a),"acceptAudioMessageContact"===e&&ne(a),"enableLGPD"===e&&Pe(a),"requiredTag"===e&&da(a),"lgpdDeleteMessage"===e&&Ke(a),"lgpdHideNumber"===e&&ra(a),"lgpdConsent"===e&&ta(a),"lgpdMessage"===e&&We(a),"sendMsgTransfTicket"===e&&N(a),"lgpdLink"===e&&Ue(a),"DirectTicketsToWallets"===e&&ha(a),"closeTicketOnTransfer"===e&&ga(a),"transferMessage"===e&&xa(a),"greetingAcceptedMessage"===e&&Ta(a),"AcceptCallWhatsappMessage"===e&&Ia(a),"sendQueuePositionMessage"===e&&Fa(a),"showNotificationPending"===e&&Ba(a)},[t]),l.a.createElement(l.a.Fragment,null,l.a.createElement(ht.a,{spacing:3,container:!0},_a()?l.a.createElement(ht.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(Nt.a,{id:"UserCreation-label"},aa.a.t("settings.settings.options.creationCompanyUser")),l.a.createElement(jt.a,{labelId:"UserCreation-label",value:h,onChange:async e=>{!async function(e){A(e),y(!0),await za({key:"userCreation",value:e}),y(!1)}(e.target.value)}},l.a.createElement(Q.a,{value:"disabled"},aa.a.t("settings.settings.options.disabled")),l.a.createElement(Q.a,{value:"enabled"},aa.a.t("settings.settings.options.enabled"))),l.a.createElement(wd.a,null,v&&aa.a.t("settings.settings.options.updating")))):null,_a()?l.a.createElement(ht.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(Nt.a,{id:"downloadLimit-label"},"Limite de Download de Arquivos (MB)"),l.a.createElement(jt.a,{labelId:"downloadLimit-label",value:Je,size:"small",onChange:async e=>{!async function(e){Ze(e),$e(!0),await Ua({key:"downloadLimit",value:e}),$e(!1)}(e.target.value)}},l.a.createElement(Q.a,{value:"32"},"32"),l.a.createElement(Q.a,{value:"64"},"64"),l.a.createElement(Q.a,{value:"128"},"128"),l.a.createElement(Q.a,{value:"256"},"256"),l.a.createElement(Q.a,{value:"512"},"512"),l.a.createElement(Q.a,{value:"1024"},"1024"),l.a.createElement(Q.a,{value:"2048"},"2048")),l.a.createElement(wd.a,null,_e&&"Atualizando..."))):null,l.a.createElement(ht.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(Nt.a,{id:"ratings-label"},aa.a.t("settings.settings.options.evaluations")),l.a.createElement(jt.a,{labelId:"ratings-label",value:s,onChange:async e=>{!async function(e){c(e),E(!0),await Za({column:"userRating",data:e}),E(!1)}(e.target.value)}},l.a.createElement(Q.a,{value:"disabled"},aa.a.t("settings.settings.options.disabled")),l.a.createElement(Q.a,{value:"enabled"},aa.a.t("settings.settings.options.enabled"))),l.a.createElement(wd.a,null,g&&aa.a.t("settings.settings.options.evaluations")))),l.a.createElement(ht.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(Nt.a,{id:"schedule-type-label"},aa.a.t("settings.settings.options.officeScheduling")),l.a.createElement(jt.a,{labelId:"schedule-type-label",value:d,onChange:async e=>{!async function(e){m(e),f(!0),await Za({column:"scheduleType",data:e}),f(!1),"function"===typeof o&&o(e)}(e.target.value)}},l.a.createElement(Q.a,{value:"disabled"},aa.a.t("settings.settings.options.disabled")),l.a.createElement(Q.a,{value:"queue"},aa.a.t("settings.settings.options.queueManagement")),l.a.createElement(Q.a,{value:"company"},aa.a.t("settings.settings.options.companyManagement")),l.a.createElement(Q.a,{value:"connection"},aa.a.t("settings.settings.options.connectionManagement"))),l.a.createElement(wd.a,null,b&&aa.a.t("settings.settings.options.updating")))),l.a.createElement(ht.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(Nt.a,{id:"sendGreetingAccepted-label"},aa.a.t("settings.settings.options.sendGreetingAccepted")),l.a.createElement(jt.a,{labelId:"sendGreetingAccepted-label",value:x,onChange:async e=>{!async function(e){C(e),w(!0),await Za({column:"sendGreetingAccepted",data:e}),w(!1)}(e.target.value)}},l.a.createElement(Q.a,{value:"disabled"},aa.a.t("settings.settings.options.disabled")),l.a.createElement(Q.a,{value:"enabled"},aa.a.t("settings.settings.options.enabled"))),l.a.createElement(wd.a,null,k&&aa.a.t("settings.settings.options.updating")))),l.a.createElement(ht.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(Nt.a,{id:"userRandom-label"},aa.a.t("settings.settings.options.userRandom")),l.a.createElement(jt.a,{labelId:"userRandom-label",value:T,onChange:async e=>{!async function(e){O(e),I(!0),await Za({column:"userRandom",data:e}),I(!1)}(e.target.value)}},l.a.createElement(Q.a,{value:"disabled"},aa.a.t("settings.settings.options.disabled")),l.a.createElement(Q.a,{value:"enabled"},aa.a.t("settings.settings.options.enabled"))),l.a.createElement(wd.a,null,M&&aa.a.t("settings.settings.options.updating")))),l.a.createElement(ht.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(Nt.a,{id:"sendMsgTransfTicket-label"},aa.a.t("settings.settings.options.sendMsgTransfTicket")),l.a.createElement(jt.a,{labelId:"sendMsgTransfTicket-label",value:j,onChange:async e=>{!async function(e){N(e),F(!0),await Za({column:"sendMsgTransfTicket",data:e}),F(!1)}(e.target.value)}},l.a.createElement(Q.a,{value:"disabled"},aa.a.t("settings.settings.options.disabled")),l.a.createElement(Q.a,{value:"enabled"},aa.a.t("settings.settings.options.enabled"))),l.a.createElement(wd.a,null,R&&aa.a.t("settings.settings.options.updating")))),l.a.createElement(ht.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(Nt.a,{id:"schedule-type-label"},aa.a.t("settings.settings.options.chatBotType")),l.a.createElement(jt.a,{labelId:"schedule-type-label",value:u,onChange:async e=>{!async function(e){p(e),await Za({column:"chatBotType",data:e}),"function"===typeof o&&p(e)}(e.target.value)}},l.a.createElement(Q.a,{value:"text"},"Texto"),l.a.createElement(Q.a,{value:"list"},"Lista"),l.a.createElement(Q.a,{value:"button"},aa.a.t("settings.settings.options.buttons"))),l.a.createElement(wd.a,null,b&&aa.a.t("settings.settings.options.updating")))),l.a.createElement(ht.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(Nt.a,{id:"acceptCallWhatsapp-label"},aa.a.t("settings.settings.options.acceptCallWhatsapp")),l.a.createElement(jt.a,{labelId:"acceptCallWhatsapp-label",value:P,onChange:async e=>{!async function(e){D(e),B(!0),await Za({column:"acceptCallWhatsapp",data:e}),B(!1)}(e.target.value)}},l.a.createElement(Q.a,{value:"disabled"},aa.a.t("settings.settings.options.disabled")),l.a.createElement(Q.a,{value:"enabled"},aa.a.t("settings.settings.options.enabled"))),l.a.createElement(wd.a,null,L&&aa.a.t("settings.settings.options.updating")))),l.a.createElement(ht.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(Nt.a,{id:"sendSignMessage-label"},aa.a.t("settings.settings.options.sendSignMessage")),l.a.createElement(jt.a,{labelId:"sendSignMessage-label",value:W,onChange:async e=>{!async function(e){q(e),H(!0),await Za({column:"sendSignMessage",data:e}),localStorage.setItem("sendSignMessage","enabled"===e),H(!1)}(e.target.value)}},l.a.createElement(Q.a,{value:"disabled"},aa.a.t("settings.settings.options.disabled")),l.a.createElement(Q.a,{value:"enabled"},aa.a.t("settings.settings.options.enabled"))),l.a.createElement(wd.a,null,z&&aa.a.t("settings.settings.options.updating")))),l.a.createElement(ht.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(Nt.a,{id:"sendGreetingMessageOneQueues-label"},aa.a.t("settings.settings.options.sendGreetingMessageOneQueues")),l.a.createElement(jt.a,{labelId:"sendGreetingMessageOneQueues-label",value:U,onChange:async e=>{!async function(e){V(e),K(!0),await Za({column:"sendGreetingMessageOneQueues",data:e}),K(!1)}(e.target.value)}},l.a.createElement(Q.a,{value:"disabled"},aa.a.t("settings.settings.options.disabled")),l.a.createElement(Q.a,{value:"enabled"},aa.a.t("settings.settings.options.enabled"))),l.a.createElement(wd.a,null,G&&aa.a.t("settings.settings.options.updating")))),l.a.createElement(ht.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(Nt.a,{id:"sendQueuePosition-label"},aa.a.t("settings.settings.options.sendQueuePosition")),l.a.createElement(jt.a,{labelId:"sendQueuePosition-label",value:Y,onChange:async e=>{!async function(e){X(e),Z(!0),await Za({column:"sendQueuePosition",data:e}),Z(!1)}(e.target.value)}},l.a.createElement(Q.a,{value:"disabled"},aa.a.t("settings.settings.options.disabled")),l.a.createElement(Q.a,{value:"enabled"},aa.a.t("settings.settings.options.enabled"))),l.a.createElement(wd.a,null,J&&aa.a.t("settings.settings.options.updating")))),l.a.createElement(ht.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(Nt.a,{id:"sendFarewellWaitingTicket-label"},aa.a.t("settings.settings.options.sendFarewellWaitingTicket")),l.a.createElement(jt.a,{labelId:"sendFarewellWaitingTicket-label",value:_,onChange:async e=>{!async function(e){$(e),ae(!0),await Za({column:"sendFarewellWaitingTicket",data:e}),ae(!1)}(e.target.value)}},l.a.createElement(Q.a,{value:"disabled"},aa.a.t("settings.settings.options.disabled")),l.a.createElement(Q.a,{value:"enabled"},aa.a.t("settings.settings.options.enabled"))),l.a.createElement(wd.a,null,ee&&aa.a.t("settings.settings.options.updating")))),l.a.createElement(ht.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(Nt.a,{id:"acceptAudioMessageContact-label"},aa.a.t("settings.settings.options.acceptAudioMessageContact")),l.a.createElement(jt.a,{labelId:"acceptAudioMessageContact-label",value:te,onChange:async e=>{!async function(e){ne(e),oe(!0),await Za({column:"acceptAudioMessageContact",data:e}),oe(!1)}(e.target.value)}},l.a.createElement(Q.a,{value:"disabled"},aa.a.t("settings.settings.options.disabled")),l.a.createElement(Q.a,{value:"enabled"},aa.a.t("settings.settings.options.enabled"))),l.a.createElement(wd.a,null,le&&aa.a.t("settings.settings.options.updating")))),l.a.createElement(ht.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(Nt.a,{id:"enableLGPD-label"}," ",aa.a.t("settings.settings.options.enableLGPD")),l.a.createElement(jt.a,{labelId:"enableLGPD-label",value:Fe,onChange:async e=>{!async function(e){Pe(e),Le(!0),await Za({column:"enableLGPD",data:e}),Le(!1)}(e.target.value)}},l.a.createElement(Q.a,{value:"disabled"},aa.a.t("settings.settings.options.disabled")),l.a.createElement(Q.a,{value:"enabled"},aa.a.t("settings.settings.options.enabled"))),l.a.createElement(wd.a,null,De&&aa.a.t("settings.settings.options.updating")))),l.a.createElement(ht.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(Nt.a,{id:"requiredTag-label"}," ",aa.a.t("settings.settings.options.requiredTag")),l.a.createElement(jt.a,{labelId:"requiredTag-label",value:ca,onChange:async e=>{!async function(e){da(e),ua(!0),await Za({column:"requiredTag",data:e}),ua(!1)}(e.target.value)}},l.a.createElement(Q.a,{value:"disabled"},aa.a.t("settings.settings.options.disabled")),l.a.createElement(Q.a,{value:"enabled"},aa.a.t("settings.settings.options.enabled"))),l.a.createElement(wd.a,null,ma&&aa.a.t("settings.settings.options.updating")))),l.a.createElement(ht.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(Nt.a,{id:"closeTicketOnTransfer-label"}," ",aa.a.t("settings.settings.options.closeTicketOnTransfer")),l.a.createElement(jt.a,{labelId:"closeTicketOnTransfer-label",value:pa,onChange:async e=>{!async function(e){ga(e),ba(!0),await Za({column:"closeTicketOnTransfer",data:e}),ba(!1)}(e.target.value)}},l.a.createElement(Q.a,{value:!1},aa.a.t("settings.settings.options.disabled")),l.a.createElement(Q.a,{value:!0},aa.a.t("settings.settings.options.enabled"))),l.a.createElement(wd.a,null,Ea&&aa.a.t("settings.settings.options.updating")))),l.a.createElement(ht.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(Nt.a,{id:"showNotificationPending-label"}," ",aa.a.t("settings.settings.options.showNotificationPending")),l.a.createElement(jt.a,{labelId:"showNotificationPending-label",value:La,onChange:async e=>{!async function(e){Ba(e),qa(!0),await Za({column:"showNotificationPending",data:e}),qa(!1)}(e.target.value)}},l.a.createElement(Q.a,{value:!1},aa.a.t("settings.settings.options.disabled")),l.a.createElement(Q.a,{value:!0},aa.a.t("settings.settings.options.enabled"))),l.a.createElement(wd.a,null,Wa&&aa.a.t("settings.settings.options.updating"))))),l.a.createElement("br",null),"enabled"===Fe&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ht.a,{spacing:3,container:!0,style:{marginBottom:10}},l.a.createElement(Wt.a,{value:0,indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",className:i.tab},l.a.createElement(qt.a,{label:aa.a.t("settings.settings.LGPD.title")}))),l.a.createElement(ht.a,{spacing:1,container:!0},l.a.createElement(ht.a,{xs:12,sm:6,md:12,item:!0},l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(wt.a,{id:"lgpdMessage",name:"lgpdMessage",margin:"dense",multiline:!0,rows:3,label:aa.a.t("settings.settings.LGPD.welcome"),variant:"outlined",value:Be,onChange:async e=>{!async function(e){We(e),ze(!0),await Za({column:"lgpdMessage",data:e}),ze(!1)}(e.target.value)}}),l.a.createElement(wd.a,null,qe&&aa.a.t("settings.settings.options.updating")))),l.a.createElement(ht.a,{xs:12,sm:6,md:12,item:!0},l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(wt.a,{id:"lgpdLink",name:"lgpdLink",margin:"dense",label:aa.a.t("settings.settings.LGPD.linkLGPD"),variant:"outlined",value:He,onChange:async e=>{!async function(e){Ue(e),Ve(!0),await Za({column:"lgpdLink",data:e}),Ve(!1)}(e.target.value)}}),l.a.createElement(wd.a,null,Qe&&aa.a.t("settings.settings.options.updating")))),l.a.createElement(ht.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(Nt.a,{id:"lgpdDeleteMessage-label"},aa.a.t("settings.settings.LGPD.obfuscateMessageDelete")),l.a.createElement(jt.a,{labelId:"lgpdDeleteMessage-label",value:Ge,onChange:async e=>{!async function(e){Ke(e),Xe(!0),await Za({column:"lgpdDeleteMessage",data:e}),Xe(!1)}(e.target.value)}},l.a.createElement(Q.a,{value:"disabled"},aa.a.t("settings.settings.LGPD.disabled")),l.a.createElement(Q.a,{value:"enabled"},aa.a.t("settings.settings.LGPD.enabled"))),l.a.createElement(wd.a,null,Ye&&aa.a.t("settings.settings.options.updating")))),l.a.createElement(ht.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(Nt.a,{id:"lgpdConsent-label"},aa.a.t("settings.settings.LGPD.alwaysConsent")),l.a.createElement(jt.a,{labelId:"lgpdConsent-label",value:ea,onChange:async e=>{!async function(e){ta(e),la(!0),await Za({column:"lgpdConsent",data:e}),la(!1)}(e.target.value)}},l.a.createElement(Q.a,{value:"disabled"},aa.a.t("settings.settings.LGPD.disabled")),l.a.createElement(Q.a,{value:"enabled"},aa.a.t("settings.settings.LGPD.enabled"))),l.a.createElement(wd.a,null,na&&aa.a.t("settings.settings.options.updating")))),l.a.createElement(ht.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(Nt.a,{id:"lgpdHideNumber-label"},aa.a.t("settings.settings.LGPD.obfuscatePhoneUser")),l.a.createElement(jt.a,{labelId:"lgpdHideNumber-label",value:oa,onChange:async e=>{!async function(e){ra(e),sa(!0),await Za({column:"lgpdHideNumber",data:e}),sa(!1)}(e.target.value)}},l.a.createElement(Q.a,{value:"disabled"},aa.a.t("settings.settings.LGPD.disabled")),l.a.createElement(Q.a,{value:"enabled"},aa.a.t("settings.settings.LGPD.enabled"))),l.a.createElement(wd.a,null,ia&&aa.a.t("settings.settings.options.updating")))))),l.a.createElement(ht.a,{spacing:3,container:!0},_a()?l.a.createElement(Wt.a,{indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",className:i.tab,style:{marginBottom:20,marginTop:20}},l.a.createElement(qt.a,{label:"Configura\xe7\xe3o Pix Ef\xed (GerenciaNet)"})):null),l.a.createElement(ht.a,{spacing:3,container:!0,style:{marginBottom:10}},l.a.createElement(ht.a,{xs:12,sm:6,md:6,item:!0},_a()?l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(wt.a,{id:"eficlientid",name:"eficlientid",margin:"dense",label:"Client ID",variant:"outlined",value:re,onChange:async e=>{!async function(e){ie(e),ce(!0),await Qa({key:"eficlientid",value:e}),S.b.success("Opera\xe7\xe3o atualizada com sucesso."),ce(!1)}(e.target.value)}}),l.a.createElement(wd.a,null,se&&"Atualizando...")):null),l.a.createElement(ht.a,{xs:12,sm:6,md:6,item:!0},_a()?l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(wt.a,{id:"eficlientsecret",name:"eficlientsecret",margin:"dense",label:"Client Secret",variant:"outlined",value:de,onChange:async e=>{!async function(e){me(e),pe(!0),await Va({key:"eficlientsecret",value:e}),S.b.success("Opera\xe7\xe3o atualizada com sucesso."),pe(!1)}(e.target.value)}}),l.a.createElement(wd.a,null,ue&&"Atualizando...")):null),l.a.createElement(ht.a,{xs:12,sm:12,md:12,item:!0},_a()?l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(wt.a,{id:"efichavepix",name:"efichavepix",margin:"dense",label:"Chave PIX",variant:"outlined",value:ge,onChange:async e=>{!async function(e){Ee(e),fe(!0),await Ga({key:"efichavepix",value:e}),S.b.success("Opera\xe7\xe3o atualizada com sucesso."),fe(!1)}(e.target.value)}}),l.a.createElement(wd.a,null,be&&"Atualizando...")):null)),l.a.createElement(ht.a,{spacing:3,container:!0},_a()?l.a.createElement(Wt.a,{indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",className:i.tab,style:{marginBottom:20,marginTop:20}},l.a.createElement(qt.a,{label:"Mercado Pago"})):null),l.a.createElement(ht.a,{spacing:3,container:!0,style:{marginBottom:10}},l.a.createElement(ht.a,{xs:12,sm:12,md:12,item:!0},_a()?l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(wt.a,{id:"mpaccesstoken",name:"mpaccesstoken",margin:"dense",label:"Access Token",variant:"outlined",value:he,onChange:async e=>{!async function(e){Ae(e),ye(!0),await Ka({key:"mpaccesstoken",value:e}),S.b.success("Opera\xe7\xe3o atualizada com sucesso."),ye(!1)}(e.target.value)}}),l.a.createElement(wd.a,null,ve&&"Atualizando...")):null)),l.a.createElement(ht.a,{spacing:3,container:!0},_a()?l.a.createElement(Wt.a,{indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",className:i.tab,style:{marginBottom:20,marginTop:20}},l.a.createElement(qt.a,{label:"Stripe"})):null),l.a.createElement(ht.a,{spacing:3,container:!0,style:{marginBottom:10}},l.a.createElement(ht.a,{xs:12,sm:12,md:12,item:!0},_a()?l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(wt.a,{id:"stripeprivatekey",name:"stripeprivatekey",margin:"dense",label:"Stripe Private Key",variant:"outlined",value:xe,onChange:async e=>{!async function(e){Ce(e),we(!0),await Ya({key:"stripeprivatekey",value:e}),S.b.success("Opera\xe7\xe3o atualizada com sucesso."),we(!1)}(e.target.value)}}),l.a.createElement(wd.a,null,ke&&"Atualizando...")):null)),l.a.createElement(ht.a,{spacing:3,container:!0},_a()?l.a.createElement(Wt.a,{indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",className:i.tab,style:{marginBottom:20,marginTop:20}},l.a.createElement(qt.a,{label:"ASAAS"})):null),l.a.createElement(ht.a,{spacing:3,container:!0,style:{marginBottom:10}},l.a.createElement(ht.a,{xs:12,sm:12,md:12,item:!0},_a()?l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(wt.a,{id:"asaastoken",name:"asaastoken",margin:"dense",label:"Token Asaas",variant:"outlined",value:Te,onChange:async e=>{!async function(e){Oe(e),Me(!0),await Xa({key:"asaastoken",value:e}),S.b.success("Opera\xe7\xe3o atualizada com sucesso."),Me(!1)}(e.target.value)}}),l.a.createElement(wd.a,null,Se&&"Atualizando...")):null)),l.a.createElement(ht.a,{spacing:3,container:!0},_a()?l.a.createElement(Wt.a,{indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",className:i.tab,style:{marginBottom:20,marginTop:20}},l.a.createElement(qt.a,{label:"OpenAI API KEY Transcri\xe7\xe3o de \xe1udio (Para todas empresas)"})):null),l.a.createElement(ht.a,{spacing:3,container:!0,style:{marginBottom:10}},l.a.createElement(ht.a,{xs:12,sm:12,md:12,item:!0},_a()?l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(wt.a,{id:"openaikeyaudio",name:"openaikeyaudio",margin:"dense",label:"OpenAI API Key",variant:"outlined",value:Ie,onChange:async e=>{!async function(e){je(e),Re(!0),await Ja({key:"openaikeyaudio",value:e}),S.b.success("Opera\xe7\xe3o atualizada com sucesso."),Re(!1)}(e.target.value)}}),l.a.createElement(wd.a,null,Ne&&"Atualizando...")):null)),l.a.createElement(ht.a,{spacing:1,container:!0},l.a.createElement(ht.a,{xs:12,sm:6,md:6,item:!0},l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(wt.a,{id:"transferMessage",name:"transferMessage",margin:"dense",multiline:!0,rows:3,label:aa.a.t("settings.settings.customMessages.transferMessage"),variant:"outlined",value:ya,required:"enabled"===j,onChange:async e=>{!async function(e){xa(e),ka(!0),await Za({column:"transferMessage",data:e}),ka(!1)}(e.target.value)}}),l.a.createElement(wd.a,null,Ca&&aa.a.t("settings.settings.options.updating")))),l.a.createElement(ht.a,{xs:12,sm:6,md:6,item:!0},l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(wt.a,{id:"greetingAcceptedMessage",name:"greetingAcceptedMessage",margin:"dense",multiline:!0,rows:3,label:aa.a.t("settings.settings.customMessages.greetingAcceptedMessage"),variant:"outlined",value:wa,required:"enabled"===x,onChange:async e=>{!async function(e){Ta(e),Sa(!0),await Za({column:"greetingAcceptedMessage",data:e}),Sa(!1)}(e.target.value)}}),l.a.createElement(wd.a,null,Oa&&aa.a.t("settings.settings.options.updating")))),l.a.createElement(ht.a,{xs:12,sm:6,md:6,item:!0},l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(wt.a,{id:"AcceptCallWhatsappMessage",name:"AcceptCallWhatsappMessage",margin:"dense",multiline:!0,rows:3,label:aa.a.t("settings.settings.customMessages.AcceptCallWhatsappMessage"),variant:"outlined",required:"disabled"===P,value:Ma,onChange:async e=>{!async function(e){Ia(e),Na(!0),await Za({column:"AcceptCallWhatsappMessage",data:e}),Na(!1)}(e.target.value)}}),l.a.createElement(wd.a,null,ja&&aa.a.t("settings.settings.options.updating")))),l.a.createElement(ht.a,{xs:12,sm:6,md:6,item:!0},l.a.createElement(Rt.a,{className:i.selectContainer},l.a.createElement(wt.a,{id:"sendQueuePositionMessage",name:"sendQueuePositionMessage",margin:"dense",multiline:!0,required:"enabled"===Y,rows:3,label:aa.a.t("settings.settings.customMessages.sendQueuePositionMessage"),variant:"outlined",value:Ra,onChange:async e=>{!async function(e){Fa(e),Da(!0),await Za({column:"sendQueuePositionMessage",data:e}),Da(!1)}(e.target.value)}}),l.a.createElement(wd.a,null,Pa&&aa.a.t("settings.settings.options.updating"))))))}const Sd=e=>{let{user:a,yes:t,no:n}=e;return a.super?t():n()};Sd.defaultProps={user:{},yes:()=>null,no:()=>null};var Md=Sd,Id=t(1680),jd=t(1681);t(974);var Nd=t(551);const Rd=Object(I.a)(e=>({btnWrapper:{position:"relative"}}));var Fd=e=>{let{onChange:a,currentColor:t,handleClose:o,open:r}=e;const i=Rd(),[s,c]=Object(n.useState)(t);Object(n.useEffect)(()=>{c(t)},[t]);return l.a.createElement(Tt.a,{open:r,onClose:o},l.a.createElement(Mt.a,null,"Escolha uma cor"),l.a.createElement(St.a,null,l.a.createElement(Nd.a,{disableAlpha:!0,hslGradient:!1,style:{margin:"20px auto 0"},value:s,onChange:c})),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:o,color:"primary"},"Cancelar"),l.a.createElement(kt.a,{color:"primary",variant:"contained",className:i.btnWrapper,onClick:()=>{a(s),o()}},"OK")))};const Pd=Object(I.a)(e=>({container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},fixedHeightPaper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:240},tab:{borderRadius:4,width:"100%","& .MuiTab-wrapper":{color:"#128c7e"},"& .MuiTabs-flexContainer":{justifyContent:"center"}},paper:{padding:e.spacing(2),display:"flex",alignItems:"center",marginBottom:12,width:"100%"},cardAvatar:{fontSize:"55px",color:$n.a[500],backgroundColor:"#ffffff",width:e.spacing(7),height:e.spacing(7)},cardTitle:{fontSize:"18px",color:Ur.a[700]},cardSubtitle:{color:$n.a[600],fontSize:"14px"},alignRight:{textAlign:"right"},fullWidth:{width:"100%"},selectContainer:{width:"100%",textAlign:"left"},colorAdorment:{width:20,height:20},uploadInput:{display:"none"},appLogoLightPreviewDiv:{backgroundColor:"white",padding:"10px",borderStyle:"solid",borderWidth:"1px",borderColor:"#424242",textAlign:"center"},appLogoDarkPreviewDiv:{backgroundColor:"#424242",padding:"10px",borderStyle:"solid",borderWidth:"1px",borderColor:"white",textAlign:"center"},appLogoFaviconPreviewDiv:{padding:"10px",borderStyle:"solid",borderWidth:"1px",borderColor:"black",textAlign:"center"},appLogoLightPreviewImg:{width:"100%",maxHeight:72,content:"url("+e.calculatedLogoLight()+")"},appLogoDarkPreviewImg:{width:"100%",maxHeight:72,content:"url("+e.calculatedLogoDark()+")"},appLogoFaviconPreviewImg:{width:"100%",maxHeight:72,content:"url("+(e.appLogoFavicon?e.appLogoFavicon:"")+")"}}));function Dd(e){const{settings:a}=e,t=Pd(),[o,r]=Object(n.useState)({}),{getCurrentUserInfo:i}=ma(),[s,c]=Object(n.useState)({}),{colorMode:d}=Object(n.useContext)(h),[m,p]=Object(n.useState)(!1),[g,E]=Object(n.useState)(!1),b=Object(n.useRef)(null),f=Object(n.useRef)(null),A=Object(n.useRef)(null),v=Object(n.useRef)(null),[y,x]=Object(n.useState)(o.appName||""),{update:C}=xn();function k(e,a){console.log("|=========== updateSettingsLoaded ==========|"),console.log(e,a),console.log("|===========================================|"),"primaryColorLight"!==e&&"primaryColorDark"!==e&&"appName"!==e||localStorage.setItem(e,a);const t={...o};t[e]=a,r(t)}async function T(e,a){await C({key:e,value:a}),k(e,a),S.b.success("Opera\xe7\xe3o atualizada com sucesso.")}Object(n.useEffect)(()=>{if(i().then(e=>{c(e)}),Array.isArray(a)&&a.length){var e,t,n,l,s,d;const i=null===(e=a.find(e=>"primaryColorLight"===e.key))||void 0===e?void 0:e.value,c=null===(t=a.find(e=>"primaryColorDark"===e.key))||void 0===t?void 0:t.value,m=null===(n=a.find(e=>"appLogoLight"===e.key))||void 0===n?void 0:n.value,u=null===(l=a.find(e=>"appLogoDark"===e.key))||void 0===l?void 0:l.value,p=null===(s=a.find(e=>"appLogoFavicon"===e.key))||void 0===s?void 0:s.value,g=null===(d=a.find(e=>"appName"===e.key))||void 0===d?void 0:d.value;x(g||""),r({...o,primaryColorLight:i,primaryColorDark:c,appLogoLight:m,appLogoDark:u,appLogoFavicon:p,appName:g})}},[a]);const O=async(e,a)=>{if(!e.target.files)return;const t=e.target.files[0],n=new FormData;n.append("typeArch","logo"),n.append("mode",a),n.append("file",t),await u.post("/settings-whitelabel/logo",n,{onUploadProgress:e=>{let a=Math.round(100*e.loaded/e.total);console.log(`A imagem  est\xe1 ${a}% carregada... `)}}).then(e=>{k("appLogo"+a,e.data),d["setAppLogo"+a](w()+"/public/"+e.data)}).catch(e=>{console.error("Houve um problema ao realizar o upload da imagem."),console.log(e)})};return l.a.createElement(l.a.Fragment,null,l.a.createElement(ht.a,{spacing:3,container:!0},l.a.createElement(Md,{user:s,yes:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(ht.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(Rt.a,{className:t.selectContainer},l.a.createElement(wt.a,{id:"primary-color-light-field",label:"Cor Prim\xe1ria Modo Claro",variant:"standard",value:o.primaryColorLight||"",onClick:()=>p(!0),InputProps:{startAdornment:l.a.createElement(fc.a,{position:"start"},l.a.createElement("div",{style:{backgroundColor:o.primaryColorLight},className:t.colorAdorment})),endAdornment:l.a.createElement(D.a,{size:"small",color:"default",onClick:()=>p(!0)},l.a.createElement(Id.a,null))}})),l.a.createElement(Fd,{open:m,handleClose:()=>p(!1),onChange:e=>{T("primaryColorLight","#"+e.hex),d.setPrimaryColorLight("#"+e.hex)},currentColor:o.primaryColorLight})),l.a.createElement(ht.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(Rt.a,{className:t.selectContainer},l.a.createElement(wt.a,{id:"primary-color-dark-field",label:"Cor Prim\xe1ria Modo Escuro",variant:"standard",value:o.primaryColorDark||"",onClick:()=>E(!0),InputProps:{startAdornment:l.a.createElement(fc.a,{position:"start"},l.a.createElement("div",{style:{backgroundColor:o.primaryColorDark},className:t.colorAdorment})),endAdornment:l.a.createElement(D.a,{size:"small",color:"default",onClick:()=>E(!0)},l.a.createElement(Id.a,null))}})),l.a.createElement(Fd,{open:g,handleClose:()=>E(!1),onChange:e=>{T("primaryColorDark","#"+e.hex),d.setPrimaryColorDark("#"+e.hex)},currentColor:o.primaryColorDark})),l.a.createElement(ht.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(Rt.a,{className:t.selectContainer},l.a.createElement(wt.a,{id:"appname-field",label:"Nome do sistema",variant:"standard",name:"appName",value:y,inputRef:v,onChange:e=>{x(e.target.value)},onBlur:async e=>{await T("appName",y),d.setAppName(y||"Multi100")}}))),l.a.createElement(ht.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(Rt.a,{className:t.selectContainer},l.a.createElement(wt.a,{id:"logo-light-upload-field",label:"Logotipo claro",variant:"standard",value:o.appLogoLight||"",InputProps:{endAdornment:l.a.createElement(l.a.Fragment,null,o.appLogoLight&&l.a.createElement(D.a,{size:"small",color:"default",onClick:()=>{T("appLogoLight",""),d.setAppLogoLight(cn.a)}},l.a.createElement(jd.a,null)),l.a.createElement("input",{type:"file",id:"upload-logo-light-button",ref:b,className:t.uploadInput,onChange:e=>O(e,"Light")}),l.a.createElement("label",{htmlFor:"upload-logo-light-button"},l.a.createElement(D.a,{size:"small",color:"default",onClick:()=>{b.current.click()}},l.a.createElement(ea.a,null))))}}))),l.a.createElement(ht.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(Rt.a,{className:t.selectContainer},l.a.createElement(wt.a,{id:"logo-dark-upload-field",label:"Logotipo escuro",variant:"standard",value:o.appLogoDark||"",InputProps:{endAdornment:l.a.createElement(l.a.Fragment,null,o.appLogoDark&&l.a.createElement(D.a,{size:"small",color:"default",onClick:()=>{T("appLogoDark",""),d.setAppLogoDark(mn.a)}},l.a.createElement(jd.a,null)),l.a.createElement("input",{type:"file",id:"upload-logo-dark-button",ref:f,className:t.uploadInput,onChange:e=>O(e,"Dark")}),l.a.createElement("label",{htmlFor:"upload-logo-dark-button"},l.a.createElement(D.a,{size:"small",color:"default",onClick:()=>{f.current.click()}},l.a.createElement(ea.a,null))))}}))),l.a.createElement(ht.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(Rt.a,{className:t.selectContainer},l.a.createElement(wt.a,{id:"logo-favicon-upload-field",label:"Favicon",variant:"standard",value:o.appLogoFavicon||"",InputProps:{endAdornment:l.a.createElement(l.a.Fragment,null,o.appLogoFavicon&&l.a.createElement(D.a,{size:"small",color:"default",onClick:()=>{T("appLogoFavicon",""),d.setAppLogoFavicon(mt.a)}},l.a.createElement(jd.a,null)),l.a.createElement("input",{type:"file",id:"upload-logo-favicon-button",ref:A,className:t.uploadInput,onChange:e=>O(e,"Favicon")}),l.a.createElement("label",{htmlFor:"upload-logo-favicon-button"},l.a.createElement(D.a,{size:"small",color:"default",onClick:()=>{A.current.click()}},l.a.createElement(ea.a,null))))}}))),l.a.createElement(ht.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement("div",{className:t.appLogoLightPreviewDiv},l.a.createElement("img",{className:t.appLogoLightPreviewImg,alt:"light-logo-preview"}))),l.a.createElement(ht.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement("div",{className:t.appLogoDarkPreviewDiv},l.a.createElement("img",{className:t.appLogoDarkPreviewImg,alt:"dark-logo-preview"}))),l.a.createElement(ht.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement("div",{className:t.appLogoFaviconPreviewDiv},l.a.createElement("img",{className:t.appLogoFaviconPreviewImg,alt:"favicon-preview"}))))})))}const Ld=Object(I.a)(e=>({root:{width:"100%"},mainPaper:{width:"100%",flex:1,padding:e.spacing(2)},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},fixedHeightPaper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:240},tab:{background:"#f2f5f3",borderRadius:4,width:"100%","& .MuiTab-wrapper":{color:"#128c7e"},"& .MuiTabs-flexContainer":{justifyContent:"center"}},paper:{padding:e.spacing(2),display:"flex",alignItems:"center",marginBottom:12,width:"100%"},cardAvatar:{fontSize:"55px",color:$n.a[500],backgroundColor:"#ffffff",width:e.spacing(7),height:e.spacing(7)},cardTitle:{fontSize:"18px",color:Ur.a[700]},cardSubtitle:{color:$n.a[600],fontSize:"14px"},alignRight:{textAlign:"right"},fullWidth:{width:"100%"},selectContainer:{width:"100%",textAlign:"left"},buttonContainer:{textAlign:"right",padding:e.spacing(1)},fullWidth:{width:"100%"},fileInput:{background:"red"},fileInputLabel:{display:"inline-block",backgroundColor:"#7c7c7c",color:"#fff",padding:"8px 16px",borderRadius:"4px",cursor:"pointer","& input":{display:"none"}}}));var Bd=()=>{const[e,a]=Object(n.useState)(null),[t,o]=Object(n.useState)(!1),[r,i]=Object(n.useState)(""),s=Ld(),{user:c}=Object(n.useContext)(ua),{profile:d}=c,m=Object(O.useHistory)(),[p,g]=Object(n.useState)("");Object(n.useEffect)(()=>{!async function(){c.super||(S.b.error("Sem permiss\xe3o para acessar!"),setTimeout(()=>{m.push("/")},500))}()},[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(ht.a,{spacing:3,container:!0},l.a.createElement(Wt.a,{indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",className:s.tab,style:{marginBottom:20,marginTop:20}},l.a.createElement(qt.a,{label:"Certificado Ef\xed - API PIX (p12)"})),l.a.createElement("form",{onSubmit:async a=>{if(a.preventDefault(),!e)return void S.b.warn("Escolha um arquivo!");if(!r)return void S.b.warn("Escolha um destino!");const t=new FormData;t.append("file",e);try{"Arquivo Anexado"===(await u.post("/settings/cert-upload?ref="+r,t)).data.mensagem&&(o(!0),S.b.success("Arquivo enviado com sucesso!"),window.location.reload())}catch(n){console.log(n)}},className:s.fullWidth},l.a.createElement(ht.a,{item:!0,xs:12,sm:12,md:12,style:{display:"flex"}},l.a.createElement(Rt.a,{className:s.selectContainer},l.a.createElement(Nt.a,{id:"selectOption-label"},"Escolha uma op\xe7\xe3o:"),l.a.createElement(jt.a,{labelId:"selectOption-label",value:r,onChange:e=>{i(e.target.value)},style:{marginTop:15,marginBottom:15}},l.a.createElement(Q.a,{value:"certificadoEfi"},"Certificado Ef\xed p12 API PIX")))),l.a.createElement(ht.a,{item:!0,xs:12,sm:12,md:12,style:{display:"flex"}},l.a.createElement(Rt.a,{className:s.fullWidth},l.a.createElement("label",{className:s.fileInputLabel},l.a.createElement("input",{type:"file",onChange:e=>{const t=e.target.files[0];if(t){const e=t.name;e.endsWith(".p12")?(a(t),g(e)):(a(null),g(null),S.b.error("Use somente arquivos em formato p12!"))}},className:s.fileInput,style:{marginTop:15,marginBottom:15}}),p||"Escolher Certificado Ef\xed p12 API PIX"))),l.a.createElement(ht.a,{item:!0,xs:12,sm:12,md:12,style:{display:"flex"}},l.a.createElement($l,{type:"submit",className:`${s.fullWidth} ${s.button}`,style:{marginTop:15,marginBottom:15},variant:"contained",color:"primary"},"ENVIAR CERTIFICADO")))))};const Wd=Object(I.a)(e=>({root:{flex:1,backgroundColor:e.palette.background.paper},mainPaper:{...e.scrollbarStyles,overflowY:"scroll",flex:1},tab:{backgroundColor:"light"===e.mode?"#f2f2f2":"#7f7f7f",borderRadius:4},paper:{...e.scrollbarStyles,overflowY:"scroll",padding:e.spacing(2),display:"flex",alignItems:"center",width:"100%"},container:{width:"100%",maxHeight:"100%"},control:{padding:e.spacing(1)},textfield:{width:"100%"}}));var qd=()=>{const e=Wd(),[a,t]=Object(n.useState)("options"),[o,r]=Object(n.useState)([]),[i,s]=Object(n.useState)({}),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)({}),[p,g]=Object(n.useState)({}),[E,b]=Object(n.useState)({}),[f,h]=Object(n.useState)(!1),{find:A,updateSchedules:v}=cd(),{getAll:y}=ct(),{getAll:x}=xn(),{user:C,socket:k}=Object(n.useContext)(ua);Object(n.useEffect)(()=>{!async function(){d(!0);try{const e=C.companyId,a=await A(e),t=await y(e),n=await x();s(a),r(a.schedules),g(t),b(n),h("company"===t.scheduleType),u(C)}catch(e){S.b.error(e)}d(!1)}()},[]);const w=()=>m.super;return l.a.createElement(Bc,{className:e.root},"user"===C.profile?l.a.createElement(Tl,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(qc,null,l.a.createElement(Uc,null,aa.a.t("settings.title"))),l.a.createElement(Bt.a,{className:e.mainPaper,elevation:1},l.a.createElement(Wt.a,{value:a,indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",onChange:(e,a)=>{t(a)},className:e.tab},l.a.createElement(qt.a,{label:aa.a.t("settings.tabs.options"),value:"options"}),f&&l.a.createElement(qt.a,{label:"Hor\xe1rios",value:"schedules"}),w()?l.a.createElement(qt.a,{label:"Empresas",value:"companies"}):null,w()?l.a.createElement(qt.a,{label:aa.a.t("settings.tabs.plans"),value:"plans"}):null,w()?l.a.createElement(qt.a,{label:aa.a.t("settings.tabs.helps"),value:"helps"}):null,w()?l.a.createElement(qt.a,{label:"Whitelabel",value:"whitelabel"}):null,w()?l.a.createElement(qt.a,{label:"Certificado Ef\xed PIX",value:"uploadercert"}):null),l.a.createElement(Bt.a,{className:e.paper,elevation:0},l.a.createElement(zt,{className:e.container,value:a,name:"schedules"},l.a.createElement(Jc,{loading:c,onSubmit:async e=>{d(!0);try{r(e),await v({id:i.id,schedules:e}),S.b.success("Hor\xe1rios atualizados com sucesso.")}catch(a){S.b.error(a)}d(!1)},initialValues:o})),l.a.createElement(Md,{user:m,yes:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(zt,{className:e.container,value:a,name:"companies"},l.a.createElement(bd,null)),l.a.createElement(zt,{className:e.container,value:a,name:"plans"},l.a.createElement(vd,null)),l.a.createElement(zt,{className:e.container,value:a,name:"helps"},l.a.createElement(kd,null)),l.a.createElement(zt,{className:e.container,value:a,name:"whitelabel"},l.a.createElement(Dd,{settings:E})),l.a.createElement(zt,{className:e.container,value:a,name:"uploadercert"},l.a.createElement(Bd,null)))}),l.a.createElement(zt,{className:e.container,value:a,name:"options"},l.a.createElement(Od,{settings:p,oldSettings:E,user:m,scheduleTypeChanged:e=>h("company"===e)}))))))};function zd(e){const{errorText:a,...t}=e,[n,o]=Object(Ct.f)(e);return l.a.createElement(wt.a,Object.assign({type:"text",error:o.touched&&o.error&&!0,helperText:function(){const[e,a]=Object(la.at)(o,"touched","error");if(e&&a)return a}()},n,t))}function Hd(e){const{label:a,data:t,...n}=e,[o,r]=Object(Ct.f)(e),{value:i}=o,[s,c]=Object(la.at)(r,"touched","error"),d=s&&c&&!0;return l.a.createElement(Rt.a,Object.assign({},n,{error:d}),l.a.createElement(Nt.a,null,a),l.a.createElement(jt.a,Object.assign({},o,{value:i||""}),t.map((e,a)=>l.a.createElement(Q.a,{key:a,value:e.value},e.label))),function(){if(d)return l.a.createElement(wd.a,null,c)}())}Hd.defaultProps={data:[]};t(137),t(1721),t(560);function Ud(e){const{user:a,socket:t}=Object(n.useContext)(ua),[o,r]=Object(n.useState)(a.company.name),[i,s]=Object(n.useState)(a.company.document),[c,d]=Object(n.useState)(a.company.addressStreet),[m,u]=Object(n.useState)(a.company.addressState),[p,g]=Object(n.useState)(a.company.addressCity),{formField:{firstName:E,address1:b,city:f,state:h,zipcode:A,country:v},setFieldValue:y}=e;return Object(n.useEffect)(()=>{y("firstName",o),y("zipcode",i),y("address2",c),y("state",m),y("city",p)},[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(ht.a,{container:!0,spacing:3},l.a.createElement(ht.a,{item:!0,xs:6,sm:6},l.a.createElement(zd,{name:E.name,label:E.label,fullWidth:!0,value:o,onChange:e=>{r(e.target.value),y("firstName",e.target.value)}})),l.a.createElement(ht.a,{item:!0,xs:6,sm:6},l.a.createElement(zd,{name:A.name,label:A.label,fullWidth:!0,value:i,onChange:e=>{s(e.target.value),y("zipcode",e.target.value)}}))))}var Qd=t(1682),Vd=t(944),Gd=t.n(Vd),Kd=t(688),Yd=t.n(Kd);const Xd=Object(I.a)(e=>({"@global":{ul:{margin:0,padding:0,listStyle:"none"}},margin:{margin:e.spacing(1)},cardHeader:{backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[700]},cardPricing:{display:"flex",justifyContent:"center",alignItems:"baseline",marginBottom:e.spacing(2)},footer:{borderTop:"1px solid "+e.palette.divider,marginTop:e.spacing(8),paddingTop:e.spacing(3),paddingBottom:e.spacing(3),[e.breakpoints.up("sm")]:{paddingTop:e.spacing(6),paddingBottom:e.spacing(6)}},customCard:{display:"flex",marginTop:"16px",alignItems:"center",flexDirection:"column"},custom:{display:"flex",alignItems:"center",justifyContent:"space-between"}}));function Jd(e){const{setFieldValue:a,setActiveStep:t,activeStep:o}=e,r=Xd(),[i,s]=l.a.useState(3),[c,d]=l.a.useState(3),[m,u]=l.a.useState([]),[p,g]=l.a.useState(!1),{user:E,socket:b}=Object(n.useContext)(ua),{getPlanCompany:f}=va();Object(n.useEffect)(()=>{!async function(){await h()}()},[]);const h=async()=>{g(!0);try{const e=E.companyId,a=(await f(void 0,e)).plan,t=[];t.push({title:a.name,planId:a.id,price:a.amount,description:[a.users+" Usu\xe1rios",a.connections+" Conex\xe3o",a.queues+" Filas"],users:a.users,connections:a.connections,queues:a.queues,buttonText:"SELECIONAR",buttonVariant:"outlined"}),u(t)}catch(e){}g(!1)},[A,v]=l.a.useState(49);return l.a.createElement(l.a.Fragment,null,l.a.createElement(ht.a,{container:!0,spacing:3},null===m||void 0===m?void 0:m.map(e=>l.a.createElement(ht.a,{item:!0,key:e.title,xs:12,sm:"Enterprise"===e.title?12:6,md:12},l.a.createElement(Zi.a,null,l.a.createElement(vr.a,{title:e.title,subheader:e.subheader,titleTypographyProps:{align:"center"},subheaderTypographyProps:{align:"center"},action:"Pro"===e.title?l.a.createElement(Gd.a,null):null,className:r.cardHeader}),l.a.createElement(Oc.a,null,l.a.createElement("div",{className:r.cardPricing},l.a.createElement(z.a,{component:"h2",variant:"h3",color:"textPrimary"},e.custom?l.a.createElement(l.a.Fragment,null,"R$",A.toLocaleString("pt-br",{minimumFractionDigits:2})):l.a.createElement(l.a.Fragment,null,"R$",e.price.toLocaleString("pt-br",{minimumFractionDigits:2}))),l.a.createElement(z.a,{variant:"h6",color:"textSecondary"},"/m\xeas")),l.a.createElement("ul",null,e.description.map(e=>l.a.createElement(z.a,{component:"li",variant:"subtitle1",align:"center",key:e},e)),e.custom&&l.a.createElement("div",{className:r.customCard},l.a.createElement("div",{className:r.custom},l.a.createElement(z.a,{component:"li",variant:"subtitle1",align:"center",key:12},l.a.createElement(D.a,{"aria-label":"delete",className:r.margin,size:"small"},l.a.createElement(Yd.a,{fontSize:"inherit",onClick:e=>((e,a)=>{if(a<3)return;s(a),v(A-11)})(0,i-1)})),i," Usu\xe1rios",l.a.createElement(D.a,{"aria-label":"delete",className:r.margin,size:"small"},l.a.createElement(oi.a,{fontSize:"inherit",onClick:e=>((e,a)=>{if(a<3)return;s(a),v(A+11)})(0,i+1)})))),l.a.createElement("div",{className:r.custom},l.a.createElement(z.a,{component:"li",variant:"subtitle1",align:"center",key:12},l.a.createElement(D.a,{"aria-label":"delete",className:r.margin,size:"small"},l.a.createElement(Yd.a,{fontSize:"inherit",onClick:e=>((e,a)=>{if(a<3)return;d(a),v(A-20)})(0,c-1)})),c," Conex\xe3o",l.a.createElement(D.a,{"aria-label":"delete",className:r.margin,size:"small"},l.a.createElement(oi.a,{fontSize:"inherit",onClick:e=>((e,a)=>{if(a<3)return;d(a),v(A+20)})(0,c+1)}))))))),l.a.createElement(Qd.a,null,l.a.createElement(kt.a,{fullWidth:!0,variant:e.buttonVariant,color:"primary",onClick:()=>{e.custom?a("plan",JSON.stringify({users:i,connections:c,price:A})):a("plan",JSON.stringify(e)),t(o+1)}},e.buttonText)))))))}var Zd=Object(I.a)(e=>({listItem:{padding:e.spacing(1,0)},total:{fontWeight:"700"},title:{marginTop:e.spacing(2)}}));var _d=function(e){const{formValues:a}=e,t=Zd(),{plan:n}=a,o=JSON.parse(n),{users:r,connections:i,queues:s}=o;return l.a.createElement(ht.a,{item:!0,xs:12,sm:6},l.a.createElement(z.a,{variant:"h6",gutterBottom:!0,className:t.title},"Detalhes do plano"),l.a.createElement(z.a,{gutterBottom:!0},"Usu\xe1rios: ",r),l.a.createElement(z.a,{gutterBottom:!0},"Conex\xe3o: ",i),l.a.createElement(z.a,{gutterBottom:!0},"Filas: ",s),l.a.createElement(z.a,{gutterBottom:!0},"Cobran\xe7a: Mensal"))};var $d=function(e){const{formValues:a}=e,t=Zd(),{firstName:o,address2:r,city:i,zipcode:s,state:c,country:d,plan:m}=a,{user:u}=Object(n.useContext)(ua),p=JSON.parse(m),{price:g}=p;return l.a.createElement(ht.a,{item:!0,container:!0,direction:"column",xs:6,sm:12},l.a.createElement(z.a,{variant:"h6",gutterBottom:!0,className:t.title},"Informa\xe7\xe3o de pagamento"),l.a.createElement(ht.a,{container:!0},l.a.createElement(l.a.Fragment,null,l.a.createElement(ht.a,{item:!0,xs:6},l.a.createElement(z.a,{gutterBottom:!0},"Email:")),l.a.createElement(ht.a,{item:!0,xs:6},l.a.createElement(z.a,{gutterBottom:!0},u.email))),l.a.createElement(l.a.Fragment,null,l.a.createElement(ht.a,{item:!0,xs:6},l.a.createElement(z.a,{gutterBottom:!0},"Nome:")),l.a.createElement(ht.a,{item:!0,xs:6},l.a.createElement(z.a,{gutterBottom:!0},o))),l.a.createElement(l.a.Fragment,null,l.a.createElement(ht.a,{item:!0,xs:6},l.a.createElement(z.a,{gutterBottom:!0},"CPF/CNPJ:")),l.a.createElement(ht.a,{item:!0,xs:6},l.a.createElement(z.a,{gutterBottom:!0},s))),l.a.createElement(l.a.Fragment,null,l.a.createElement(ht.a,{item:!0,xs:6},l.a.createElement(z.a,{gutterBottom:!0},"Total:")),l.a.createElement(ht.a,{item:!0,xs:6},l.a.createElement(z.a,{gutterBottom:!0},"R$",g.toLocaleString("pt-br",{minimumFractionDigits:2}))))))};var em=function(){const{values:e}=Object(Ct.g)();return l.a.createElement(l.a.Fragment,null,l.a.createElement(z.a,{variant:"h6",gutterBottom:!0},"Resumo da assinatura"),l.a.createElement(ht.a,{container:!0,spacing:2},l.a.createElement(_d,{formValues:e}),l.a.createElement($d,{formValues:e})))},am=t(945),tm=t.n(am),nm=t(248);nm.default.div`
  footer {
    margin-top: 30px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;

    @media (max-width: 768px) {
      flex-direction: column;
      .checkout-buttons {
        display: flex;
        flex-direction: column-reverse;
        width: 100%;

        button {
          width: 100%;
          margin-top: 16px;
          margin-left: 0;
        }
      }
    }

    button {
      margin-left: 16px;
    }
  }
`;const lm=nm.default.div`
  display: flex;
  align-items: baseline;

  span {
    color: #333;
    font-weight: bold;
  }

  strong {
    color: #333;
    font-size: 28px;
    margin-left: 5px;
  }

  @media (max-width: 768px) {
    min-width: 100%;
    justify-content: space-between;
  }
`,om=nm.default.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;

  > h2 {
    text-align: center;
  }

  > svg {
    margin-top: 16px;
  }

  > span {
    margin-top: 24px;
    text-align: center;
  }

  > p,
  strong {
    margin-top: 8px;
    font-size: 9px;
    color: #999;
  }

  .copy-button {
    font-size: 14px;
    cursor: pointer;
    text-align: center;
    user-select: none;
    min-height: 56px;
    display: inline-flex;
    -webkit-box-pack: center;
    justify-content: center;
    -webkit-box-align: center;
    align-items: center;
    background-color: #f9f9f9;
    color: #000;
    -webkit-appearance: none !important;
    outline: none;
    margin-top: 16px;
    width: 256px;
    font-weight: 600;
    text-transform: uppercase;
    border: none;

    > span {
      margin-right: 8px;
    }
  }
`;nm.default.div`
  width: 100%;
  margin: 0 auto 0;
  max-width: 1110px;
  display: flex;
  flex-direction: column;
  -webkit-box-align: center;
  align-items: center;
  padding: 50px 95px;
  background: #fff;
  @media (max-width: 768px) {
    padding: 16px 24px;
`;var rm=t(948),im=t(689);const sm=Object(n.createContext)();var cm=function(e){var a;const{pix:t}=e,o=Object(n.useContext)(sm),[r]=Object(n.useState)((null===t||void 0===t||null===(a=t.qrcode)||void 0===a?void 0:a.qrcode)||""),[i]=Object(n.useState)(t.stripeURL),[s]=Object(n.useState)(t.asaasURL),[c]=Object(n.useState)(t.mercadopagoURL),[d]=Object(n.useState)(t.valorext),[m,u]=Object(n.useState)(!1),p=Object(O.useHistory)(),{dateToClient:g}=un(),{user:E,socket:b}=Object(n.useContext)(ua),f=E.companyId;return Object(n.useEffect)(()=>(b.on(`company-${f}-payment`,e=>{"CONCLUIDA"===e.action&&(S.b.success(`Sua licen\xe7a foi renovada at\xe9 ${g(e.company.dueDate)}!`),setTimeout(()=>{p.push("/")},4e3))}),()=>{b.disconnect()}),[p,g,o]),l.a.createElement(l.a.Fragment,null,l.a.createElement(lm,null,l.a.createElement("p",null,l.a.createElement("span",null,"TOTAL")),l.a.createElement("strong",null,"R$ ",d.toLocaleString("pt-br",{minimumFractionDigits:2}))),l.a.createElement(om,null,r&&l.a.createElement(l.a.Fragment,null,l.a.createElement(tm.a,{value:r}),l.a.createElement(rm.CopyToClipboard,{text:r,onCopy:()=>{setTimeout(()=>{u(!1)},1e3),u(!0)}},l.a.createElement("button",{className:"copy-button",type:"button"},m?l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,"Copiado"),l.a.createElement(im.a,{size:18})):l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,"Copiar c\xf3digo QR PIX"),l.a.createElement(im.b,{size:18})))),l.a.createElement("span",null,"Para finalizar, basta realizar o pagamento escaneando ou colando o c\xf3digo Pix acima ou escolha Pagar com Cart\xe3o de Cr\xe9dito abaixo."),l.a.createElement("span",null,l.a.createElement("p",null," "))),i&&l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{onClick:()=>window.open(i,"_blank"),type:"button",style:{color:"#3c6afb",background:"#ffffff",border:"1px solid #3c6afb",padding:"6px 16px",fontSize:"18px",minWidth:"50%",boxSizing:"border-box",transition:"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"500",lineHeight:"1.75",borderRadius:"4px",letterSpacing:"0.02857em",textTransform:"uppercase"}},"Pagar com Cart\xe3o de Cr\xe9dito"),l.a.createElement("span",null,l.a.createElement("p",null," "))),c&&l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{onClick:()=>window.open(c,"_blank"),type:"button",style:{color:"#3c6afb",background:"#ffffff",border:"1px solid #3c6afb",padding:"6px 16px",fontSize:"18px",minWidth:"50%",boxSizing:"border-box",transition:"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"500",lineHeight:"1.75",borderRadius:"4px",letterSpacing:"0.02857em",textTransform:"uppercase"}},"Pagar com MercadoPago"),l.a.createElement("span",null,l.a.createElement("p",null," "))),s&&l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{onClick:()=>window.open(s,"_blank"),type:"button",style:{color:"#3c6afb",background:"#ffffff",border:"1px solid #3c6afb",padding:"6px 16px",fontSize:"18px",minWidth:"50%",boxSizing:"border-box",transition:"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"500",lineHeight:"1.75",borderRadius:"4px",letterSpacing:"0.02857em",textTransform:"uppercase"}},"Pagar com Asaas"),l.a.createElement("span",null,l.a.createElement("p",null," ")))))},dm={formId:"checkoutForm",formField:{firstName:{name:"firstName",label:"Nome completo*",requiredErrorMsg:"O nome completo \xe9 obrigat\xf3rio"},lastName:{name:"lastName",label:"Last name*",requiredErrorMsg:"Last name is required"},address1:{name:"address2",label:"Endere\xe7o*",requiredErrorMsg:"O Endere\xe7o \xe9 obrigat\xf3rio"},city:{name:"city",label:"Cidade*",requiredErrorMsg:"Cidade \xe9 obrigat\xf3ria"},state:{name:"state",label:"Estado*",requiredErrorMsg:"Cidade \xe9 obrigat\xf3ria"},zipcode:{name:"zipcode",label:"CPF/CNPJ*",requiredErrorMsg:"CEP \xe9 obrigat\xf3rio",invalidErrorMsg:"Formato de CEP inv\xe1lido"},country:{name:"country",label:"Pa\xeds*",requiredErrorMsg:"Pa\xeds \xe9 obrigat\xf3rio"},useAddressForPaymentDetails:{name:"useAddressForPaymentDetails",label:"Use this address for payment details"},nameOnCard:{name:"nameOnCard",label:"Name on card*",requiredErrorMsg:"Name on card is required"},cardNumber:{name:"cardNumber",label:"Card number*",requiredErrorMsg:"Card number is required",invalidErrorMsg:"Card number is not valid (e.g. 4111111111111)"},expiryDate:{name:"expiryDate",label:"Expiry date*",requiredErrorMsg:"Expiry date is required",invalidErrorMsg:"Expiry date is not valid"},cvv:{name:"cvv",label:"CVV*",requiredErrorMsg:"CVV is required",invalidErrorMsg:"CVV is invalid (e.g. 357)"}}};const{formField:{firstName:mm,address1:um,city:pm,zipcode:gm,country:Em}}=dm;var bm=[xt.c().shape({[mm.name]:xt.e().required(""+mm.requiredErrorMsg),[gm.name]:xt.e().required(""+gm.requiredErrorMsg)})];const{formField:{firstName:fm,lastName:hm,address1:Am,city:vm,state:ym,zipcode:xm,country:Cm,useAddressForPaymentDetails:km,nameOnCard:wm,cardNumber:Tm,cvv:Om}}=dm;var Sm={[fm.name]:"",[hm.name]:"",[Am.name]:"",[vm.name]:"",[ym.name]:"",[xm.name]:"",[Cm.name]:"",[km.name]:!1,[wm.name]:"",[Tm.name]:"",[Om.name]:""},Mm=Object(I.a)(e=>({stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},wrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{position:"absolute",top:"50%",left:"50%"}}));var Im=function(e){const a=["Dados","Personalizar","Revisar"],{formId:t,formField:o}=dm,r=Mm(),[i,s]=Object(n.useState)(1),[c,d]=Object(n.useState)(null),[m,p]=Object(n.useState)(e.Invoice.id),g=bm[i],E=i===a.length-1,{user:b,socket:f}=Object(n.useContext)(ua);function h(){s(i-1)}return l.a.createElement(l.a.Fragment,null,l.a.createElement(z.a,{component:"h1",variant:"h4",align:"center"},"Falta pouco!"),l.a.createElement(ds.a,{activeStep:i,className:r.stepper},a.map(e=>l.a.createElement(ms.a,{key:e},l.a.createElement(us.a,null,e)))),l.a.createElement(l.a.Fragment,null,i===a.length?l.a.createElement(cm,{pix:c}):l.a.createElement(Ct.e,{initialValues:{...b,...Sm},validationSchema:g,onSubmit:function(e,a){E?async function(e,a){try{const t=JSON.parse(e.plan),n={firstName:e.firstName,lastName:e.lastName,address2:e.address2,city:e.city,state:e.state,zipcode:e.zipcode,country:e.country,useAddressForPaymentDetails:e.useAddressForPaymentDetails,nameOnCard:e.nameOnCard,cardNumber:e.cardNumber,cvv:e.cvv,plan:e.plan,price:t.price,users:t.users,connections:t.connections,invoiceId:m},{data:l}=await u.post("/subscription",n);console.log(l),d(l),a.setSubmitting(!1),s(i+1),S.b.success("Assinatura realizada com sucesso!, aguardando a realiza\xe7\xe3o do pagamento")}catch(t){oa(t)}}(e,a):(s(i+1),a.setTouched({}),a.setSubmitting(!1))}},e=>{let{isSubmitting:a,setFieldValue:n,values:c}=e;return l.a.createElement(Ct.d,{id:t},function(e,a,t,n){switch(e){case 0:return l.a.createElement(Ud,{formField:o,values:n,setFieldValue:a});case 1:return l.a.createElement(Jd,{formField:o,setFieldValue:a,setActiveStep:t,activeStep:e,invoiceId:m,values:n});case 2:return l.a.createElement(em,null);default:return l.a.createElement("div",null,"Not Found")}}(i,n,s,c),l.a.createElement("div",{className:r.buttons},1!==i&&0!==i&&l.a.createElement(kt.a,{onClick:h,className:r.button},"VOLTAR"),l.a.createElement("div",{className:r.wrapper},1!==i&&l.a.createElement(kt.a,{disabled:a,type:"submit",variant:"contained",color:"primary",className:r.button},E?"PAGAR":"PR\xd3XIMO"),a&&l.a.createElement(It.a,{size:24,className:r.buttonProgress}))))})))};const jm=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var Nm=e=>{let{open:a,onClose:t,Invoice:o,contactId:r,initialValues:i,onSave:s}=e;const c=jm(),d=Object(n.useRef)(!0);Object(n.useEffect)(()=>()=>{d.current=!1},[]);return l.a.createElement("div",{className:c.root},l.a.createElement(Tt.a,{open:a,onClose:()=>{t()},maxWidth:"md",scroll:"paper"},l.a.createElement(St.a,{dividers:!0},l.a.createElement(Im,{Invoice:o}))))};const Rm=(e,a)=>{if("LOAD_INVOICES"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_USERS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_USER"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},Fm=Object(I.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var Pm=()=>{const e=Fm(),[a,t]=Object(n.useState)(!1),[o,r]=Object(n.useState)(1),[i,s]=Object(n.useState)(!1),[c]=Object(n.useState)(""),[d,m]=Object(n.useReducer)(Rm,[]),[p,g]=l.a.useState([]),[E,b]=Object(n.useState)(null),[f,h]=Object(n.useState)(!1);Object(n.useEffect)(()=>{m({type:"RESET"}),r(1)},[c]),Object(n.useEffect)(()=>{t(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("/invoices/all",{params:{searchParam:c,pageNumber:o}});m({type:"LOAD_INVOICES",payload:e}),s(e.hasMore),t(!1)}catch(e){oa(e)}})()},500);return()=>clearTimeout(e)},[c,o]);const A=e=>{const a=da()(da()()).format("DD/MM/yyyy"),t=da()(e.dueDate).format("DD/MM/yyyy");var n=da()(t,"DD/MM/yyyy").diff(da()(a,"DD/MM/yyyy"));if(da.a.duration(n).asDays()<0&&"paid"!==e.status)return{backgroundColor:"#ffbcbc9c"}},v=e=>{const a=da()(da()()).format("DD/MM/yyyy"),t=da()(e.dueDate).format("DD/MM/yyyy");var n=da()(t,"DD/MM/yyyy").diff(da()(a,"DD/MM/yyyy")),l=da.a.duration(n).asDays();return"paid"===e.status?"Pago":l<0?"Vencido":"Em Aberto"};return l.a.createElement(Bc,null,l.a.createElement(Nm,{open:f,onClose:()=>{b(null),h(!1)},"aria-labelledby":"form-dialog-title",Invoice:p,contactId:E}),l.a.createElement(qc,null,l.a.createElement(Uc,null,"Faturas (",d.length,")")),l.a.createElement(Bt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!i||a)return;const{scrollTop:t,scrollHeight:n,clientHeight:l}=e.currentTarget;n-(t+100)<l&&r(e=>e+1)}},l.a.createElement(Gn.a,{size:"small"},l.a.createElement(Jn.a,null,l.a.createElement(Zn.a,null,l.a.createElement(Yn.a,{align:"center"},"Detalhes"),l.a.createElement(Yn.a,{align:"center"},"Usu\xe1rios"),l.a.createElement(Yn.a,{align:"center"},"Conex\xf5es"),l.a.createElement(Yn.a,{align:"center"},"Filas"),l.a.createElement(Yn.a,{align:"center"},"Valor"),l.a.createElement(Yn.a,{align:"center"},"Data Venc."),l.a.createElement(Yn.a,{align:"center"},"Status"),l.a.createElement(Yn.a,{align:"center"},"A\xe7\xe3o"))),l.a.createElement(Kn.a,null,l.a.createElement(l.a.Fragment,null,d.map(e=>l.a.createElement(Zn.a,{style:A(e),key:e.id},l.a.createElement(Yn.a,{align:"center"},e.detail),l.a.createElement(Yn.a,{align:"center"},e.users),l.a.createElement(Yn.a,{align:"center"},e.connections),l.a.createElement(Yn.a,{align:"center"},e.queues),l.a.createElement(Yn.a,{style:{fontWeight:"bold"},align:"center"},e.value.toLocaleString("pt-br",{style:"currency",currency:"BRL"})),l.a.createElement(Yn.a,{align:"center"},da()(e.dueDate).format("DD/MM/YYYY")),l.a.createElement(Yn.a,{style:{fontWeight:"bold"},align:"center"},v(e)),l.a.createElement(Yn.a,{align:"center"},"Pago"!==v(e)?l.a.createElement(kt.a,{size:"small",variant:"outlined",color:"secondary",onClick:()=>(e=>{g(e),b(null),h(!0)})(e)},"PAGAR"):l.a.createElement(kt.a,{size:"small",variant:"outlined"},"PAGO")))),a&&l.a.createElement(Vc,{columns:4}))))))},Dm=t(99),Lm=t.n(Dm),Bm=t(77),Wm=t.n(Bm),qm=t(1683);const zm=w(),Hm=(e,a)=>{if("LOAD_USERS"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_USERS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_USER"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},Um=Object(I.a)(e=>({mainPaper:{flex:1,padding:e.spacing(2),overflowY:"scroll",...e.scrollbarStyles},userAvatar:{width:e.spacing(6),height:e.spacing(6)},avatarDiv:{display:"flex",alignItems:"center",justifyContent:"center"},loadingContainer:{display:"flex",justifyContent:"center",alignItems:"center",padding:e.spacing(3)},loadingText:{marginLeft:e.spacing(2)}}));var Qm=()=>{const e=Um(),[a,t]=Object(n.useState)(!1),[o,r]=Object(n.useState)(!1),[i,s]=Object(n.useState)(1),[c,d]=Object(n.useState)(!1),[m,p]=Object(n.useState)(null),[g,E]=Object(n.useState)(null),[b,f]=Object(n.useState)(!1),[h,A]=Object(n.useState)(!1),[v,y]=Object(n.useState)(""),[x,C]=Object(n.useReducer)(Hm,[]),{user:k,socket:w}=Object(n.useContext)(ua),{profileImage:T}=k;Object(n.useEffect)(()=>{C({type:"RESET"}),s(1)},[v]),Object(n.useEffect)(()=>{t(!0);(async()=>{try{const{data:e}=await u.get("/users/",{params:{searchParam:v,pageNumber:i}});C({type:"LOAD_USERS",payload:e.users}),d(e.hasMore)}catch(e){oa(e)}finally{t(!1),r(!1)}})()},[v,i]),Object(n.useEffect)(()=>{if(k){const e=k.companyId,a=e=>{"update"!==e.action&&"create"!==e.action||C({type:"UPDATE_USERS",payload:e.user}),"delete"===e.action&&C({type:"DELETE_USER",payload:+e.userId})};return w.on(`company-${e}-user`,a),()=>{w.off(`company-${e}-user`,a)}}},[w]);return l.a.createElement(Bc,null,l.a.createElement(Ir,{title:g&&`${aa.a.t("users.confirmationModal.deleteTitle")} ${g.name}?`,open:h,onClose:()=>A(!1),onConfirm:()=>(async e=>{try{await u.delete("/users/"+e),S.b.success(aa.a.t("users.toasts.deleted"))}catch(a){oa(a)}E(null),y(""),s(1)})(g.id)},aa.a.t("users.confirmationModal.deleteMessage")),l.a.createElement(_t,{open:b,onClose:()=>{p(null),f(!1)},"aria-labelledby":"form-dialog-title",userId:m&&m.id}),"user"===k.profile?l.a.createElement(Tl,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(qc,null,l.a.createElement(Uc,null,aa.a.t("users.title")," (",x.length,")"),l.a.createElement(Hc,null,l.a.createElement(wt.a,{placeholder:aa.a.t("contacts.searchPlaceholder"),type:"search",value:v,onChange:e=>{y(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(fc.a,{position:"start"},l.a.createElement(Lm.a,{style:{color:"gray"}}))}}),l.a.createElement(kt.a,{variant:"contained",color:"primary",onClick:()=>{p(null),f(!0)}},aa.a.t("users.buttons.add")))),l.a.createElement(Bt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!c||a)return;const{scrollTop:t,scrollHeight:n,clientHeight:l}=e.currentTarget;n-(t+100)<l&&(r(!0),s(e=>e+1))}},l.a.createElement(Gn.a,{size:"small"},l.a.createElement(Jn.a,null,l.a.createElement(Zn.a,null,l.a.createElement(Yn.a,{align:"center"},aa.a.t("users.table.ID")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("users.table.status")),l.a.createElement(Yn.a,{align:"center"},"Avatar"),l.a.createElement(Yn.a,{align:"center"},aa.a.t("users.table.name")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("users.table.email")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("users.table.profile")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("users.table.startWork")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("users.table.endWork")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("users.table.actions")))),l.a.createElement(Kn.a,null,l.a.createElement(l.a.Fragment,null,x.map(a=>l.a.createElement(Zn.a,{key:a.id},l.a.createElement(Yn.a,{align:"center"},a.id),l.a.createElement(Yn.a,{align:"center"},l.a.createElement(Fo,{user:a})),l.a.createElement(Yn.a,{align:"center"},l.a.createElement("div",{className:e.avatarDiv},(a=>a.id===k.id?l.a.createElement(R.a,{src:`${zm}/public/company${a.companyId}/user/${T||Pt.a}`,alt:a.name,className:e.userAvatar}):a.id!==k.id?l.a.createElement(R.a,{src:a.profileImage?`${zm}/public/company${a.companyId}/user/${a.profileImage}`:Pt.a,alt:a.name,className:e.userAvatar}):l.a.createElement(qm.a,null))(a))),l.a.createElement(Yn.a,{align:"center"},a.name),l.a.createElement(Yn.a,{align:"center"},a.email),l.a.createElement(Yn.a,{align:"center"},a.profile),l.a.createElement(Yn.a,{align:"center"},a.startWork),l.a.createElement(Yn.a,{align:"center"},a.endWork),l.a.createElement(Yn.a,{align:"center"},l.a.createElement(D.a,{size:"small",onClick:()=>(e=>{p(e),f(!0)})(a)},l.a.createElement(Wm.a,null)),l.a.createElement(D.a,{size:"small",onClick:e=>{A(!0),E(a)}},l.a.createElement(ao.a,null))))),o&&l.a.createElement(Zn.a,null,l.a.createElement(Yn.a,{colSpan:9,align:"center"},l.a.createElement(It.a,null)))))),a&&!o&&l.a.createElement("div",{className:e.loadingContainer},l.a.createElement(It.a,null),l.a.createElement("span",{className:e.loadingText},aa.a.t("loading"))))))},Vm=t(949),Gm=t.n(Vm),Km=t(552),Ym=t.n(Km),Xm=t(1684),Jm=t(1685),Zm=t(1686);const _m=Object(I.a)(e=>({multFieldLine:{display:"flex",marginTop:8},uploadInput:{display:"none"},btns:{margin:15},label:{padding:18,width:"100%",textTransform:"uppercase",display:"block",marginTop:10,border:"solid 2px grey",textAlign:"center",cursor:"pointer",borderRadius:8}}));var $m=e=>{let{isOpen:a,handleClose:t,selectedTags:o,hideNum:r,userProfile:i}=e;const s=_m(),{user:c}=Object(n.useContext)(ua),d=Object(ld.useHistory)(),m={name:"",number:"",error:""},[p,g]=Object(n.useState)([]),[E,b]=Object(n.useState)(""),[f,h]=Object(n.useState)(m),A=()=>{g([]),b(""),h(m),t()};Object(n.useEffect)(()=>{console.log(null===p||void 0===p?void 0:p.length),(null===p||void 0===p?void 0:p.length)&&p.map(async(e,a)=>{setTimeout(async()=>{try{a>=(null===p||void 0===p?void 0:p.length)-1&&(b("importa\xe7\xe3o conclu\xedda com exito a importa\xe7\xe3o"),h(m),setTimeout(()=>{A()},15e3)),a%5===0&&b(`importa\xe7\xe3o em andamento ${a} de ${null===p||void 0===p?void 0:p.length} n\xe3o saia desta tela at\xe9 concluir a importa\xe7\xe3o`),console.log("antes do import: ",e[0]),await u.post("/contactsImport",{name:e.name,number:e.number.toString(),email:e.email}),h({name:e.name,number:e.number,error:"success"})}catch(t){h({name:e.name,number:e.number,error:t})}},330*a)})},[p]);const v=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const a=[];let t=1;if(e)a.push({name:"Jo\xe3o",number:"5599999999999",email:""});else for(;0!==t;){const{data:e}=await u.get("/contacts/",{params:{searchParam:"",pageNumber:t,contactTag:JSON.stringify(o)}});console.log(e),e.contacts.forEach(e=>{var t;const n=null===e||void 0===e||null===(t=e.tags)||void 0===t?void 0:t.map(e=>null===e||void 0===e?void 0:e.name).join(", "),l={...e,tags:n};a.push(l)});t++,t>(null===e||void 0===e?void 0:e.count)/20&&(t=0)}const n=a.map(e=>({name:e.name,number:r&&"user"===i?e.isGroup?e.number:e.number.slice(0,-6)+"**-**"+e.number.slice(-2):e.number,email:e.email,tags:e.tags}));let l=Vn.b.book_new(),s=Vn.b.json_to_sheet(n);Vn.b.book_append_sheet(l,s,"Contatos"),Vn.c(l,"backup_contatos.xlsx")};return l.a.createElement(Tt.a,{fullWidth:!0,open:a,onClose:A},l.a.createElement(Mt.a,null,aa.a.t("Exportar / Importar contatos")),l.a.createElement("div",null,l.a.createElement(Gt.a,{style:{padding:"0px 10px 10px"}},l.a.createElement(Aa,{role:c.profile,perform:"contacts-page:deleteContact",yes:()=>l.a.createElement("div",{className:s.multFieldLine},l.a.createElement(kt.a,{fullWidth:!0,size:"small",color:"primary",variant:"contained",onClick:()=>v(!1)},aa.a.t("contactImportWpModal.title")))}),l.a.createElement("div",{className:s.multFieldLine},l.a.createElement(kt.a,{fullWidth:!0,size:"small",color:"primary",variant:"contained",onClick:()=>v(!0)},aa.a.t("contactImportWpModal.buttons.downloadModel"))),l.a.createElement("div",{className:s.multFieldLine},l.a.createElement(kt.a,{fullWidth:!0,size:"small",color:"primary",variant:"contained",onClick:()=>(async()=>{try{d.push("/contacts/import")}catch(e){oa(e)}})()},aa.a.t("contactImportWpModal.buttons.import"))))),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:t,color:"primary"},aa.a.t("contactImportWpModal.buttons.closed"))))};const eu=(e,a)=>{if("LOAD_CONTACTS"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_CONTACTS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_CONTACT"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},au=Object(I.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var tu=()=>{const e=au(),a=Object(O.useHistory)(),{user:t,socket:o}=Object(n.useContext)(ua),[r,i]=Object(n.useState)(!1),[s,c]=Object(n.useState)(1),[d,m]=Object(n.useState)(""),[p,g]=Object(n.useReducer)(eu,[]),[E,b]=Object(n.useState)(null),[f,h]=Object(n.useState)(!1),[A,v]=Object(n.useState)(!1),[y,x]=Object(n.useState)(null),[C,k]=Object(n.useState)(null),[w,T]=Object(n.useState)(null),[M,I]=Object(n.useState)(null),[j,N]=Object(n.useState)(!1),[F,P]=Object(n.useState)(!1),[L,B]=Object(n.useState)(!1),[W,q]=Object(n.useState)(!1),[z,H]=Object(n.useState)(!1),[V,G]=Object(n.useState)({}),K=Object(n.useRef)(null),[Y,X]=Object(n.useState)([]),{setCurrentTicket:J}=Object(n.useContext)(et),[Z,_]=Object(n.useState)(),{getAll:$}=ct(),[ee,ae]=Object(n.useState)(!1),[te,ne]=Object(n.useState)(!1);Object(n.useEffect)(()=>{!async function(){const e=await $(t.companyId);for(const[a,t]of Object.entries(e))"enableLGPD"===a&&ne("enabled"===t),"lgpdHideNumber"===a&&ae("enabled"===t)}()},[]);Object(n.useEffect)(()=>{g({type:"RESET"}),c(1)},[d,Y]),Object(n.useEffect)(()=>{i(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("/contacts/",{params:{searchParam:d,pageNumber:s,contactTag:JSON.stringify(Y)}});g({type:"LOAD_CONTACTS",payload:e.contacts}),q(e.hasMore),i(!1)}catch(e){oa(e)}})()},500);return()=>clearTimeout(e)},[d,s,Y]),Object(n.useEffect)(()=>{const e=t.companyId,a=e=>{"update"!==e.action&&"create"!==e.action||g({type:"UPDATE_CONTACTS",payload:e.contact}),"delete"===e.action&&g({type:"DELETE_CONTACT",payload:+e.contactId})};return o.on(`company-${e}-contact`,a),()=>{o.off(`company-${e}-contact`,a)}},[o]);const le=e=>{H(!1),void 0!==e&&void 0!==e.uuid&&((e=>{const a=Object(Da.a)(),{id:t,uuid:n}=e;J({id:t,uuid:n,code:a})})(e),a.push("/tickets/"+e.uuid))};return l.a.createElement(Bc,{className:e.mainContainer},l.a.createElement(Ao,{modalOpen:z,initialContact:V,onClose:e=>{le(e)}}),l.a.createElement(oo,{open:f,onClose:()=>{b(null),h(!1)},"aria-labelledby":"form-dialog-title",contactId:E}),l.a.createElement(Ir,{title:y?`${aa.a.t("contacts.confirmationModal.deleteTitle")} ${y.name}?`:w?`Bloquear Contato ${w.name}?`:M?`Desbloquear Contato ${M.name}?`:C?""+aa.a.t("contacts.confirmationModal.importTitlte"):""+aa.a.t("contactListItems.confirmationModal.importTitlte"),onSave:e=>{_(e)},isCellPhone:C,open:j,onClose:N,onConfirm:e=>y?(async e=>{try{await u.delete("/contacts/"+e),S.b.success(aa.a.t("contacts.toasts.deleted"))}catch(a){oa(a)}x(null),m(""),c(1)})(y.id):w?(async e=>{try{await u.put("/contacts/block/"+e,{active:!1}),S.b.success("Contato bloqueado")}catch(a){oa(a)}x(null),m(""),c(1),T(null)})(w.id):M?(async e=>{try{await u.put("/contacts/block/"+e,{active:!0}),S.b.success("Contato desbloqueado")}catch(a){oa(a)}x(null),m(""),c(1),I(null)})(M.id):C?(async()=>{v(!1);try{await u.post("/contacts/import",{whatsappId:Z}),a.go(0),v(!1)}catch(e){oa(e),v(!1)}})():(async()=>{try{const e=new FormData;e.append("file",K.current.files[0]),await u.request({url:"/contacts/upload",method:"POST",data:e}),a.go(0)}catch(e){oa(e)}})()},F?""+aa.a.t("contacts.confirmationModal.exportContact"):y?""+aa.a.t("contacts.confirmationModal.deleteMessage"):w?""+aa.a.t("contacts.confirmationModal.blockContact"):M?""+aa.a.t("contacts.confirmationModal.unblockContact"):C?"Escolha de qual conex\xe3o deseja importar":""+aa.a.t("contactListItems.confirmationModal.importMessage")),l.a.createElement(Ir,{title:aa.a.t("contacts.confirmationModal.importChat"),open:L,onClose:B,onConfirm:e=>(async()=>{console.log("handleimportChats");try{await u.post("/contacts/import/chats"),a.go(0)}catch(e){oa(e)}})()},aa.a.t("contacts.confirmationModal.wantImport")),l.a.createElement(qc,null,l.a.createElement(Uc,null,aa.a.t("contacts.title")," (",p.length,")"),l.a.createElement(Hc,null,l.a.createElement(er,{onFiltered:e=>{const a=e.map(e=>e.id);X(a)}}),l.a.createElement(wt.a,{placeholder:aa.a.t("contacts.searchPlaceholder"),type:"search",value:d,onChange:e=>{m(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(fc.a,{position:"start"},l.a.createElement(Lm.a,{color:"secondary"}))}}),l.a.createElement(Tc.a,{variant:"popover",popupId:"demo-popup-menu"},e=>l.a.createElement(l.a.Fragment,null,l.a.createElement(kt.a,Object.assign({variant:"contained",color:"primary"},Object(wc.bindTrigger)(e)),"Importar / Exportar",l.a.createElement(Xm.a,null)),l.a.createElement(U.a,Object(wc.bindMenu)(e),l.a.createElement(Q.a,{onClick:()=>{N(!0),k(!0),e.close()}},l.a.createElement(Jm.a,{fontSize:"small",color:"primary",style:{marginRight:10}}),aa.a.t("contacts.menu.importYourPhone")),l.a.createElement(Q.a,{onClick:()=>{v(!0)}},l.a.createElement(Zm.a,{fontSize:"small",color:"primary",style:{marginRight:10}}),aa.a.t("contacts.menu.importToExcel"))))),l.a.createElement(kt.a,{variant:"contained",color:"primary",onClick:()=>{b(null),h(!0)}},aa.a.t("contacts.buttons.add")))),A&&l.a.createElement($m,{isOpen:A,handleClose:()=>v(!1),selectedTags:Y,hideNum:ee,userProfile:t.profile}),l.a.createElement(Bt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!W||r)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&c(e=>e+1)}},l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{style:{display:"none"},id:"upload",name:"file",type:"file",accept:".xls,.xlsx",onChange:()=>{N(!0)},ref:K})),l.a.createElement(Gn.a,{size:"small"},l.a.createElement(Jn.a,null,l.a.createElement(Zn.a,null,l.a.createElement(Yn.a,{padding:"checkbox"}),l.a.createElement(Yn.a,null,aa.a.t("contacts.table.name")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("contacts.table.whatsapp")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("contacts.table.email")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("contacts.table.whatsapp")),l.a.createElement(Yn.a,{align:"center"},"Status"),l.a.createElement(Yn.a,{align:"center"},aa.a.t("contacts.table.actions")))),l.a.createElement(Kn.a,null,l.a.createElement(l.a.Fragment,null,p.map(e=>{var a,n,o;return l.a.createElement(Zn.a,{key:e.id},l.a.createElement(Yn.a,{style:{paddingRight:0}},l.a.createElement(R.a,{src:""+(null===e||void 0===e?void 0:e.urlPicture)})),l.a.createElement(Yn.a,null,e.name),l.a.createElement(Yn.a,{align:"center"},te&&ee&&"user"===t.profile?e.isGroup?e.number:null===Er(null===e||void 0===e?void 0:e.number)?e.number.slice(0,-6)+"**-**"+(null===e||void 0===e?void 0:e.number.slice(-2)):(null===(a=Er(null===e||void 0===e?void 0:e.number))||void 0===a?void 0:a.slice(0,-6))+"**-**"+(null===e||void 0===e||null===(n=e.number)||void 0===n?void 0:n.slice(-2)):e.isGroup?e.number:Er(null===e||void 0===e?void 0:e.number)),l.a.createElement(Yn.a,{align:"center"},e.email),l.a.createElement(Yn.a,null,null===e||void 0===e||null===(o=e.whatsapp)||void 0===o?void 0:o.name),l.a.createElement(Yn.a,{align:"center"},e.active?l.a.createElement(qa.a,{style:{color:"green"},fontSize:"small"}):l.a.createElement(Gm.a,{style:{color:"red"},fontSize:"small"})),l.a.createElement(Yn.a,{align:"center"},l.a.createElement(D.a,{size:"small",disabled:!e.active,onClick:()=>{G(e),H(!0)}},"whatsapp"===e.channel&&l.a.createElement(so.a,{style:{color:"green"}}),"instagram"===e.channel&&l.a.createElement(io.a,{style:{color:"purple"}}),"facebook"===e.channel&&l.a.createElement(ro.a,{style:{color:"blue"}})),l.a.createElement(D.a,{size:"small",onClick:()=>{return a=e.id,b(a),void h(!0);var a}},l.a.createElement(Wm.a,{color:"secondary"})),l.a.createElement(D.a,{size:"small",onClick:e.active?()=>{N(!0),T(e)}:()=>{N(!0),I(e)}},e.active?l.a.createElement(Ym.a,{color:"secondary"}):l.a.createElement(qa.a,{color:"secondary"})),l.a.createElement(Aa,{role:t.profile,perform:"contacts-page:deleteContact",yes:()=>l.a.createElement(D.a,{size:"small",onClick:a=>{N(!0),x(e)}},l.a.createElement(ao.a,{color:"secondary"}))})))}),r&&l.a.createElement(Vc,{avatar:!0,columns:6}))))))},nu=t(979),lu=t(1453),ou=t.p+"static/media/upload.c42899bb.gif";function ru(){const{innerWidth:e,innerHeight:a}=window;return{width:e,height:a}}const iu=Ut()(e=>({xlsTable:{width:"100%"},tableContainer:{flex:1,padding:1,overflowX:"auto",overflowY:"scroll",...e.scrollbarStyles},actions:{padding:2,border:"1px solid #CCC",boxShadow:"1px 1px 5px #CCC",marginTop:2,display:"flex",justifyContent:"center"},importOptions:{padding:2,border:"1px solid #CCC",boxShadow:"1px 1px 5px #CCC",marginTop:2,marginBottom:2},error:{color:"red",marginTop:1},buttonImport:{marginRight:1},select:{minWidth:200},backButtonContainer:{textAlign:"center",marginTop:20}}));var su=()=>{const e=function(){const[e,a]=Object(n.useState)(ru());return Object(n.useEffect)(()=>{function e(){a(ru())}return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e}(),[a,t]=Object(n.useState)(null),[o,r]=Object(n.useState)(null),i=iu(),s=Object(O.useHistory)(),[c,d]=Object(n.useState)([]),[m,p]=Object(n.useState)({}),[g,E]=Object(n.useState)({}),[b,f]=Object(n.useState)(!1),[h,A]=Object(n.useState)({}),[v,y]=Object(n.useState)(!1),[x,C]=Object(n.useState)(null),[k,w]=Object(n.useState)(0),[T,M]=Object(n.useState)(0),[I,j]=Object(n.useState)(!1),[N,R]=Object(n.useState)(!1),[F,P]=Object(n.useState)({}),[D,L]=Object(n.useState)(!1),B=[{id:"name",label:"Nome",required:!0},{id:"number",label:"N\xfamero",required:!0},{id:"email",label:"E-mail",required:!1},{id:"tags",label:"Tags",required:!1}];Object(n.useEffect)(()=>{d(B)},[]);const W=e=>{const a=e.target.value,t=e.target.name;if(m[t]){const e=m[t];E(a=>{const t={...a};return delete t[e],t})}if(""===a)return p(e=>{const a={...e};return delete a[t],a}),void A(e=>{const a={...e};return Object.keys(a).forEach(e=>{a[e]===t&&delete a[e]}),a});g[a]?oa(`O campo ${a} j\xe1 foi selecionado.`):(A(e=>({...e,[a]:t})),E(e=>({...e,[a]:t})),p(e=>({...e,[t]:a})))},q=()=>l.a.createElement(Xn.a,{className:i.tableContainer,style:{height:.75*e.height}},l.a.createElement(Gn.a,{stickyHeader:!0},l.a.createElement(Jn.a,{key:o.length},l.a.createElement(Zn.a,null,l.a.createElement(Yn.a,null,l.a.createElement("input",{type:"checkbox",checked:Object.keys(F).length===a.length-1,onChange:e=>{const t={};if(e.target.checked)for(let n=1;n<a.length;n++)t[n]=!0;P(t)}})),o.map(e=>l.a.createElement(Yn.a,{key:e.key},e.name))),l.a.createElement(Zn.a,null,l.a.createElement(Yn.a,null),o.map(e=>l.a.createElement(Yn.a,{key:e.key},(e=>l.a.createElement(jt.a,{value:m[e.key],name:e.key,onChange:W},l.a.createElement(Q.a,{value:""},"\xa0"),c.map(e=>l.a.createElement(Q.a,{value:e.id},e.label))))(e))))),l.a.createElement(Kn.a,null,a.map((e,a)=>l.a.createElement(Zn.a,{key:a},0!==a&&l.a.createElement(Yn.a,null,l.a.createElement("input",{type:"checkbox",checked:!!F[a],onChange:()=>{P(e=>({...e,[a]:!e[a]}))}})),0!==a&&e.map((e,a)=>l.a.createElement(Yn.a,{key:a},e))))))),{getRootProps:z,getInputProps:H}=Object(nu.a)({onDrop:e=>{if(0===e.length)return;f(!0),y(!1),R(!1),j(!1);const a=e[0],n=new FileReader;n.onload=function(e){try{const a=e.target.result,n=Object(Vn.a)(a),l=n.Sheets[n.SheetNames[0]],{rows:o,columns:i}=function(e){const a=Vn.b.sheet_to_json(e,{header:1,defval:""}),t=Vn.b.decode_range(e["!ref"]||"A1");return{rows:a,columns:Array.from({length:t.e.c+1},(e,a)=>({key:String(a),name:Vn.b.encode_col(a)}))}}(l);t(o),r(i),f(!1)}catch(e){console.error(e),y(!0),f(!1)}},n.readAsArrayBuffer(a)},maxFiles:1});return l.a.createElement("div",{style:{alignContent:"center"}},N&&l.a.createElement("div",null,l.a.createElement("ul",null,l.a.createElement("li",null,k," contatos criados"),l.a.createElement("li",null,T," contatos ignorados (n\xfamero inv\xe1lido ou n\xe3o marcados para atualizar)"))),b&&l.a.createElement("div",null,"Processando arquivo..."),v&&l.a.createElement("div",null,"Arquivo inv\xe1lido!"),!N&&a&&o?l.a.createElement("div",null,l.a.createElement("div",{className:i.importOptions},l.a.createElement(lu.a,{row:!0,style:{width:"100%",display:"flex",justifyContent:"space-around"}},l.a.createElement(Bi.a,{control:l.a.createElement(Nl.a,{checked:D,onChange:e=>L(e.target.checked),color:"primary"}),label:"Validar contatos no WhatsApp"}))),q(),l.a.createElement("div",{className:i.actions},I&&l.a.createElement("div",null,"Importando... Aguarde"),l.a.createElement(kt.a,{variant:"contained",color:"primary",disabled:I,className:i.buttonImport,onClick:()=>(async()=>{if(j(!0),console.log(h),!h.number)return oa("N\xe3o foi selecionado o campo de n\xfamero do contato"),void j(!1);if(!h.name)return oa("N\xe3o foi selecionado o campo de nome do contato"),void j(!1);if(0===Object.keys(F).length)return oa("Nenhum contato selecionado"),void j(!1);if((null===a||void 0===a?void 0:a.length)>1){for(let e=1;e<a.length;e++)if(F[e]){const t=a[e],n={};for(let e=0;e<o.length;e++){const a=o[e],l=m[a.key];l&&(n[l]=t[e])}if(B.some(e=>e.required&&!n[e.id])){M(e=>e+1);continue}try{200===(await u.post("/contactsImport",{...n,validateContact:D?"true":"false"})).status?w(e=>e+1):M(e=>e+1)}catch(x){M(e=>e+1)}}L(!1),P({}),R(!0),j(!1),0===T?S.b.success("Importa\xe7\xe3o realizada com sucesso"):S.b.alert("Importa\xe7\xe3o realizada com sucesso, mas houveram alguns erros")}})()},"Importar contatos"),l.a.createElement(kt.a,{variant:"contained",color:"secondary",disabled:I,onClick:()=>{t(null),r(null)}},"Cancelar"),x&&l.a.createElement("div",{className:i.error},x))):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",Object.assign({},z(),{className:"uploaderDrop",style:{borderRadius:20,maxWidth:500,margin:"20px auto",border:"3px dotted #ddd",padding:20,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}}),l.a.createElement("img",{src:ou,height:200,alt:"Upload"}),l.a.createElement("h5",null,"Clique ou arraste um arquivo"),l.a.createElement("p",{style:{color:"#e74c3c",fontWeight:"bold",textAlign:"center"}},"* Importante: Arquivos somente com extens\xf5es s\xe3o aceitas: xls, xslx, csv, txt")),l.a.createElement("input",H()),l.a.createElement("div",{className:i.backButtonContainer},l.a.createElement(kt.a,{variant:"contained",color:"secondary",disabled:I,onClick:async()=>{try{s.push("/contacts")}catch(e){oa(e)}}},"Voltar"))))};const cu=Object(I.a)(e=>({mainPaper:{flex:1,padding:1,borderRadius:0,overflowY:"scroll",padding:1,...e.scrollbarStylesSoftBig}}));var du=()=>{const e=cu();return l.a.createElement(Bc,{className:e.mainContainer},l.a.createElement(qc,null,l.a.createElement(Uc,null,"Importar contatos de arquivo")),l.a.createElement(Bt.a,{className:e.mainPaper,variant:"outlined"},l.a.createElement(su,null)))},mu=t(1688),uu=t(1689),pu=t(1687);const gu=w(),Eu=Object(I.a)(e=>({main:{display:"flex",justifyContent:"space-between"},container:{display:"flex",flexWrap:"wrap",overflowY:"scroll",...e.scrollbarStyles},cardHeader:{width:"380px",height:"78px",padding:10,backgroundColor:"#DCDCDC"},cardHeaderPending:{width:"380px",height:"78px",padding:10,backgroundColor:"#C0C0C0"},card:{height:"300px",width:"380px",margin:"3px",borderRadius:5,flex:1,maxHeight:"100%",overflowY:"scroll",...e.scrollbarStyles,borderTop:"2px solid rgba(0, 0, 0, 0.12)"},changeWarap:{width:"380px",padding:0,margin:0},pending:{color:pu.a[600],fontSize:"20px"},connectionTag:{background:"green",color:"#FFF",marginRight:1,padding:1,fontWeight:"bold",borderRadius:3,fontSize:"0.6em"},lastMessageTime:{justifySelf:"flex-end",textAlign:"right",position:"relative",marginRight:"1px",color:$n.a[400]},lastMessageTimeUnread:{justifySelf:"flex-end",textAlign:"right",position:"relative",color:"green",fontWeight:"bold",marginRight:"1px"},pending:{color:pu.a[600],fontSize:"20px"}}));var bu=()=>{const e=Eu(),a=Object(O.useHistory)(),{user:t,socket:o}=Object(n.useContext)(ua),[r,i]=Object(n.useState)([]),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(0),p=t.companyId,g=t.queues.map(e=>e.id),[E,b]=Object(n.useState)(g||[]);Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await u.get("/usersMoments");console.log(e),i(e),c(!s)}catch(a){var e;500!==(null===(e=a.response)||void 0===e?void 0:e.status)?oa(a):S.b.error(""+aa.a.t("frontEndErrors.getUsers"))}})()},[]),Object(n.useEffect)(()=>{const e=t.companyId;console.log("socket painel");const a=e=>{"create"!==e.action&&"update"!==e.action&&"delete"!==e.action||(async()=>{try{const{data:e}=await u.get("/usersMoments");i(e),c(!s)}catch(a){var e;500!==(null===(e=a.response)||void 0===e?void 0:e.status)?oa(a):S.b.error(""+aa.a.t("frontEndErrors.getUsers"))}})()};return o.on(`company-${e}-ticket`,a),o.on(`company-${e}-appMessage`,a),()=>{o.off(`company-${e}-ticket`,a),o.off(`company-${e}-appMessage`,a)}},[o]);const f=Object(n.useMemo)(()=>{if(r&&r.length>0){return r.reduce((e,a)=>{const t=a.user;if(t){const n=e.findIndex(e=>e.user.id===t.id);-1===n?e.push({user:t,userTickets:[a]}):e[n].userTickets.push(a)}return e},[]).map((o,r)=>{var i,s;return l.a.createElement(ht.a,{item:!0,key:r},l.a.createElement("div",{padding:20,className:e.main,key:r},l.a.createElement("div",{className:e.changeWarap},l.a.createElement(Bt.a,{elevation:3,className:e.cardHeader},l.a.createElement(vr.a,{style:{maxWidth:"380px",width:"100%"},avatar:l.a.createElement(R.a,{alt:""+o.user.profileImage,src:o.user.profileImage?`${gu}/public/company${p}/user/${o.user.profileImage}`:null}),title:l.a.createElement("span",null,(null===o||void 0===o||null===(i=o.user)||void 0===i?void 0:i.name)||"Pendentes"," ",l.a.createElement("br",null),"Atendimentos: "+(null===(s=o.userTickets)||void 0===s?void 0:s.length))})),l.a.createElement(Bt.a,{square:!0,elevation:1,className:e.card},o.userTickets.map(o=>{var r,i,s,c,d,m,u,p;return l.a.createElement(L.a,{style:{paddingTop:0},key:o.id},l.a.createElement(_.a,{dense:!0,button:!0},l.a.createElement(Ba.a,null,l.a.createElement(R.a,{alt:""+o.contact.urlPicture,src:""+o.contact.urlPicture})),l.a.createElement(ee.a,{disableTypography:!0,primary:(null===o||void 0===o||null===(r=o.contact)||void 0===r||null===(i=r.name)||void 0===i?void 0:i.length)>30?(null===o||void 0===o||null===(s=o.contact)||void 0===s?void 0:s.name.substring(0,25))+"...":null===o||void 0===o||null===(c=o.contact)||void 0===c?void 0:c.name,secondary:l.a.createElement(n.Fragment,null,l.a.createElement("div",null,l.a.createElement(z.a,{style:{display:"inline"},component:"span",variant:"body2"},""+((null===(d=o.lastMessage)||void 0===d?void 0:d.length)>30?String(o.lastMessage).substring(0,27)+"...":o.lastMessage))),l.a.createElement(N.a,{className:e.connectionTag},null===o||void 0===o||null===(m=o.whatsapp)||void 0===m?void 0:m.name),l.a.createElement(N.a,{style:{backgroundColor:(null===(u=o.queue)||void 0===u?void 0:u.color)||"#7c7c7c"},className:e.connectionTag},(null===(p=o.queue)||void 0===p?void 0:p.name.toUpperCase())||"SEM FILA"))}),l.a.createElement(z.a,{className:Number(o.unreadMessages)>0?e.lastMessageTimeUnread:e.lastMessageTime,component:"span",variant:"body2"},Object(Ra.a)(Object(Fa.a)(o.updatedAt),new Date)?l.a.createElement(l.a.Fragment,null,Object(Sa.a)(Object(Fa.a)(o.updatedAt),"HH:mm")):l.a.createElement(l.a.Fragment,null,Object(Sa.a)(Object(Fa.a)(o.updatedAt),"dd/MM/yyyy"))),("admin"===t.profile||o.userId===t.id)&&l.a.createElement(ne.a,{title:"Acessar Ticket"},l.a.createElement(mu.a,{onClick:()=>a.push("/tickets/"+o.uuid),fontSize:"small",style:{color:$n.a[500],cursor:"pointer",marginRight:5,bottom:"-15px"}}))),l.a.createElement(B.a,{variant:"inset",component:"li"}))})))))})}return null},[s]),h=Object(n.useMemo)(()=>{if(r&&r.length>0){const a=r.filter(e=>!e.user);return l.a.createElement(ht.a,{item:!0},l.a.createElement("div",{className:e.main},l.a.createElement("div",{padding:2,className:e.changeWarap},l.a.createElement(Bt.a,{elevation:3,className:e.cardHeaderPending},l.a.createElement(vr.a,{style:{maxWidth:"380px",width:"100%"},avatar:l.a.createElement(R.a,null),title:l.a.createElement("span",null,"Pendentes",l.a.createElement(uu.a,{className:e.pending}),l.a.createElement("div",null,"Atendimentos: ",null===a||void 0===a?void 0:a.length))})),l.a.createElement(Bt.a,{square:!0,elevation:1,className:e.card},a.map(a=>{var t,o,r,i,s;return l.a.createElement(L.a,{style:{paddingTop:0},key:a.id},l.a.createElement(_.a,{dense:!0,button:!0},l.a.createElement(Ba.a,null,l.a.createElement(R.a,{alt:""+a.contact.urlPicture,src:""+a.contact.urlPicture})),l.a.createElement(ee.a,{disableTypography:!0,primary:null===a||void 0===a||null===(t=a.contact)||void 0===t?void 0:t.name,secondary:l.a.createElement(n.Fragment,null,l.a.createElement("div",null,l.a.createElement(z.a,{style:{display:"inline"},component:"span",variant:"body2"},""+((null===(o=a.lastMessage)||void 0===o?void 0:o.length)>30?String(a.lastMessage).substring(0,27)+"...":a.lastMessage))),l.a.createElement(N.a,{className:e.connectionTag},null===a||void 0===a||null===(r=a.whatsapp)||void 0===r?void 0:r.name),l.a.createElement(N.a,{style:{backgroundColor:(null===(i=a.queue)||void 0===i?void 0:i.color)||"#7c7c7c"},className:e.connectionTag},(null===(s=a.queue)||void 0===s?void 0:s.name.toUpperCase())||"SEM FILA"))}),l.a.createElement(z.a,{className:Number(a.unreadMessages)>0?e.lastMessageTimeUnread:e.lastMessageTime,component:"span",variant:"body2"},Object(Ra.a)(Object(Fa.a)(a.updatedAt),new Date)?l.a.createElement(l.a.Fragment,null,Object(Sa.a)(Object(Fa.a)(a.updatedAt),"HH:mm")):l.a.createElement(l.a.Fragment,null,Object(Sa.a)(Object(Fa.a)(a.updatedAt),"dd/MM/yyyy")))),l.a.createElement(B.a,{variant:"inset",component:"li"}))})))))}return null},[s]);return l.a.createElement(n.Fragment,null,l.a.createElement(ht.a,{container:!0,spacing:2},f,h))};const fu=Object(I.a)(e=>({container:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1),paddingLeft:"5px",maxWidth:"100%"},mainPaper:{display:"flex",padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles,alignItems:"center"},fixedHeightPaper:{padding:e.spacing(2),display:"flex",flexDirection:"column",height:100},chatPapper:{display:"flex",height:"100%"},contactsHeader:{display:"flex",flexWrap:"wrap",padding:"0px 6px 6px 6px"}}));var hu=()=>{const e=fu(),{user:a}=Object(n.useContext)(ua);return"user"===a.profile&&"disabled"===a.allowRealTime?l.a.createElement(Tl,null):l.a.createElement(qc,null,l.a.createElement(ht.a,{style:{width:"99.6%"},container:!0,justifyContent:"center",alignItems:"flex-start"},l.a.createElement(ht.a,{xs:12,sm:8,xl:4,item:!0},l.a.createElement(Uc,null,"Painel de Atendimentos")),l.a.createElement(ht.a,{style:{width:"100%",height:"100vh"},item:!0},l.a.createElement(Bt.a,{className:e.mainPaper,variant:"outlined",style:{maxWidth:"100%"}},l.a.createElement(bu,null)))))},Au=t(380),vu=t.n(Au),yu=t(428),xu=t.n(yu),Cu=t(1690);const ku=Object(I.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles},customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"},tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",fontSize:e.typography.pxToRem(14),border:"1px solid #dadde9",maxWidth:450},tooltipPopper:{textAlign:"center"},buttonProgress:{color:La.a[500]}}));var wu=e=>{let{title:a,content:t,children:n}=e;const o=ku();return l.a.createElement(ne.a,{arrow:!0,classes:{tooltip:o.tooltip,popper:o.tooltipPopper},title:l.a.createElement(l.a.Fragment,null,l.a.createElement(z.a,{gutterBottom:!0,color:"inherit"},a),t&&l.a.createElement(z.a,null,t))},n)};const Tu=xt.c().shape({options:xt.a().of(xt.c().shape({name:xt.e().min(4,"too short").required("Required")})).required("Must have friends")}),Ou=Object(I.a)(e=>({greetingMessage:{cursor:"pointer",display:"flex",alignItems:"center","& > *:not(:last-child)":{marginRight:e.spacing(1)}},Box:{cursor:"pointer",alignItems:"center"},textField1:{margin:e.spacing(1),minWidth:120},textField:{marginRight:e.spacing(1),flex:1},customHeight:{height:"48px"}}));function Su(e){const a={name:"",greetingMessage:"",options:[],closeTicket:!1,optQueueId:""},t=Ou(),[o,r]=Object(n.useState)(-1),[i,s]=Object(n.useState)(a),[c,d]=Object(n.useState)(!1),[m,p]=Object(n.useState)(!0),[g,E]=Object(n.useState)(null),[b,f]=Object(n.useState)(null),[h,A]=Object(n.useState)(!1),[v,y]=Object(n.useState)([]),[x,C]=Object(n.useState)([]),[k,w]=Object(n.useState)([]),[T,O]=Object(n.useState)([]),{user:M,socket:I}=Object(n.useContext)(ua),[j,N]=Object(n.useState)(""),[R,F]=Object(n.useState)(null),[P,L]=Object(n.useState)(""),[B,W]=Object(n.useState)(""),{findAll:q}=No(),[H,U]=Object(n.useState)([]),[V,G]=Object(n.useState)([]),K=Object(n.useRef)(!0),Y=M.companyId,X=async t=>{try{e.chatBotId?await u.put("/chatbot/"+e.chatBotId,t):await u.post("/chatbot",t),S.b.success("Bot saved successfully");const{data:n}=await u.get("/chatbot/"+e.chatBotId);s(a),s(n),E(null),f(null),s(n)}catch(n){oa(n)}};Object(n.useEffect)(()=>{if(K.current){(async()=>{const e=await q();U(e),y(e)})()}},[]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await u.get("/files/",{params:{companyId:Y}});O(e.files)}catch(e){oa(e)}})()},[]),Object(n.useEffect)(()=>{if(j.length<3)return d(!1),void W("");const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("/users/");G(e.users),d(!1)}catch(e){d(!1),oa(e)}})()},500);return()=>clearTimeout(e)},[j]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await u.get("/queueIntegration",{params:{companyId:Y}});w(e.queueIntegrations)}catch(e){oa(e)}})()},[]),Object(n.useEffect)(()=>{d(!0);const a=setTimeout(()=>{(async()=>{try{const{data:a}=await u.get("/chatbot/"+e.chatBotId);(null===a||void 0===a?void 0:a.user)&&F(a.user),null!==a.optQueueId&&void 0!==a.optQueueId&&W(a.optQueueId),s(a),d(!1)}catch(a){console.log(a)}})()},500);return()=>clearTimeout(a)},[e.chatBotId]),Object(n.useEffect)(()=>{var e;i.options[o]&&W(null===(e=i.options[o])||void 0===e?void 0:e.optQueueId),p(o!==g)},[g,o]);const J=Object(Jl.a)({trim:!0});return l.a.createElement("div",{className:t.root},l.a.createElement(Ir,{title:P&&`${aa.a.t("queues.confirmationModal.deleteTitle")} ${P.name}?`,open:h,onClose:()=>{A(!1),L(null)},onConfirm:()=>(async t=>{try{await u.delete("/chatbot/"+t);const{data:n}=await u.get("/chatbot/"+e.chatBotId);s(a),s(n),E(null),f(null),s(n),S.b.success(aa.a.t("Queue deleted successfully!"))}catch(n){oa(n)}L(null)})(P.id)},aa.a.t("Tem certeza? Todas as op\xe7\xf5es internas tamb\xe9m ser\xe3o exclu\xeddas")),!c&&l.a.createElement("div",null,l.a.createElement(Ct.e,{initialValues:i,validateOnChange:!1,enableReinitialize:!0,validationSchema:Tu,render:e=>{let{touched:a,errors:s,isSubmitting:d,values:u,setFieldValue:h}=e;return l.a.createElement(Ct.c,{name:"options"},e=>{let{push:x,remove:C}=e;return l.a.createElement(l.a.Fragment,null,l.a.createElement(ds.a,{nonLinear:!0,activeStep:o,orientation:"vertical"},u.options&&u.options.length>0&&u.options.map((e,o)=>{var x,w,O,S,M,I,j,R,P,q,U,G,K,Y,Z,_,$,ee,ae,te,ne,le,oe,re,ie,se,ce,de,me,ue,pe,ge,Ee,be;return l.a.createElement(ms.a,{key:(e.id?e.id:o)+"-options",onClick:()=>r(o)},l.a.createElement(us.a,{key:e.id+"-options"},g!==o&&(null===(x=i.options[o])||void 0===x?void 0:x.name)?l.a.createElement("div",{className:t.greetingMessage,variant:"body1"},u.options[o].name,l.a.createElement(D.a,{size:"small",onClick:()=>{E(o),p(!1)}},l.a.createElement(Wm.a,null)),l.a.createElement(D.a,{onClick:()=>{L(e),A(!0)},size:"small"},l.a.createElement(ao.a,null))):l.a.createElement(ht.a,{container:!0,spacing:2},l.a.createElement(ht.a,{xs:12,md:12,item:!0},l.a.createElement(Ct.b,{as:wt.a,name:`options[${o}].name`,variant:"outlined",margin:"dense",label:aa.a.t("queueModal.form.greetingMessage"),color:"primary",disabled:d,autoFocus:!0,fullWidth:!0,error:(null===a||void 0===a||null===(w=a.options)||void 0===w||null===(O=w[o])||void 0===O?void 0:O.name)&&Boolean(null===(S=s.options)||void 0===S||null===(M=S[o])||void 0===M?void 0:M.name)})),l.a.createElement(ht.a,{xs:12,md:8,item:!0},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",className:t.FormControl,fullWidth:!0},l.a.createElement(Nt.a,{id:"queueType-selection-label"},aa.a.t("queueModal.form.queueType")),l.a.createElement(Ct.b,{as:jt.a,name:`options[${o}].queueType`,variant:"outlined",margin:"dense",fullWidth:!0,labelId:"queueType-selection-label",label:aa.a.t("queueModal.form.queueType"),error:(null===a||void 0===a||null===(I=a.options)||void 0===I||null===(j=I[o])||void 0===j?void 0:j.queueType)&&Boolean(null===s||void 0===s||null===(R=s.options)||void 0===R||null===(P=R[o])||void 0===P?void 0:P.queueType)},l.a.createElement(Q.a,{value:"text"},"Texto"),l.a.createElement(Q.a,{value:"attendent"},"Atendente"),l.a.createElement(Q.a,{value:"queue"},"Fila"),l.a.createElement(Q.a,{value:"integration"},"Integra\xe7\xe3o"),l.a.createElement(Q.a,{value:"file"},"Arquivo")))),l.a.createElement(ht.a,{xs:12,md:4,item:!0},l.a.createElement(Bi.a,{control:l.a.createElement(Ct.b,{as:Zo.a,color:"primary",name:`options[${o}].closeTicket`,checked:u.options[o].closeTicket||!1}),labelPlacement:"top",label:aa.a.t("queueModal.form.closeTicket")}),l.a.createElement(D.a,{size:"small",onClick:()=>u.options[o].name?X(u):null,disabled:d},l.a.createElement(vu.a,null)),l.a.createElement(D.a,{size:"small",onClick:()=>C(o),disabled:d},l.a.createElement(ao.a,null))))),m&&i.options[o]&&l.a.createElement(Cu.a,null,l.a.createElement(l.a.Fragment,null,l.a.createElement(wu,{title:"A mensagem \xe9 obrigat\xf3ria para seguir ao pr\xf3ximo n\xedvel",content:"Se a mensagem n\xe3o estiver definida, o bot n\xe3o seguir\xe1 adiante"},l.a.createElement(xu.a,{color:"secondary",style:{marginLeft:"4px"},fontSize:"small"})),b!==o?l.a.createElement("div",{className:t.greetingMessage},l.a.createElement(z.a,{color:"textSecondary",variant:"body1"},"Message:"),u.options[o].greetingMessage,l.a.createElement(D.a,{size:"small",onClick:()=>f(o)},l.a.createElement(Wm.a,null))):l.a.createElement(ht.a,{spacing:2,container:!0},l.a.createElement("div",{className:t.greetingMessage},"text"===i.options[o].queueType&&l.a.createElement(ht.a,{xs:12,md:12,item:!0},l.a.createElement(Ct.b,{as:wt.a,name:`options[${o}].greetingMessage`,variant:"outlined",margin:"dense",color:"primary",fullWidth:!0,multiline:!0,error:a.greetingMessage&&Boolean(s.greetingMessage),helperText:a.greetingMessage&&s.greetingMessage,className:t.textField}))),"queue"===i.options[o].queueType&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ht.a,{xs:12,md:12,item:!0},l.a.createElement(Ct.b,{as:wt.a,name:`options[${o}].greetingMessage`,label:aa.a.t("queueModal.form.message"),variant:"outlined",margin:"dense",fullWidth:!0,multiline:!0,error:a.greetingMessage&&Boolean(s.greetingMessage),helperText:a.greetingMessage&&s.greetingMessage,className:t.textField})),l.a.createElement(ht.a,{xs:12,md:8,item:!0},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",className:t.FormControl,fullWidth:!0},l.a.createElement(Nt.a,{id:"queue-selection-label"},aa.a.t("queueModal.form.queue")),l.a.createElement(Ct.b,{as:jt.a,name:`options[${o}].optQueueId`,labelId:"queue-selection-label",label:aa.a.t("queueModal.form.queue"),error:(null===a||void 0===a||null===(q=a.options)||void 0===q||null===(U=q[o])||void 0===U?void 0:U.optQueueId)&&Boolean(null===s||void 0===s||null===(G=s.options)||void 0===G||null===(K=G[o])||void 0===K?void 0:K.optQueueId),helpertext:(null===a||void 0===a||null===(Y=a.options)||void 0===Y||null===(Z=Y[o])||void 0===Z?void 0:Z.optQueueId)&&(null===s||void 0===s||null===(_=s.options)||void 0===_||null===($=_[o])||void 0===$?void 0:$.optQueueId),fullWidth:!0,variant:"outlined",margin:"dense"},v.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name)))))),"attendent"===i.options[o].queueType&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ht.a,{xs:12,md:12,item:!0},l.a.createElement(Ct.b,{as:wt.a,name:`options[${o}].greetingMessage`,label:aa.a.t("queueModal.form.message"),variant:"outlined",margin:"dense",fullWidth:!0,multiline:!0,error:a.greetingMessage&&Boolean(s.greetingMessage),helperText:a.greetingMessage&&s.greetingMessage,className:t.textField})),l.a.createElement(ht.a,{xs:12,md:4,item:!0},l.a.createElement(Zl.a,{style:{marginTop:"8px"},variant:"outlined",margin:"dense",getOptionLabel:e=>""+e.name,value:i.options[o].user,onChange:(e,a)=>{F(a),h(`options[${o}].optUserId`,null!=a?a.id:null),null!=a&&Array.isArray(a.queues)?(1===a.queues.length&&(W(a.queues[0].id),h(`options[${o}].optQueueId`,a.queues[0].id)),y(a.queues)):(y(H),W(""))},options:V,filterOptions:J,freeSolo:!0,fullWidth:!0,autoHighlight:!0,noOptionsText:aa.a.t("transferTicketModal.noOptions"),loading:c,size:"small",renderOption:e=>l.a.createElement("span",null," ",l.a.createElement(Fo,{user:e})," ",e.name),renderInput:e=>l.a.createElement(wt.a,Object.assign({},e,{label:aa.a.t("transferTicketModal.fieldLabel"),variant:"outlined",onChange:e=>N(e.target.value),InputProps:{...e.InputProps,endAdornment:l.a.createElement(n.Fragment,null,c?l.a.createElement(It.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)}}))})),l.a.createElement(ht.a,{xs:12,md:4,item:!0},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:t.formControl},l.a.createElement(Nt.a,null,aa.a.t("transferTicketModal.fieldQueueLabel")),l.a.createElement(jt.a,{value:B,onChange:e=>{W(e.target.value),h(`options[${o}].optQueueId`,e.target.value)},label:aa.a.t("transferTicketModal.fieldQueuePlaceholder")},v.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name)))))),"integration"===i.options[o].queueType&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ht.a,{xs:12,md:12,item:!0},l.a.createElement(Ct.b,{as:wt.a,name:`options[${o}].greetingMessage`,label:aa.a.t("queueModal.form.message"),variant:"outlined",margin:"dense",fullWidth:!0,multiline:!0,error:a.greetingMessage&&Boolean(s.greetingMessage),helperText:a.greetingMessage&&s.greetingMessage,className:t.textField})),l.a.createElement(ht.a,{xs:12,md:8,item:!0},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:t.formControl},l.a.createElement(Nt.a,{id:"optIntegrationId-selection-label"},aa.a.t("queueModal.form.integration")),l.a.createElement(Ct.b,{as:jt.a,name:`options[${o}].optIntegrationId`,labelId:"optIntegrationId-selection-label",label:aa.a.t("queueModal.form.integration"),variant:"outlined",margin:"dense",fullWidth:!0,error:(null===a||void 0===a||null===(ee=a.options)||void 0===ee||null===(ae=ee[o])||void 0===ae?void 0:ae.optIntegrationId)&&Boolean(null===s||void 0===s||null===(te=s.options)||void 0===te||null===(ne=te[o])||void 0===ne?void 0:ne.optIntegrationId),helpertext:(null===a||void 0===a||null===(le=a.options)||void 0===le||null===(oe=le[o])||void 0===oe?void 0:oe.optIntegrationId)&&(null===s||void 0===s||null===(re=s.options)||void 0===re||null===(ie=re[o])||void 0===ie?void 0:ie.optIntegrationId)},k.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name)))))),"file"===i.options[o].queueType&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ht.a,{xs:12,md:12,item:!0},l.a.createElement(Ct.b,{as:wt.a,name:`options[${o}].greetingMessage`,label:aa.a.t("queueModal.form.message"),variant:"outlined",margin:"dense",fullWidth:!0,multiline:!0,error:a.greetingMessage&&Boolean(s.greetingMessage),helperText:a.greetingMessage&&s.greetingMessage,className:t.textField})),l.a.createElement(ht.a,{xs:12,md:8,item:!0},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:t.formControl},l.a.createElement(Nt.a,{id:"optFileId-selection-label"},aa.a.t("queueModal.form.file")),l.a.createElement(Ct.b,{as:jt.a,name:`options[${o}].optFileId`,labelId:"optFileId-selection-label",label:aa.a.t("queueModal.form.file"),error:(null===a||void 0===a||null===(se=a.options)||void 0===se||null===(ce=se[o])||void 0===ce?void 0:ce.optFileId)&&Boolean(null===s||void 0===s||null===(de=s.options)||void 0===de||null===(me=de[o])||void 0===me?void 0:me.optFileId),helpertext:(null===a||void 0===a||null===(ue=a.options)||void 0===ue||null===(pe=ue[o])||void 0===pe?void 0:pe.optFileId)&&(null===s||void 0===s||null===(ge=s.options)||void 0===ge||null===(Ee=ge[o])||void 0===Ee?void 0:Ee.optFileId),variant:"outlined",margin:"dense"},T.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name)))))),l.a.createElement(ht.a,{xs:2,md:4,item:!0},l.a.createElement(D.a,{size:"small",onClick:()=>X(u),disabled:d,style:{marginTop:"8px"}}," ",l.a.createElement(vu.a,null)))),(be=e.id,l.a.createElement(Su,{chatBotId:be})))))}),l.a.createElement(ms.a,null,l.a.createElement(us.a,{onClick:()=>x({name:void 0,greetingMessage:void 0})},aa.a.t("fileModal.buttons.fileOptions")))))})}})))}const Mu=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},textField1:{margin:e.spacing(1),minWidth:120},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20},greetingMessage:{cursor:"pointer",display:"flex",alignItems:"center","& > *:not(:last-child)":{marginRight:e.spacing(1)}},custom:{display:"flex",alignItems:"center",justifyContent:"center"}})),Iu=xt.c().shape({name:xt.e().min(2,"Too Short!").max(50,"Too Long!").required("Required"),color:xt.e().min(3,"Too Short!").max(9,"Too Long!").required(),greetingMessage:xt.e(),chatbots:xt.a().of(xt.c().shape({name:xt.e().min(4,"too short").required("Required")})).required("Must have friends")});var ju=e=>{let{open:a,onClose:t,queueId:o,onEdit:r}=e;const i=Mu(),s={name:"",color:"",greetingMessage:"",chatbots:[],outOfHoursMessage:"",orderQueue:"",tempoRoteador:0,ativarRoteador:!1,integrationId:"",fileListId:"",closeTicket:!1},[c,d]=Object(n.useState)(!1),[m,p]=Object(n.useState)(s),g=Object(n.useRef)(),[E,b]=Object(n.useState)(null),[f,h]=Object(n.useState)(null),[A,v]=Object(n.useState)(!1),[y,x]=Object(n.useState)(!0),[C,k]=Object(n.useState)(null),[w,T]=Object(n.useState)(null),[O,M]=Object(n.useState)([]),[I,j]=Object(n.useState)([]),[N,R]=Object(n.useState)(!1),[F,P]=Object(n.useState)(0),[L,B]=Object(n.useState)(null),{user:W,socket:q}=Object(n.useContext)(ua),[H,U]=Object(n.useState)(""),[V,G]=Object(n.useState)(!1),[K,Y]=Object(n.useState)(""),{findAll:X}=No(),[J,Z]=Object(n.useState)([]),[_,$]=Object(n.useState)([]),ee=Object(n.useRef)(!0),ae=[{weekday:aa.a.t("queueModal.serviceHours.monday"),weekdayEn:"monday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:aa.a.t("queueModal.serviceHours.tuesday"),weekdayEn:"tuesday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:aa.a.t("queueModal.serviceHours.wednesday"),weekdayEn:"wednesday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:aa.a.t("queueModal.serviceHours.thursday"),weekdayEn:"thursday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:aa.a.t("queueModal.serviceHours.friday"),weekdayEn:"friday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:"S\xe1bado",weekdayEn:"saturday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:"Domingo",weekdayEn:"sunday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"}],[te,ne]=Object(n.useState)(ae),le=W.companyId,{get:oe}=ct(),[re,ie]=Object(n.useState)(!1),[se,ce]=Object(n.useState)(!1),{getPlanCompany:de}=va();Object(n.useEffect)(()=>{!async function(){const e=W.companyId,a=await de(void 0,e);ie(a.plan.useOpenAi),ce(a.plan.useIntegrations)}()},[]),Object(n.useEffect)(()=>{(async()=>{"queue"===(await oe({column:"scheduleType"})).scheduleType&&R(!0)})()},[]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await u.get("/files/",{params:{companyId:le}});B(e.files)}catch(e){oa(e)}})()},[]),Object(n.useEffect)(()=>((async()=>{if(o)try{const{data:e}=await u.get("/queue/"+o);p(a=>({...a,...e})),Object(la.isArray)(e.schedules)&&e.schedules.length>0&&ne(e.schedules)}catch(e){oa(e)}})(),()=>{p({name:"",color:"",greetingMessage:"",chatbots:[],outOfHoursMessage:"",orderQueue:"",tempoRoteador:"",ativarRoteador:!1,integrationId:"",fileListId:"",closeTicket:!1})}),[o,a]),Object(n.useEffect)(()=>{if(ee.current){(async()=>{const e=await X();Z(e),M(e)})()}},[]),Object(n.useEffect)(()=>{if(H.length<3)return G(!1),void Y("");const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("/users/");$(e.users),G(!1)}catch(e){G(!1),oa(e)}})()},500);return()=>clearTimeout(e)},[H]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await u.get("/queueIntegration");j(e.queueIntegrations)}catch(e){oa(e)}})()},[]),Object(n.useEffect)(()=>{var e;E&&Y(null===(e=m.chatbots[E])||void 0===e?void 0:e.optQueueId);x(E!==C)},[C,E]);const me=()=>{t(),k(null),b(null),T(null)},ue=Object(Jl.a)({trim:!0}),pe=async e=>{console.log(e);try{if(o){const{data:a}=await u.put("/queue/"+o,e);a.chatbots&&a.chatbots.length&&(r(a),p(a))}else{const{data:a}=await u.post("/queue",e);a.chatbots&&a.chatbots.length&&(p(a),r(a),me())}k(null),T(null),S.b.success(""+aa.a.t("queues.toasts.success"))}catch(a){oa(a)}};return l.a.createElement("div",{className:i.root},l.a.createElement(Ir,{title:f&&`${aa.a.t("queues.confirmationModal.deleteTitle")} ${f.name}?`,open:A,onClose:()=>{v(!1),h(null)},onConfirm:()=>(async e=>{try{await u.delete("/chatbot/"+e);const{data:a}=await u.get("/queue/"+o);p(s),p(a),k(null),T(null),S.b.success(""+aa.a.t("queues.toasts.deleted"))}catch(a){oa(a)}})(f.id)},aa.a.t("queueModal.title.confirmationDelete")),l.a.createElement(Tt.a,{maxWidth:"md",fullWidth:!0,open:a,onClose:me,scroll:"paper"},l.a.createElement(Mt.a,null,o?""+aa.a.t("queueModal.title.edit"):""+aa.a.t("queueModal.title.add")),l.a.createElement(Wt.a,{value:F,indicatorColor:"primary",textColor:"primary",onChange:(e,a)=>P(a),"aria-label":"disabled tabs example"},l.a.createElement(qt.a,{label:aa.a.t("queueModal.title.queueData")}),N&&l.a.createElement(qt.a,{label:aa.a.t("queueModal.title.text")})),0===F&&l.a.createElement(Ct.e,{initialValues:m,validateOnChange:!1,enableReinitialize:!0,validationSchema:Iu,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{try{o?await u.put("/queue/"+o,{...e,schedules:te}):await u.post("/queue",{...e,schedules:te}),S.b.success(""+aa.a.t("queues.toasts.success")),me()}catch(a){oa(a)}})(e),a.setSubmitting(!1)},400)}},e=>{let{setFieldValue:a,touched:t,errors:r,isSubmitting:s,values:u}=e;return l.a.createElement(Ct.d,null,l.a.createElement(St.a,{dividers:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("queueModal.form.name"),autoFocus:!0,name:"name",error:t.name&&Boolean(r.name),helperText:t.name&&r.name,variant:"outlined",margin:"dense",className:i.textField}),l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("queueModal.form.color"),name:"color",id:"color",onFocus:()=>{d(!0),g.current.focus()},error:t.color&&Boolean(r.color),helperText:t.color&&r.color,InputProps:{startAdornment:l.a.createElement(fc.a,{position:"start"},l.a.createElement("div",{style:{backgroundColor:u.color},className:i.colorAdorment})),endAdornment:l.a.createElement(D.a,{size:"small",color:"default",onClick:()=>d(!c)},l.a.createElement(Id.a,null))},variant:"outlined",margin:"dense"}),l.a.createElement(Fd,{open:c,handleClose:()=>d(!1),onChange:e=>{a("color","#"+e.hex)},currentColor:u.color}),l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("queueModal.form.orderQueue"),name:"orderQueue",type:"orderQueue",error:t.orderQueue&&Boolean(r.orderQueue),helperText:t.orderQueue&&r.orderQueue,variant:"outlined",margin:"dense",className:i.textField1}),l.a.createElement(Bi.a,{control:l.a.createElement(Ct.b,{as:Nl.a,color:"primary",name:"closeTicket",checked:u.closeTicket}),label:aa.a.t("queueModal.form.closeTicket")}),l.a.createElement("div",null,l.a.createElement(Bi.a,{control:l.a.createElement(Ct.b,{as:Nl.a,color:"primary",name:"ativarRoteador",checked:u.ativarRoteador}),label:aa.a.t("queueModal.form.rotate")}),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("queueModal.form.timeRotate"),name:"tempoRoteador",id:"tempoRoteador",variant:"outlined",margin:"dense",className:i.selectField},l.a.createElement(Q.a,{value:"0",selected:!0,disabled:!0},aa.a.t("queueModal.form.timeRotate")),l.a.createElement(Q.a,{value:"2"},"2 minutos"),l.a.createElement(Q.a,{value:"5"},"5 minutos"),l.a.createElement(Q.a,{value:"10"},"10 minutos"),l.a.createElement(Q.a,{value:"15"},"15 minutos"),l.a.createElement(Q.a,{value:"30"},"30 minutos"),l.a.createElement(Q.a,{value:"45"},"45 minutos"),l.a.createElement(Q.a,{value:"60"},"60 minutos"))),l.a.createElement("div",null,se&&l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",className:i.FormControl,fullWidth:!0},l.a.createElement(Nt.a,{id:"integrationId-selection-label"},aa.a.t("queueModal.form.integrationId")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("queueModal.form.integrationId"),name:"integrationId",id:"integrationId",placeholder:aa.a.t("queueModal.form.integrationId"),labelId:"integrationId-selection-label",value:u.integrationId||""},l.a.createElement(Q.a,{value:""},"Nenhum"),I.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name)))),l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",className:i.FormControl,fullWidth:!0},l.a.createElement(Nt.a,{id:"fileListId-selection-label"},aa.a.t("queueModal.form.fileListId")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("queueModal.form.fileListId"),name:"fileListId",id:"fileListId",placeholder:aa.a.t("queueModal.form.fileListId"),labelId:"fileListId-selection-label",value:u.fileListId||""},l.a.createElement(Q.a,{value:""},"Nenhum"),L.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name))))),l.a.createElement("div",null,l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("queueModal.form.greetingMessage"),type:"greetingMessage",multiline:!0,inputRef:g,minRows:5,fullWidth:!0,name:"greetingMessage",error:t.greetingMessage&&Boolean(r.greetingMessage),helperText:t.greetingMessage&&r.greetingMessage,variant:"outlined",margin:"dense"}),N&&l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("queueModal.form.outOfHoursMessage"),type:"outOfHoursMessage",multiline:!0,rows:5,fullWidth:!0,required:N,name:"outOfHoursMessage",error:t.outOfHoursMessage&&Boolean(r.outOfHoursMessage),helperText:t.outOfHoursMessage&&r.outOfHoursMessage,variant:"outlined",margin:"dense"})),l.a.createElement(z.a,{variant:"subtitle1"},aa.a.t("queueModal.bot.title"),l.a.createElement(wu,{title:aa.a.t("queueModal.bot.toolTipTitle"),content:aa.a.t("queueModal.bot.toolTip")},l.a.createElement(xu.a,{style:{marginLeft:"14px"},fontSize:"small"}))),l.a.createElement("div",null,l.a.createElement(Ct.c,{name:"chatbots"},e=>{let{push:o,remove:c}=e;return l.a.createElement(l.a.Fragment,null,l.a.createElement(ds.a,{nonLinear:!0,activeStep:E,orientation:"vertical"},u.chatbots&&u.chatbots.length>0&&u.chatbots.map((e,o)=>{var d,p,g,E,f,A,S,j,N,R,F,P,B,W,q,H,G,X,Z,$,ee,ae,te,ne,le,oe,re,ie,se,ce,de,me,ge,Ee;return l.a.createElement(ms.a,{key:(e.id?e.id:o)+"-chatbots",onClick:()=>b(o)},l.a.createElement(us.a,{key:e.id+"-chatbots"},C!==o&&(null===(d=m.chatbots[o])||void 0===d?void 0:d.name)?l.a.createElement("div",{className:i.greetingMessage,variant:"body1"},u.chatbots[o].name,l.a.createElement(D.a,{size:"small",onClick:()=>{k(o),x(!1)}},l.a.createElement(Wm.a,null)),l.a.createElement(D.a,{onClick:()=>{h(e),v(!0)},size:"small"},l.a.createElement(ao.a,null))):l.a.createElement(ht.a,{spacing:2,container:!0},l.a.createElement(ht.a,{xs:12,md:12,item:!0},l.a.createElement(Ct.b,{as:wt.a,name:`chatbots[${o}].name`,variant:"outlined",margin:"dense",color:"primary",label:aa.a.t("queueModal.form.greetingMessage"),disabled:s,autoFocus:!0,fullWidth:!0,size:"small",error:(null===t||void 0===t||null===(p=t.chatbots)||void 0===p||null===(g=p[o])||void 0===g?void 0:g.name)&&Boolean(null===(E=r.chatbots)||void 0===E||null===(f=E[o])||void 0===f?void 0:f.name),className:i.textField})),l.a.createElement(ht.a,{xs:12,md:8,item:!0},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",className:i.formControl,fullWidth:!0},l.a.createElement(Nt.a,{id:"queueType-selection-label"},aa.a.t("queueModal.form.queueType")),l.a.createElement(Ct.b,{as:jt.a,name:`chatbots[${o}].queueType`,variant:"outlined",margin:"dense",fullWidth:!0,labelId:"queueType-selection-label",label:aa.a.t("queueModal.form.queueType"),error:(null===t||void 0===t||null===(A=t.chatbots)||void 0===A||null===(S=A[o])||void 0===S?void 0:S.queueType)&&Boolean(null===r||void 0===r||null===(j=r.chatbots)||void 0===j||null===(N=j[o])||void 0===N?void 0:N.queueType)},l.a.createElement(Q.a,{value:"text"},aa.a.t("queueModal.bot.text")),l.a.createElement(Q.a,{value:"attendent"},aa.a.t("queueModal.bot.attendent")),l.a.createElement(Q.a,{value:"queue"},aa.a.t("queueModal.bot.queue")),l.a.createElement(Q.a,{value:"integration"},aa.a.t("queueModal.bot.integration")),l.a.createElement(Q.a,{value:"file"},aa.a.t("queueModal.bot.file"))))),l.a.createElement(ht.a,{xs:12,md:4,item:!0},l.a.createElement(Bi.a,{control:l.a.createElement(Ct.b,{as:zs.a,color:"primary",name:`chatbots[${o}].closeTicket`,checked:u.chatbots[o].closeTicket||!1}),labelPlacement:"top",label:aa.a.t("queueModal.form.closeTicket")}),l.a.createElement(D.a,{size:"small",onClick:()=>u.chatbots[o].name?pe(u):null,disabled:s},l.a.createElement(vu.a,null)),l.a.createElement(D.a,{size:"small",onClick:()=>c(o),disabled:s},l.a.createElement(ao.a,null))))),y&&m.chatbots[o]&&l.a.createElement(Cu.a,null,l.a.createElement(l.a.Fragment,null,w!==o?l.a.createElement("div",{className:i.greetingMessage},l.a.createElement(z.a,{color:"textSecondary",variant:"body1"},"Message:"),u.chatbots[o].greetingMessage,!(null===(R=m.chatbots[o])||void 0===R?void 0:R.greetingMessage)&&l.a.createElement(wu,{title:aa.a.t("queueModal.bot.toolTipMessageTitle"),content:aa.a.t("queueModal.bot.toolTipMessageContent")},l.a.createElement(xu.a,{color:"secondary",style:{marginLeft:"4px"},fontSize:"small"})),l.a.createElement(D.a,{size:"small",onClick:()=>T(o)},l.a.createElement(Wm.a,null))):l.a.createElement(ht.a,{spacing:2,container:!0},l.a.createElement("div",{className:i.greetingMessage},"text"===m.chatbots[o].queueType&&l.a.createElement(ht.a,{xs:12,md:12,item:!0},l.a.createElement(Ct.b,{as:wt.a,name:`chatbots[${o}].greetingMessage`,label:aa.a.t("queueModal.form.message"),variant:"outlined",margin:"dense",fullWidth:!0,multiline:!0,error:t.greetingMessage&&Boolean(r.greetingMessage),helperText:t.greetingMessage&&r.greetingMessage,className:i.textField}))),"queue"===m.chatbots[o].queueType&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ht.a,{xs:12,md:12,item:!0},l.a.createElement(Ct.b,{as:wt.a,name:`chatbots[${o}].greetingMessage`,label:aa.a.t("queueModal.form.message"),variant:"outlined",margin:"dense",fullWidth:!0,multiline:!0,error:t.greetingMessage&&Boolean(r.greetingMessage),helperText:t.greetingMessage&&r.greetingMessage,className:i.textField})),l.a.createElement(ht.a,{xs:12,md:8,item:!0},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",className:i.FormControl,fullWidth:!0},l.a.createElement(Nt.a,{id:"queue-selection-label"},aa.a.t("queueModal.form.queue")),l.a.createElement(Ct.b,{as:jt.a,name:`chatbots[${o}].optQueueId`,error:(null===t||void 0===t||null===(F=t.chatbots)||void 0===F||null===(P=F[o])||void 0===P?void 0:P.optQueueId)&&Boolean(null===r||void 0===r||null===(B=r.chatbots)||void 0===B||null===(W=B[o])||void 0===W?void 0:W.optQueueId),helpertext:(null===t||void 0===t||null===(q=t.chatbots)||void 0===q||null===(H=q[o])||void 0===H?void 0:H.optQueueId)&&(null===r||void 0===r||null===(G=r.chatbots)||void 0===G||null===(X=G[o])||void 0===X?void 0:X.optQueueId),className:i.textField1},O.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name)))))),"attendent"===m.chatbots[o].queueType&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ht.a,{xs:12,md:12,item:!0},l.a.createElement(Ct.b,{as:wt.a,name:`chatbots[${o}].greetingMessage`,label:aa.a.t("queueModal.form.message"),variant:"outlined",margin:"dense",fullWidth:!0,multiline:!0,error:t.greetingMessage&&Boolean(r.greetingMessage),helperText:t.greetingMessage&&r.greetingMessage,className:i.textField})),l.a.createElement(ht.a,{xs:12,md:4,item:!0},l.a.createElement(Zl.a,{style:{marginTop:"8px"},variant:"outlined",margin:"dense",getOptionLabel:e=>""+e.name,value:m.chatbots[o].user,onChange:(e,t)=>{a(`chatbots[${o}].optUserId`,null!=t?t.id:null),null!=t&&Array.isArray(t.queues)?(1===t.queues.length&&(Y(t.queues[0].id),a(`chatbots[${o}].optQueueId`,t.queues[0].id)),M(t.queues)):(M(J),Y(""))},options:_,filterOptions:ue,freeSolo:!0,fullWidth:!0,autoHighlight:!0,noOptionsText:aa.a.t("transferTicketModal.noOptions"),loading:V,size:"small",renderOption:e=>l.a.createElement("span",null," ",l.a.createElement(Fo,{user:e})," ",e.name),renderInput:e=>l.a.createElement(wt.a,Object.assign({},e,{label:aa.a.t("transferTicketModal.fieldLabel"),variant:"outlined",onChange:e=>U(e.target.value),InputProps:{...e.InputProps,endAdornment:l.a.createElement(n.Fragment,null,V?l.a.createElement(It.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)}}))})),l.a.createElement(ht.a,{xs:12,md:4,item:!0},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:i.formControl},l.a.createElement(Nt.a,null,aa.a.t("transferTicketModal.fieldQueueLabel")),l.a.createElement(jt.a,{value:K,onChange:e=>{Y(e.target.value),a(`chatbots[${o}].optQueueId`,e.target.value)},label:aa.a.t("transferTicketModal.fieldQueuePlaceholder")},O.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name)))))),"integration"===m.chatbots[o].queueType&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ht.a,{xs:12,md:12,item:!0},l.a.createElement(Ct.b,{as:wt.a,name:`chatbots[${o}].greetingMessage`,label:aa.a.t("queueModal.form.message"),variant:"outlined",margin:"dense",fullWidth:!0,multiline:!0,error:t.greetingMessage&&Boolean(r.greetingMessage),helperText:t.greetingMessage&&r.greetingMessage,className:i.textField})),l.a.createElement(ht.a,{xs:12,md:8,item:!0},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",className:i.FormControl,fullWidth:!0},l.a.createElement(Nt.a,{id:"optIntegrationId-selection-label"},aa.a.t("queueModal.form.integration")),l.a.createElement(Ct.b,{as:jt.a,name:`chatbots[${o}].optIntegrationId`,error:(null===t||void 0===t||null===(Z=t.chatbots)||void 0===Z||null===($=Z[o])||void 0===$?void 0:$.optIntegrationId)&&Boolean(null===r||void 0===r||null===(ee=r.chatbots)||void 0===ee||null===(ae=ee[o])||void 0===ae?void 0:ae.optIntegrationId),helpertext:(null===t||void 0===t||null===(te=t.chatbots)||void 0===te||null===(ne=te[o])||void 0===ne?void 0:ne.optIntegrationId)&&(null===r||void 0===r||null===(le=r.chatbots)||void 0===le||null===(oe=le[o])||void 0===oe?void 0:oe.optIntegrationId),className:i.textField1},I.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name)))))),"file"===m.chatbots[o].queueType&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ht.a,{xs:12,md:12,item:!0},l.a.createElement(Ct.b,{as:wt.a,name:`chatbots[${o}].greetingMessage`,label:aa.a.t("queueModal.form.message"),variant:"outlined",margin:"dense",fullWidth:!0,multiline:!0,error:t.greetingMessage&&Boolean(r.greetingMessage),helperText:t.greetingMessage&&r.greetingMessage,className:i.textField})),l.a.createElement(Nt.a,null,"Selecione um Arquivo"),l.a.createElement(Ct.b,{as:jt.a,name:`chatbots[${o}].optFileId`,error:(null===t||void 0===t||null===(re=t.chatbots)||void 0===re||null===(ie=re[o])||void 0===ie?void 0:ie.optFileId)&&Boolean(null===r||void 0===r||null===(se=r.chatbots)||void 0===se||null===(ce=se[o])||void 0===ce?void 0:ce.optFileId),helpertext:(null===t||void 0===t||null===(de=t.chatbots)||void 0===de||null===(me=de[o])||void 0===me?void 0:me.optFileId)&&(null===r||void 0===r||null===(ge=r.chatbots)||void 0===ge||null===(Ee=ge[o])||void 0===Ee?void 0:Ee.optFileId),className:i.textField1},L.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name)))),l.a.createElement(D.a,{size:"small",onClick:()=>pe(u),disabled:s}," ",l.a.createElement(vu.a,null))),l.a.createElement(Su,{chatBotId:e.id}))))}),l.a.createElement(ms.a,null,l.a.createElement(us.a,{onClick:()=>o({name:"",value:""})},aa.a.t("queueModal.bot.addOptions")))))}))),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:me,disabled:s},aa.a.t("queueModal.buttons.cancel")),l.a.createElement(kt.a,{type:"submit",color:"primary",disabled:s,variant:"contained",className:i.btnWrapper},o?""+aa.a.t("queueModal.buttons.okEdit"):""+aa.a.t("queueModal.buttons.okAdd"),s&&l.a.createElement(It.a,{size:24,className:i.buttonProgress}))))}),1===F&&l.a.createElement(Bt.a,{style:{padding:20}},l.a.createElement(Jc,{loading:!1,onSubmit:async e=>{S.b.success("Clique em salvar para registar as altera\xe7\xf5es"),ne(e),P(0)},initialValues:te,labelSaveButton:aa.a.t("whatsappModal.buttons.okAdd")}))))};const Nu=Object(I.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles},customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"}})),Ru=(e,a)=>{if("LOAD_QUEUES"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_QUEUES"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_QUEUE"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]};var Fu=()=>{const e=Nu(),[a,t]=Object(n.useReducer)(Ru,[]),[o,r]=Object(n.useState)(!1),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(null),[m,p]=Object(n.useState)(!1),{user:g,socket:E}=Object(n.useContext)(ua),b=g.companyId;Object(n.useEffect)(()=>{(async()=>{r(!0);try{const{data:e}=await u.get("/queue");t({type:"LOAD_QUEUES",payload:e}),r(!1)}catch(e){oa(e),r(!1)}})()},[]),Object(n.useEffect)(()=>{const e=e=>{"update"!==e.action&&"create"!==e.action||t({type:"UPDATE_QUEUES",payload:e.queue}),"delete"===e.action&&t({type:"DELETE_QUEUE",payload:e.queueId})};return E.on(`company-${b}-queue`,e),()=>{E.off(`company-${b}-queue`,e)}},[E,b]);const f=e=>{d(e),s(!0)};return l.a.createElement(Bc,null,l.a.createElement(Ir,{title:c&&`${aa.a.t("queues.confirmationModal.deleteTitle")} ${c.name}?`,open:m,onClose:()=>{p(!1),d(null)},onConfirm:()=>(async e=>{try{await u.delete("/queue/"+e),S.b.success(aa.a.t("Queue deleted successfully!"))}catch(a){oa(a)}d(null)})(c.id)},aa.a.t("queues.confirmationModal.deleteMessage")),l.a.createElement(ju,{open:i,onClose:()=>{s(!1),d(null)},queueId:null===c||void 0===c?void 0:c.id,onEdit:e=>{e&&setTimeout(()=>{f(e)},500)}}),"user"===g.profile?l.a.createElement(Tl,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(qc,null,l.a.createElement(Uc,null,aa.a.t("queues.title")," (",a.length,")"),l.a.createElement(Hc,null,l.a.createElement(kt.a,{variant:"contained",color:"primary",onClick:()=>{s(!0),d(null)}},aa.a.t("queues.buttons.add")))),l.a.createElement(Bt.a,{className:e.mainPaper,variant:"outlined"},l.a.createElement(Gn.a,{size:"small"},l.a.createElement(Jn.a,null,l.a.createElement(Zn.a,null,l.a.createElement(Yn.a,{align:"center"},aa.a.t("queues.table.ID")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("queues.table.name")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("queues.table.color")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("queues.table.orderQueue")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("queues.table.greeting")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("queues.table.actions")))),l.a.createElement(Kn.a,null,l.a.createElement(l.a.Fragment,null,a.map(a=>l.a.createElement(Zn.a,{key:a.id},l.a.createElement(Yn.a,{align:"center"},a.id),l.a.createElement(Yn.a,{align:"center"},a.name),l.a.createElement(Yn.a,{align:"center"},l.a.createElement("div",{className:e.customTableCell},l.a.createElement("span",{style:{backgroundColor:a.color,width:60,height:20,alignSelf:"center"}}))),l.a.createElement(Yn.a,{align:"center"},l.a.createElement("div",{className:e.customTableCell},l.a.createElement(z.a,{style:{width:300,align:"center"},noWrap:!0,variant:"body2"},a.orderQueue))),l.a.createElement(Yn.a,{align:"center"},l.a.createElement("div",{className:e.customTableCell},l.a.createElement(z.a,{style:{width:300,align:"center"},noWrap:!0,variant:"body2"},a.greetingMessage))),l.a.createElement(Yn.a,{align:"center"},l.a.createElement(D.a,{size:"small",onClick:()=>f(a)},l.a.createElement(Rc.a,null)),l.a.createElement(D.a,{size:"small",onClick:()=>{d(a),p(!0)}},l.a.createElement(Fc.a,null))))),o&&l.a.createElement(Vc,{columns:4})))))))};const Pu=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}})),Du=xt.c().shape({name:xt.e().min(3,"Mensagem muito curta").required("Obrigat\xf3rio")});var Lu=e=>{let{open:a,onClose:t,tagId:o,kanban:r}=e;const i=Pu(),{user:s}=Object(n.useContext)(ua),[c,d]=Object(n.useState)(!1),[m,p]=Object(n.useState)([]),[g,E]=Object(n.useState)(!1),[b,f]=Object(n.useState)([]),[h,A]=Object(n.useState)([]),v={name:"",color:function(){const e=Math.floor(256*Math.random()),a=Math.floor(256*Math.random()),t=Math.floor(256*Math.random());return`#${e.toString(16).padStart(2,"0")}${a.toString(16).padStart(2,"0")}${t.toString(16).padStart(2,"0")}`}(),kanban:r,timeLane:0,nextLaneId:0,greetingMessageLane:"",rollbackLaneId:0},[y,x]=Object(n.useState)(v);Object(n.useEffect)(()=>{E(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("/tags/",{params:{kanban:1,tagId:o}});p(e.tags)}catch(e){oa(e)}})()},500);return()=>clearTimeout(e)},[]),Object(n.useEffect)(()=>{try{(async()=>{if(!o)return;const{data:e}=await u.get("/tags/"+o);x(a=>({...a,...e})),e.nextLaneId&&f(e.nextLaneId),e.rollbackLaneId&&A(e.rollbackLaneId)})()}catch(e){oa(e)}},[o,a]);const C=()=>{x(v),d(!1),t()};return l.a.createElement("div",{className:i.root},l.a.createElement(Tt.a,{open:a,onClose:C,maxWidth:"md",fullWidth:!0,scroll:"paper"},l.a.createElement(Mt.a,{id:"form-dialog-title"},o?0===r?""+aa.a.t("tagModal.title.edit"):""+aa.a.t("tagModal.title.editKanban"):0===r?""+aa.a.t("tagModal.title.add"):""+aa.a.t("tagModal.title.addKanban")),l.a.createElement(Ct.e,{initialValues:y,enableReinitialize:!0,validationSchema:Du,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e,userId:null===s||void 0===s?void 0:s.id,kanban:r,nextLaneId:b||null,rollbackLaneId:h||null};try{o?await u.put("/tags/"+o,a):await u.post("/tags",a),S.b.success(0===r?""+aa.a.t("tagModal.success"):""+aa.a.t("tagModal.successKanban"))}catch(t){oa(t)}C()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,values:s}=e;return l.a.createElement(Ct.d,null,l.a.createElement(St.a,{dividers:!0},l.a.createElement(ht.a,{container:!0,spacing:1},l.a.createElement(ht.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("tagModal.form.name"),name:"name",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:"outlined",margin:"dense",onChange:e=>x(a=>({...a,name:e.target.value})),fullWidth:!0})),l.a.createElement(ht.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(Ct.b,{as:wt.a,fullWidth:!0,label:aa.a.t("tagModal.form.color"),name:"color",autoFocus:!0,id:"color",error:a.color&&Boolean(t.color),helperText:a.color&&t.color,InputProps:{startAdornment:l.a.createElement(fc.a,{position:"start"},l.a.createElement("div",{style:{backgroundColor:s.color},className:i.colorAdorment})),endAdornment:l.a.createElement(D.a,{size:"small",color:"default",onClick:()=>d(!c)},l.a.createElement(Id.a,null))},variant:"outlined",margin:"dense"}),c&&l.a.createElement("div",null,l.a.createElement(Nd.a,{disableAlpha:!0,hslGradient:!1,style:{margin:"20px auto 0"},value:y.color,onChange:e=>{x(a=>({...a,color:"#"+e.hex}))}}))),1===r&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("tagModal.form.timeLane"),name:"timeLane",error:a.timeLane&&Boolean(t.timeLane),helperText:a.timeLane&&t.timeLane,variant:"outlined",margin:"dense",onChange:e=>x(a=>({...a,timeLane:e.target.value})),fullWidth:!0})),l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:i.formControl},l.a.createElement(Nt.a,{id:"whatsapp-selection-label"},aa.a.t("tagModal.form.nextLaneId")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("tagModal.form.nextLaneId"),placeholder:aa.a.t("tagModal.form.nextLaneId"),labelId:"whatsapp-selection-label",id:"nextLaneId",name:"nextLaneId",style:{left:"-7px"},error:a.nextLaneId&&Boolean(t.nextLaneId),value:b,onChange:e=>f(e.target.value||null)},l.a.createElement(Q.a,{value:null},"\xa0"),m&&m.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name))))),l.a.createElement(ht.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("tagModal.form.greetingMessageLane"),name:"greetingMessageLane",rows:5,multiline:!0,error:a.greetingMessageLane&&Boolean(t.greetingMessageLane),helperText:a.greetingMessageLane&&t.greetingMessageLane,variant:"outlined",margin:"dense",onChange:e=>x(a=>({...a,greetingMessageLane:e.target.value})),fullWidth:!0})),l.a.createElement(ht.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:i.formControl},l.a.createElement(Nt.a,{id:"whatsapp-selection-label"},aa.a.t("tagModal.form.rollbackLaneId")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("tagModal.form.rollbackLaneId"),placeholder:aa.a.t("tagModal.form.rollbackLaneId"),labelId:"whatsapp-selection-label",id:"rollbackLaneId",name:"rollbackLaneId",style:{left:"-7px"},error:a.rollbackLaneId&&Boolean(t.rollbackLaneId),value:h,onChange:e=>A(e.target.value)},l.a.createElement(Q.a,{value:null},"\xa0"),m&&m.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name)))))))),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:C,color:"secondary",disabled:n,variant:"outlined"},aa.a.t("tagModal.buttons.cancel")),l.a.createElement(kt.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:i.btnWrapper},o?""+aa.a.t("tagModal.buttons.okEdit"):""+aa.a.t("tagModal.buttons.okAdd"),n&&l.a.createElement(It.a,{size:24,className:i.buttonProgress}))))})))},Bu=t(1691),Wu=t(996),qu=t(992);const zu=Object(I.a)(e=>({modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3),borderRadius:"8px",overflow:"auto",maxHeight:"80vh"},closeButton:{position:"absolute",top:e.spacing(1),right:e.spacing(1)}}));var Hu=e=>{let{open:a,onClose:t,tag:o}=e;const r=zu(),[i,s]=Object(n.useState)(o.contacts),{user:c,socket:d}=Object(n.useContext)(ua);return Object(n.useEffect)(()=>{console.log("tagList",i)},[i]),Object(n.useEffect)(()=>{const e=e=>{var a,n,l,r;"update"!==e.action&&"create"!==e.action||(e.tag.id===o.id&&(null===(a=e.tag)||void 0===a||null===(n=a.contacts)||void 0===n?void 0:n.length)>0&&s(e.tag.contacts),e.tag.id===o.id&&0===(null===(l=e.tag)||void 0===l||null===(r=l.contacts)||void 0===r?void 0:r.length)&&(s([]),t()))};return d.on(`company${c.companyId}-tag`,e),()=>{d.off(`company${c.companyId}-tag`,e)}},[]),i.length>0?l.a.createElement(Wu.a,{className:r.modal,open:a,onClose:t,closeAfterTransition:!0,BackdropComponent:$t.a,BackdropProps:{timeout:500}},l.a.createElement(qu.a,{in:a},l.a.createElement("div",{className:r.paper},l.a.createElement(D.a,{className:r.closeButton,onClick:t},l.a.createElement(dr.a,null)),l.a.createElement("h2",{id:"transition-modal-title"},o.name," - Contatos"),l.a.createElement(Xn.a,{component:Bt.a},l.a.createElement(Gn.a,null,l.a.createElement(Jn.a,null,l.a.createElement(Zn.a,null,l.a.createElement(Yn.a,null,"ID"),l.a.createElement(Yn.a,null,"Nome"),l.a.createElement(Yn.a,null,"Nmero"),l.a.createElement(Yn.a,null,"A\xe7\xf5es"))),l.a.createElement(Kn.a,null,null===i||void 0===i?void 0:i.map(e=>l.a.createElement(Zn.a,{key:e.id},l.a.createElement(Yn.a,null,e.id),l.a.createElement(Yn.a,null,e.name),l.a.createElement(Yn.a,null,e.number),l.a.createElement(Yn.a,null,l.a.createElement(D.a,{onClick:()=>(async(e,a)=>{await u.delete(`/tags-contacts/${a}/${e}`)})(e.id,o.id)},l.a.createElement(wr.a,null))))))))))):l.a.createElement(l.a.Fragment,null)};const Uu=(e,a)=>{switch(a.type){case"LOAD_TAGS":return[...e,...a.payload];case"UPDATE_TAGS":const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e];case"DELETE_TAGS":const l=a.payload;return e.filter(e=>e.id!==l);case"RESET":return[];default:return e}},Qu=Object(I.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var Vu=()=>{const e=Qu(),{user:a,socket:t}=Object(n.useContext)(ua),[o,r]=Object(n.useState)([]),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(!1),[m,p]=Object(n.useState)(1),[g,E]=Object(n.useState)(!1),[b,f]=Object(n.useState)(""),[h,A]=Object(n.useState)(null),[v,y]=Object(n.useState)(null),[x,C]=Object(n.useState)(!1),[k,w]=Object(n.useState)(""),[T,O]=Object(n.useReducer)(Uu,[]),[M,I]=Object(n.useState)(!1);Object(n.useRef)(1);Object(n.useEffect)(()=>{m>0&&(d(!0),(async()=>{try{const{data:e}=await u.get("/tags/",{params:{searchParam:k,pageNumber:m,kanban:0}});O({type:"LOAD_TAGS",payload:e.tags}),E(e.hasMore),d(!1)}catch(e){oa(e)}})())},[k,m]),Object(n.useEffect)(()=>{const e=e=>{"update"!==e.action&&"create"!==e.action||O({type:"UPDATE_TAGS",payload:e.tag}),"delete"===e.action&&O({type:"DELETE_TAGS",payload:+e.tagId})};return t.on(`company${a.companyId}-tag`,e),()=>{t.off(`company${a.companyId}-tag`,e)}},[t,a.companyId]);return l.a.createElement(Bc,{className:e.mainContainer},i&&l.a.createElement(Hu,{open:i,onClose:()=>{s(!1),r([]),f("")},tag:b}),l.a.createElement(Ir,{title:v&&""+aa.a.t("tags.confirmationModal.deleteTitle"),open:x,onClose:()=>C(!1),onConfirm:()=>(async e=>{try{await u.delete("/tags/"+e),S.b.success(aa.a.t("tags.toasts.deleted"))}catch(a){oa(a)}y(null),w(""),p(1)})(v.id)},aa.a.t("tags.confirmationModal.deleteMessage")),l.a.createElement(Lu,{open:M,onClose:()=>{A(null),I(!1)},"aria-labelledby":"form-dialog-title",tagId:h&&h.id,kanban:0}),l.a.createElement(qc,null,l.a.createElement(Uc,null,aa.a.t("tags.title")," (",T.length,")"),l.a.createElement(Hc,null,l.a.createElement(wt.a,{placeholder:aa.a.t("contacts.searchPlaceholder"),type:"search",value:k,onChange:e=>{const a=e.target.value.toLowerCase();w(a),p(1),O({type:"RESET"})},InputProps:{startAdornment:l.a.createElement(fc.a,{position:"start"},l.a.createElement(Lm.a,{style:{color:"gray"}}))}}),l.a.createElement(kt.a,{variant:"contained",color:"primary",onClick:()=>{A(null),I(!0)}},aa.a.t("tags.buttons.add")))),l.a.createElement(Bt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!g||c)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&p(e=>e+1)}},l.a.createElement(Gn.a,{size:"small"},l.a.createElement(Jn.a,null,l.a.createElement(Zn.a,null,l.a.createElement(Yn.a,{align:"center"},aa.a.t("tags.table.id")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("tags.table.name")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("tags.table.contacts")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("tags.table.actions")))),l.a.createElement(Kn.a,null,l.a.createElement(l.a.Fragment,null,T.map(e=>{var a,t;return l.a.createElement(Zn.a,{key:e.id},l.a.createElement(Yn.a,{align:"center"},e.id),l.a.createElement(Yn.a,{align:"center"},l.a.createElement(H.a,{variant:"outlined",style:{backgroundColor:e.color,textShadow:"1px 1px #000",color:"white"},label:e.name,size:"small"})),l.a.createElement(Yn.a,{align:"center"},null===e||void 0===e||null===(a=e.contacts)||void 0===a?void 0:a.length,l.a.createElement(D.a,{size:"small",onClick:()=>((e,a)=>{r(e),s(!0),f(a)})(null===e||void 0===e?void 0:e.contacts,e),disabled:0===(null===e||void 0===e||null===(t=e.contacts)||void 0===t?void 0:t.length)},l.a.createElement(Bu.a,null))),l.a.createElement(Yn.a,{align:"center"},l.a.createElement(D.a,{size:"small",onClick:()=>(e=>{A(e),I(!0)})(e)},l.a.createElement(Wm.a,null)),l.a.createElement(D.a,{size:"small",onClick:()=>{C(!0),y(e)}},l.a.createElement(ao.a,null))))}),c&&l.a.createElement(Vc,{key:"skeleton",columns:4}))))))};const Gu=Object(I.a)(e=>({mainPaper:{flex:1,padding:e.spacing(2),paddingBottom:100},mainHeader:{marginTop:e.spacing(1)},elementMargin:{padding:e.spacing(2)},formContainer:{maxWidth:500},textRight:{textAlign:"right"}}));var Ku=()=>{const e=Gu(),a=Object(O.useHistory)(),[t]=Object(n.useState)({token:"",number:"",body:"",userId:"",queueId:""}),[o]=Object(n.useState)({token:"",number:"",medias:"",body:"",userId:"",queueId:""}),[r,i]=Object(n.useState)({}),{user:s,socket:d}=Object(n.useContext)(ua),{getPlanCompany:m}=va();Object(n.useEffect)(()=>{!async function(){const e=s.companyId;(await m(void 0,e)).plan.useExternalApi||(S.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{a.push("/")},1e3))}()},[]);return l.a.createElement(Bt.a,{className:e.mainPaper,style:{marginLeft:"5px"},variant:"outlined"},l.a.createElement(z.a,{variant:"h5"},aa.a.t("messagesAPI.API.title")),l.a.createElement(z.a,{variant:"h6",color:"primary",className:e.elementMargin},aa.a.t("messagesAPI.API.methods.title")),l.a.createElement(z.a,{component:"div"},l.a.createElement("ol",null,l.a.createElement("li",null,aa.a.t("messagesAPI.API.methods.messagesText")),l.a.createElement("li",null,aa.a.t("messagesAPI.API.methods.messagesMidia")))),l.a.createElement(z.a,{variant:"h6",color:"primary",className:e.elementMargin},aa.a.t("messagesAPI.API.instructions.title")),l.a.createElement(z.a,{className:e.elementMargin,component:"div"},l.a.createElement("b",null,aa.a.t("messagesAPI.API.instructions.comments")),l.a.createElement("br",null),l.a.createElement("ul",null,l.a.createElement("li",null,aa.a.t("messagesAPI.API.instructions.comments1")),l.a.createElement("li",null,aa.a.t("messagesAPI.API.instructions.comments2"),l.a.createElement("ul",null,l.a.createElement("li",null,aa.a.t("messagesAPI.API.instructions.codeCountry")),l.a.createElement("li",null,aa.a.t("messagesAPI.API.instructions.code")),l.a.createElement("li",null,aa.a.t("messagesAPI.API.instructions.number")))))),l.a.createElement(z.a,{variant:"h6",color:"primary",className:e.elementMargin},aa.a.t("messagesAPI.API.text.title")),l.a.createElement(ht.a,{container:!0},l.a.createElement(ht.a,{item:!0,xs:12,sm:6},l.a.createElement(z.a,{className:e.elementMargin,component:"div"},l.a.createElement("p",null,aa.a.t("messagesAPI.API.text.instructions")),l.a.createElement("b",null,"Endpoint: ")," ","http://localhost:8081/api/messages/send"," ",l.a.createElement("br",null),l.a.createElement("b",null,"M\xe9todo: ")," POST ",l.a.createElement("br",null),l.a.createElement("b",null,"Headers: ")," Authorization Bearer (token registrado) e Content-Type (application/json) ",l.a.createElement("br",null),l.a.createElement("b",null,"Body: ")," ","{"," ",l.a.createElement("br",null),'"number": "558599999999" ',l.a.createElement("br",null),'"body": "Message" ',l.a.createElement("br",null),'"userId": ID usu\xe1rio ou "" ',l.a.createElement("br",null),'"queueId": ID Fila ou ""',l.a.createElement("br",null),'"sendSignature": Assinar mensagem - true/false ',l.a.createElement("br",null),'"closeTicket": Encerrar o ticket - true/false',l.a.createElement("br",null),"}")),l.a.createElement(ht.a,{item:!0,xs:12,sm:6},l.a.createElement(z.a,{className:e.elementMargin},l.a.createElement("b",null,"Teste de Envio")),l.a.createElement(Ct.e,{initialValues:t,enableReinitialize:!0,onSubmit:(e,a)=>{setTimeout(async()=>{await(async e=>{const{number:a,body:t,userId:n,queueId:l}=e,o={number:a,body:t,userId:n,queueId:l};try{await c.a.request({url:"http://localhost:8081/api/messages/send",method:"POST",data:o,headers:{"Content-type":"application/json",Authorization:"Bearer "+e.token}}),S.b.success("Mensagem enviada com sucesso")}catch(r){oa(r)}})(e),a.setSubmitting(!1),a.resetForm()},400)},className:e.elementMargin},a=>{let{isSubmitting:t}=a;return l.a.createElement(Ct.d,{className:e.formContainer},l.a.createElement(ht.a,{container:!0,spacing:2},l.a.createElement(ht.a,{item:!0,xs:12,md:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("messagesAPI.textMessage.token"),name:"token",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})),l.a.createElement(ht.a,{item:!0,xs:12,md:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("messagesAPI.textMessage.number"),name:"number",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})),l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("messagesAPI.textMessage.body"),name:"body",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})),l.a.createElement(ht.a,{item:!0,xs:12,md:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("messagesAPI.textMessage.userId"),name:"userId",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField})),l.a.createElement(ht.a,{item:!0,xs:12,md:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("messagesAPI.textMessage.queueId"),name:"queueId",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField})),l.a.createElement(ht.a,{item:!0,xs:12,className:e.textRight},l.a.createElement(kt.a,{type:"submit",color:"primary",variant:"contained",className:e.btnWrapper},t?l.a.createElement(It.a,{size:24,className:e.buttonProgress}):"Enviar"))))}))),l.a.createElement(z.a,{variant:"h6",color:"primary",className:e.elementMargin},aa.a.t("messagesAPI.API.media.title")),l.a.createElement(ht.a,{container:!0},l.a.createElement(ht.a,{item:!0,xs:12,sm:6},l.a.createElement(z.a,{className:e.elementMargin,component:"div"},l.a.createElement("p",null,aa.a.t("messagesAPI.API.media.instructions")),l.a.createElement("b",null,"Endpoint: ")," ","http://localhost:8081/api/messages/send"," ",l.a.createElement("br",null),l.a.createElement("b",null,"M\xe9todo: ")," POST ",l.a.createElement("br",null),l.a.createElement("b",null,"Headers: ")," Authorization Bearer (token cadastrado) e Content-Type (multipart/form-data) ",l.a.createElement("br",null),l.a.createElement("b",null,"FormData: ")," ",l.a.createElement("br",null),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("b",null,"number: ")," 558599999999"),l.a.createElement("li",null,l.a.createElement("b",null,"body:")," Message"),l.a.createElement("li",null,l.a.createElement("b",null,"userId:"),' ID usu\xe1rio ou ""'),l.a.createElement("li",null,l.a.createElement("b",null,"queueId:"),' ID da fila ou ""'),l.a.createElement("li",null,l.a.createElement("b",null,"medias: ")," arquivo"),l.a.createElement("li",null,l.a.createElement("b",null,"sendSignature:")," Assinar mensagem true/false"),l.a.createElement("li",null,l.a.createElement("b",null,"closeTicket:")," Encerrar ticket true/false")))),l.a.createElement(ht.a,{item:!0,xs:12,sm:6},l.a.createElement(z.a,{className:e.elementMargin},l.a.createElement("b",null,"Teste de Envio")),l.a.createElement(Ct.e,{initialValues:o,enableReinitialize:!0,onSubmit:(e,a)=>{setTimeout(async()=>{await(async e=>{try{const a=r[0],t=new FormData;t.append("number",e.number),t.append("body",e.body?e.body:a.name),t.append("userId",e.userId),t.append("queueId",e.queueId),t.append("medias",a),await c.a.request({url:"http://localhost:8081/api/messages/send",method:"POST",data:t,headers:{"Content-type":"multipart/form-data",Authorization:"Bearer "+e.token}}),S.b.success("Mensagem enviada com sucesso")}catch(a){oa(a)}})(e),a.setSubmitting(!1),a.resetForm(),document.getElementById("medias").files=null,document.getElementById("medias").value=null},400)},className:e.elementMargin},a=>{let{isSubmitting:t}=a;return l.a.createElement(Ct.d,{className:e.formContainer},l.a.createElement(ht.a,{container:!0,spacing:2},l.a.createElement(ht.a,{item:!0,xs:12,md:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("messagesAPI.mediaMessage.token"),name:"token",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})),l.a.createElement(ht.a,{item:!0,xs:12,md:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("messagesAPI.mediaMessage.number"),name:"number",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})),l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("messagesAPI.textMessage.body"),name:"body",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField})),l.a.createElement(ht.a,{item:!0,xs:12,md:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("messagesAPI.textMessage.userId"),name:"userId",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField})),l.a.createElement(ht.a,{item:!0,xs:12,md:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("messagesAPI.textMessage.queueId"),name:"queueId",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField})),l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement("input",{type:"file",name:"medias",id:"medias",required:!0,onChange:e=>i(e.target.files)})),l.a.createElement(ht.a,{item:!0,xs:12,className:e.textRight},l.a.createElement(kt.a,{type:"submit",color:"primary",variant:"contained",className:e.btnWrapper},t?l.a.createElement(It.a,{size:24,className:e.buttonProgress}):"Enviar"))))}))))};const Yu=Object(I.a)(e=>({mainPaperContainer:{overflowY:"auto",maxHeight:"calc(100vh - 200px)"},mainPaper:{width:"100%",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:e.spacing(3),padding:e.spacing(2),marginBottom:e.spacing(3)},helpPaper:{position:"relative",width:"100%",minHeight:"340px",padding:e.spacing(2),boxShadow:e.shadows[3],borderRadius:e.spacing(1),cursor:"pointer",display:"flex",flexDirection:"column",justifyContent:"space-between",maxWidth:"340px"},paperHover:{transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"scale(1.03)",boxShadow:"0 0 8px",color:e.palette.primary.main}},videoThumbnail:{width:"100%",height:"calc(100% - 56px)",objectFit:"cover",borderRadius:`${e.spacing(1)}px ${e.spacing(1)}px 0 0`},videoTitle:{marginTop:e.spacing(1),flex:1},videoDescription:{maxHeight:"100px",overflow:"hidden"},videoModal:{display:"flex",alignItems:"center",justifyContent:"center"},videoModalContent:{outline:"none",width:"90%",maxWidth:1024,aspectRatio:"16/9",position:"relative",backgroundColor:"white",borderRadius:e.spacing(1),overflow:"hidden"}}));var Xu=()=>{const e=Yu(),[a,t]=Object(n.useState)([]),{list:o}=Z(),[r,i]=Object(n.useState)(null);Object(n.useEffect)(()=>{!async function(){const e=await o();t(e)}()},[]);const s=()=>{i(null)},c=Object(n.useCallback)(e=>{"Escape"===e.key&&s()},[]);Object(n.useEffect)(()=>(document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}),[c]);return l.a.createElement(Bc,null,l.a.createElement(qc,null,l.a.createElement(Uc,null,aa.a.t("helps.title")," (",a.length,")"),l.a.createElement(Hc,null)),l.a.createElement("div",{className:e.mainPaper},l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:`${e.mainPaper} ${e.mainPaperContainer}`},a.length?a.map((a,t)=>l.a.createElement(Bt.a,{key:t,className:`${e.helpPaper} ${e.paperHover}`,onClick:()=>{return e=a.video,void i(e);var e}},l.a.createElement("img",{src:`https://img.youtube.com/vi/${a.video}/mqdefault.jpg`,alt:"Thumbnail",className:e.videoThumbnail}),l.a.createElement(z.a,{variant:"button",className:e.videoTitle},a.title),l.a.createElement(z.a,{variant:"caption",className:e.videoDescription},a.description))):null))),l.a.createElement(Wu.a,{open:Boolean(r),onClose:s,className:e.videoModal},l.a.createElement("div",{className:e.videoModalContent},r&&l.a.createElement("iframe",{style:{width:"100%",height:"100%",position:"absolute",top:0,left:0},src:"https://www.youtube.com/embed/"+r,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}))))},Ju=t(950),Zu=t.n(Ju);const _u=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120}})),$u=xt.c().shape({name:xt.e().min(2,"Too Short!").max(50,"Too Long!").required("Required")});var ep=e=>{let{open:a,onClose:t,contactListId:o}=e;const r=_u(),i={name:""},[s,c]=Object(n.useState)(i);Object(n.useEffect)(()=>{(async()=>{if(o)try{const{data:e}=await u.get("/contact-lists/"+o);c(a=>({...a,...e}))}catch(e){oa(e)}})()},[o,a]);const d=()=>{t(),c(i)};return l.a.createElement("div",{className:r.root},l.a.createElement(Tt.a,{open:a,onClose:d,maxWidth:"xs",fullWidth:!0,scroll:"paper"},l.a.createElement(Mt.a,{id:"form-dialog-title"},o?""+aa.a.t("contactLists.dialog.edit"):""+aa.a.t("contactLists.dialog.add")),l.a.createElement(Ct.e,{initialValues:s,enableReinitialize:!0,validationSchema:$u,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e};try{o?await u.put("/contact-lists/"+o,a):await u.post("/contact-lists",a),S.b.success(aa.a.t("contactList.dialog"))}catch(t){oa(t)}d()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n}=e;return l.a.createElement(Ct.d,null,l.a.createElement(St.a,{dividers:!0},l.a.createElement("div",{className:r.multFieldLine},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("contactLists.dialog.name"),autoFocus:!0,name:"name",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:"outlined",margin:"dense",fullWidth:!0}))),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:d,color:"secondary",disabled:n,variant:"outlined"},aa.a.t("contactLists.dialog.cancel")),l.a.createElement(kt.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:r.btnWrapper},o?""+aa.a.t("contactLists.dialog.okEdit"):""+aa.a.t("contactLists.dialog.okAdd"),n&&l.a.createElement(It.a,{size:24,className:r.buttonProgress}))))})))},ap=t(553),tp=t.n(ap);const np=(e,a)=>{if("LOAD_CONTACTLISTS"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_CONTACTLIST"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_CONTACTLIST"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},lp=Object(I.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var op=()=>{const e=lp(),a=Object(O.useHistory)(),[t,o]=Object(n.useState)(!1),[r,i]=Object(n.useState)(1),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(null),[p,g]=Object(n.useState)(null),[E,b]=Object(n.useState)(!1),[f,h]=Object(n.useState)(!1),[A,v]=Object(n.useState)(""),[y,x]=Object(n.useReducer)(np,[]),{user:C,socket:k}=Object(n.useContext)(ua);Object(n.useEffect)(()=>{x({type:"RESET"}),i(1)},[A]),Object(n.useEffect)(()=>{o(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("/contact-lists/",{params:{searchParam:A,pageNumber:r}});x({type:"LOAD_CONTACTLISTS",payload:e.records}),c(e.hasMore),o(!1)}catch(e){oa(e)}})()},500);return()=>clearTimeout(e)},[A,r]),Object(n.useEffect)(()=>{const e=C.companyId,a=e=>{"update"!==e.action&&"create"!==e.action||x({type:"UPDATE_CONTACTLIST",payload:e.record}),"delete"===e.action&&x({type:"DELETE_CONTACTLIST",payload:+e.id})};return k.on(`company-${e}-ContactList`,a),()=>{k.off(`company-${e}-ContactList`,a)}},[]);return l.a.createElement(Bc,null,l.a.createElement(Ir,{title:p&&`${aa.a.t("contactLists.confirmationModal.deleteTitle")} ${p.name}?`,open:f,onClose:h,onConfirm:()=>(async e=>{try{await u.delete("/contact-lists/"+e),S.b.success(aa.a.t("contactLists.toasts.deleted"))}catch(a){oa(a)}g(null),v(""),i(1)})(p.id)},aa.a.t("contactLists.confirmationModal.deleteMessage")),l.a.createElement(ep,{open:E,onClose:()=>{m(null),b(!1)},"aria-labelledby":"form-dialog-title",contactListId:d&&d.id}),l.a.createElement(qc,null,l.a.createElement(ht.a,{style:{width:"99.6%"},container:!0},l.a.createElement(ht.a,{xs:12,sm:8,item:!0},l.a.createElement(Uc,null,aa.a.t("contactLists.title"))),l.a.createElement(ht.a,{xs:12,sm:4,item:!0},l.a.createElement(ht.a,{spacing:2,container:!0},l.a.createElement(ht.a,{xs:7,sm:6,item:!0},l.a.createElement(wt.a,{fullWidth:!0,placeholder:aa.a.t("contacts.searchPlaceholder"),type:"search",value:A,onChange:e=>{v(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(fc.a,{position:"start"},l.a.createElement(Lm.a,{style:{color:"gray"}}))}})),l.a.createElement(ht.a,{xs:5,sm:6,item:!0},l.a.createElement(kt.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{m(null),b(!0)}},aa.a.t("contactLists.buttons.add"))))))),l.a.createElement(Bt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!s||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:l}=e.currentTarget;n-(a+100)<l&&i(e=>e+1)}},l.a.createElement(Gn.a,{size:"small"},l.a.createElement(Jn.a,null,l.a.createElement(Zn.a,null,l.a.createElement(Yn.a,{align:"center"},aa.a.t("contactLists.table.name")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("contactLists.table.contacts")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("contactLists.table.actions")))),l.a.createElement(Kn.a,null,l.a.createElement(l.a.Fragment,null,y.map(e=>l.a.createElement(Zn.a,{key:e.id},l.a.createElement(Yn.a,{align:"center"},e.name),l.a.createElement(Yn.a,{align:"center"},e.contactsCount||0),l.a.createElement(Yn.a,{align:"center"},l.a.createElement("a",{href:tp.a,download:"planilha.xlsx"},l.a.createElement(D.a,{size:"small",title:"Baixar Planilha Exemplo"},l.a.createElement(Zu.a,null))),l.a.createElement(D.a,{size:"small",onClick:()=>{return t=e.id,void a.push(`/contact-lists/${t}/contacts`);var t}},l.a.createElement(Le.a,null)),l.a.createElement(D.a,{size:"small",onClick:()=>(e=>{m(e),b(!0)})(e)},l.a.createElement(Wm.a,null)),l.a.createElement(D.a,{size:"small",onClick:a=>{h(!0),g(e)}},l.a.createElement(ao.a,null))))),t&&l.a.createElement(Vc,{columns:3}))))))};const rp=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})),ip=xt.c().shape({name:xt.e().min(2,"Too Short!").max(50,"Too Long!").required("Required"),number:xt.e().min(8,"Too Short!").max(50,"Too Long!"),email:xt.e().email("Invalid email")});var sp=e=>{let{open:a,onClose:t,contactId:o,initialValues:r,onSave:i}=e;const s=rp(),c=Object(n.useRef)(!0),{user:{companyId:d}}=Object(n.useContext)(ua),{contactListId:m}=Object(O.useParams)(),p={name:"",number:"",email:""},[g,E]=Object(n.useState)(p);Object(n.useEffect)(()=>()=>{c.current=!1},[]),Object(n.useEffect)(()=>{(async()=>{if(r&&E(e=>({...e,...r})),o)try{const{data:e}=await u.get("/contact-list-items/"+o);c.current&&E(e)}catch(e){oa(e)}})()},[o,a,r]);const b=()=>{t(),E(p)};return l.a.createElement("div",{className:s.root},l.a.createElement(Tt.a,{open:a,onClose:b,maxWidth:"lg",scroll:"paper"},l.a.createElement(Mt.a,{id:"form-dialog-title"},o?""+aa.a.t("contactModal.title.edit"):""+aa.a.t("contactModal.title.add")),l.a.createElement(Ct.e,{initialValues:g,enableReinitialize:!0,validationSchema:ip,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{try{if(o)await u.put("/contact-list-items/"+o,{...e,companyId:d,contactListId:m}),b();else{const{data:a}=await u.post("/contact-list-items",{...e,companyId:d,contactListId:m});i&&i(a),b()}S.b.success(aa.a.t("contactModal.success"))}catch(a){oa(a)}})(e),a.setSubmitting(!1)},400)}},e=>{let{values:a,errors:t,touched:n,isSubmitting:r}=e;return l.a.createElement(Ct.d,null,l.a.createElement(St.a,{dividers:!0},l.a.createElement(z.a,{variant:"subtitle1",gutterBottom:!0},aa.a.t("contactModal.form.mainInfo")),l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("contactModal.form.name"),name:"name",autoFocus:!0,error:n.name&&Boolean(t.name),helperText:n.name&&t.name,variant:"outlined",margin:"dense",className:s.textField}),l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("contactModal.form.number"),name:"number",error:n.number&&Boolean(t.number),helperText:n.number&&t.number,placeholder:"5513912344321",variant:"outlined",margin:"dense"}),l.a.createElement("div",null,l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("contactModal.form.email"),name:"email",error:n.email&&Boolean(t.email),helperText:n.email&&t.email,placeholder:"Email address",fullWidth:!0,margin:"dense",variant:"outlined"}))),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:b,color:"secondary",disabled:r,variant:"outlined"},aa.a.t("contactModal.buttons.cancel")),l.a.createElement(kt.a,{type:"submit",color:"primary",disabled:r,variant:"contained",className:s.btnWrapper},o?""+aa.a.t("contactModal.buttons.okEdit"):""+aa.a.t("contactModal.buttons.okAdd"),r&&l.a.createElement(It.a,{size:24,className:s.buttonProgress}))))})))};var cp=()=>({findById:async e=>{const{data:a}=await u.request({url:"/contact-lists/"+e,method:"GET"});return a},save:async e=>{const{data:a}=await u.request({url:"/contact-lists",method:"POST",data:e});return a},update:async e=>{const{data:a}=await u.request({url:"/contact-lists/"+e.id,method:"PUT",data:e});return a},deleteRecord:async e=>{const{data:a}=await u.request({url:"/contact-lists/"+e,method:"DELETE"});return a},list:async e=>{const{data:a}=await u.request({url:"/contact-lists/list",method:"GET",params:e});return a}});const dp=(e,a)=>{if("LOAD_CONTACTS"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_CONTACTS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_CONTACT"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},mp=Object(I.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var up=()=>{const e=mp(),{user:a,socket:t}=Object(n.useContext)(ua),{contactListId:o}=Object(O.useParams)(),r=Object(O.useHistory)(),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(1),[m,p]=Object(n.useState)(""),[g,E]=Object(n.useReducer)(dp,[]),[b,f]=Object(n.useState)(null),[h,A]=Object(n.useState)(!1),[v,y]=Object(n.useState)(null),[x,C]=Object(n.useState)(!1),[k,w]=Object(n.useState)(!1),[T,M]=Object(n.useState)({}),I=Object(n.useRef)(null),{findById:j}=cp();Object(n.useEffect)(()=>{j(o).then(e=>{M(e)})},[o]),Object(n.useEffect)(()=>{E({type:"RESET"}),d(1)},[m]),Object(n.useEffect)(()=>{s(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("contact-list-items",{params:{searchParam:m,pageNumber:c,contactListId:o}});E({type:"LOAD_CONTACTS",payload:e.contacts}),w(e.hasMore),s(!1)}catch(e){oa(e)}})()},500);return()=>clearTimeout(e)},[m,c,o]),Object(n.useEffect)(()=>{const e=a.companyId,n=e=>{"update"!==e.action&&"create"!==e.action||E({type:"UPDATE_CONTACTS",payload:e.record}),"delete"===e.action&&E({type:"DELETE_CONTACT",payload:+e.id}),"reload"===e.action&&E({type:"LOAD_CONTACTS",payload:e.records})};return t.on(`company-${e}-ContactListItem`,n),()=>{t.off(`company-${e}-ContactListItem`,n)}},[o]);return l.a.createElement(Bc,{className:e.mainContainer},l.a.createElement(sp,{open:h,onClose:()=>{f(null),A(!1)},"aria-labelledby":"form-dialog-title",contactId:b}),l.a.createElement(Ir,{title:v?`${aa.a.t("contactListItems.confirmationModal.deleteTitle")} ${v.name}?`:""+aa.a.t("contactListItems.confirmationModal.importTitlte"),open:x,onClose:C,onConfirm:()=>v?(async e=>{try{await u.delete("/contact-list-items/"+e),S.b.success(aa.a.t("contacts.toasts.deleted"))}catch(a){oa(a)}y(null),p(""),d(1)})(v.id):(async()=>{try{const e=new FormData;e.append("file",I.current.files[0]),await u.request({url:`contact-lists/${o}/upload`,method:"POST",data:e})}catch(e){oa(e)}})()},v?""+aa.a.t("contactListItems.confirmationModal.deleteMessage"):l.a.createElement(l.a.Fragment,null,aa.a.t("contactListItems.confirmationModal.importMessage"),l.a.createElement("a",{href:tp.a,download:"planilha.xlsx"},"Clique aqui para baixar planilha exemplo."))),"user"===a.profile?l.a.createElement(Tl,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(qc,null,l.a.createElement(ht.a,{style:{width:"99.6%"},container:!0},l.a.createElement(ht.a,{xs:12,sm:5,item:!0},l.a.createElement(Uc,null,T.name)),l.a.createElement(ht.a,{xs:12,sm:7,item:!0},l.a.createElement(ht.a,{spacing:2,container:!0},l.a.createElement(ht.a,{xs:12,sm:6,item:!0},l.a.createElement(wt.a,{fullWidth:!0,placeholder:aa.a.t("contactListItems.searchPlaceholder"),type:"search",value:m,onChange:e=>{p(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(fc.a,{position:"start"},l.a.createElement(Lm.a,{style:{color:"gray"}}))}})),l.a.createElement(ht.a,{xs:4,sm:2,item:!0},l.a.createElement(kt.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{r.push("/contact-lists")}},aa.a.t("contactListItems.buttons.lists"))),l.a.createElement(ht.a,{xs:4,sm:2,item:!0},l.a.createElement(kt.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{I.current.value=null,I.current.click()}},aa.a.t("contactListItems.buttons.import"))),l.a.createElement(ht.a,{xs:4,sm:2,item:!0},l.a.createElement(kt.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{f(null),A(!0)}},aa.a.t("contactListItems.buttons.add"))))))),l.a.createElement(Bt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!k||i)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&d(e=>e+1)}},l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{style:{display:"none"},id:"upload",name:"file",type:"file",accept:".xls,.xlsx",onChange:()=>{C(!0)},ref:I})),l.a.createElement(Gn.a,{size:"small"},l.a.createElement(Jn.a,null,l.a.createElement(Zn.a,null,l.a.createElement(Yn.a,{align:"center",style:{width:"0%"}},"#"),l.a.createElement(Yn.a,null,aa.a.t("contactListItems.table.name")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("contactListItems.table.number")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("contactListItems.table.email")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("contactListItems.table.actions")))),l.a.createElement(Kn.a,null,l.a.createElement(l.a.Fragment,null,g.map(e=>l.a.createElement(Zn.a,{key:e.id},l.a.createElement(Yn.a,{align:"center",style:{width:"0%"}},l.a.createElement(D.a,null,e.isWhatsappValid?l.a.createElement(qa.a,{titleAccess:"Whatsapp V\xe1lido",htmlColor:"green"}):l.a.createElement(Ym.a,{titleAccess:"Whatsapp Inv\xe1lido",htmlColor:"grey"}))),l.a.createElement(Yn.a,null,e.name),l.a.createElement(Yn.a,{align:"center"},e.number),l.a.createElement(Yn.a,{align:"center"},e.email),l.a.createElement(Yn.a,{align:"center"},l.a.createElement(D.a,{size:"small",onClick:()=>{return a=e.id,f(a),void A(!0);var a}},l.a.createElement(Wm.a,null)),l.a.createElement(Aa,{role:a.profile,perform:"contacts-page:deleteContact",yes:()=>l.a.createElement(D.a,{size:"small",onClick:()=>{C(!0),y(e)}},l.a.createElement(ao.a,null))})))),i&&l.a.createElement(Vc,{columns:4})))))))},pp=t(1692),gp=t(1693);const Ep=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120}})),bp=xt.c().shape({name:xt.e().min(2,"Too Short!").max(50,"Too Long!").required("Nome \xe9 obrigat\xf3rio"),email:xt.e().email("Email \xe9 inv\xe1lido").required("E-mail \xe9 obrigat\xf3rio"),numberAttendants:xt.b(),numberConections:xt.b()});var fp=e=>{let{open:a,onClose:t,companyId:o}=e;const r=Ep(),i={name:"",email:"",passwordDefault:"",numberAttendants:1,numberConections:1,status:!1},[s,c]=Object(n.useState)(i),[d,m]=Object(n.useState)(!1);Object(n.useEffect)(()=>{(async()=>{if(o)try{const{data:e}=await u.get("/companies/listPlan/"+o);c(a=>({...a,...e}))}catch(e){oa(e)}})()},[o,a]);const p=()=>{t(),c(i)};return l.a.createElement("div",{className:r.root},l.a.createElement(Tt.a,{open:a,onClose:p,maxWidth:"xs",fullWidth:!0,scroll:"paper"},l.a.createElement(Mt.a,{id:"form-dialog-title"},o?""+aa.a.t("companyModal.title.edit"):""+aa.a.t("companyModal.title.add")),l.a.createElement(Ct.e,{initialValues:s,enableReinitialize:!0,validationSchema:bp,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e};try{o?await u.put("/companies/"+o,a):await u.post("/companies",a),S.b.success(aa.a.t("companyModal.success"))}catch(t){oa(t)}p()})(e),a.setSubmitting(!1)},400)}},e=>{let{values:a,touched:t,errors:n,isSubmitting:i}=e;return l.a.createElement(Ct.d,null,l.a.createElement(St.a,{dividers:!0},l.a.createElement("div",{className:r.multFieldLine},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("companyModal.form.name"),autoFocus:!0,name:"name",error:t.name&&Boolean(n.name),helperText:t.name&&n.name,variant:"outlined",margin:"dense",fullWidth:!0})),l.a.createElement("div",{className:r.multFieldLine},l.a.createElement(Bi.a,{control:l.a.createElement(Ct.b,{as:Nl.a,color:"primary",name:"status",checked:a.status}),label:"Ativo"})),l.a.createElement("div",{className:r.multFieldLine},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("companyModal.form.email"),name:"email",error:t.email&&Boolean(n.email),helperText:t.email&&n.email,variant:"outlined",margin:"dense",fullWidth:!0})),l.a.createElement("div",{className:r.multFieldLine},l.a.createElement(Ct.b,{as:wt.a,name:"passwordDefault",variant:"outlined",margin:"dense",label:aa.a.t("companyModal.form.passwordDefault"),error:t.passwordDefault&&Boolean(n.passwordDefault),helperText:t.passwordDefault&&n.passwordDefault,type:d?"text":"password",InputProps:{endAdornment:l.a.createElement(fc.a,{position:"end"},l.a.createElement(D.a,{"aria-label":"toggle password visibility",onClick:()=>m(e=>!e)},d?l.a.createElement(pp.a,null):l.a.createElement(gp.a,null)))},fullWidth:!0}))),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:p,color:"secondary",disabled:i,variant:"outlined"},aa.a.t("companyModal.buttons.cancel")),l.a.createElement(kt.a,{type:"submit",color:"primary",disabled:i,variant:"contained",className:r.btnWrapper},o?""+aa.a.t("companyModal.buttons.okEdit"):""+aa.a.t("companyModal.buttons.okAdd"),i&&l.a.createElement(It.a,{size:24,className:r.buttonProgress}))))})))};const hp=(e,a)=>{if("LOAD_COMPANIES"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_COMPANIES"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_COMPANIES"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},Ap=Object(I.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var vp=()=>{const e=Ap(),a=Object(O.useHistory)(),[t,o]=Object(n.useState)(!1),[r,i]=Object(n.useState)(1),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(null),[p,g]=Object(n.useState)(null),[E,b]=Object(n.useState)(!1),[f,h]=Object(n.useState)(!1),[A,v]=Object(n.useState)(""),[y,x]=Object(n.useReducer)(hp,[]),{dateToClient:C,datetimeToClient:k}=un(),{user:w,socket:T}=Object(n.useContext)(ua);Object(n.useEffect)(()=>{!async function(){w.super||(S.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{a.push("/")},1e3))}()},[]),Object(n.useEffect)(()=>{x({type:"RESET"}),i(1)},[A]),Object(n.useEffect)(()=>{o(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("/companiesPlan/",{params:{searchParam:A,pageNumber:r}});x({type:"LOAD_COMPANIES",payload:e.companies}),c(e.hasMore),o(!1)}catch(e){oa(e)}})()},500);return()=>clearTimeout(e)},[A,r]);const M=e=>{if(da()(e.dueDate).isValid()){const a=da()(),t=da()(e.dueDate).diff(a,"days");if(t>=1&&t<=5)return{backgroundColor:"#fffead"};if(t<=0)return{backgroundColor:"#fa8c8c"}}return{}};return l.a.createElement(Bc,null,l.a.createElement(Ir,{title:p&&`${aa.a.t("compaies.confirmationModal.deleteTitle")} ${p.name}?`,open:f,onClose:h,onConfirm:()=>(async e=>{try{await u.delete("/companies/"+e),S.b.success(aa.a.t("compaies.toasts.deleted"))}catch(a){oa(a)}g(null),v(""),i(1)})(p.id)},aa.a.t("compaies.confirmationModal.deleteMessage")),l.a.createElement(fp,{open:E,onClose:()=>{m(null),b(!1)},"aria-labelledby":"form-dialog-title",companyId:d&&d.id}),l.a.createElement(qc,null,l.a.createElement(Uc,null,aa.a.t("compaies.title")," (",y.length,")")),l.a.createElement(Bt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!s||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:l}=e.currentTarget;n-(a+100)<l&&i(e=>e+1)}},l.a.createElement(Gn.a,{size:"small"},l.a.createElement(Jn.a,null,l.a.createElement(Zn.a,null,l.a.createElement(Yn.a,{align:"center"},aa.a.t("compaies.table.ID")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("compaies.table.status")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("compaies.table.name")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("compaies.table.email")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("compaies.table.namePlan")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("compaies.table.value")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("compaies.table.createdAt")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("compaies.table.dueDate")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("compaies.table.lastLogin")),l.a.createElement(Yn.a,{align:"center"},"Tamanho da pasta"),l.a.createElement(Yn.a,{align:"center"},"Total de arquivos"),l.a.createElement(Yn.a,{align:"center"},"Ultimo update"))),l.a.createElement(Kn.a,null,l.a.createElement(l.a.Fragment,null,y.map(e=>{var a;return l.a.createElement(Zn.a,{style:M(e),key:e.id},l.a.createElement(Yn.a,{align:"center"},e.id),l.a.createElement(Yn.a,{align:"center"},!1===e.status.status?"N\xe3o":"Sim"),l.a.createElement(Yn.a,{align:"center"},e.name),l.a.createElement(Yn.a,{align:"center"},e.email),l.a.createElement(Yn.a,{align:"center"},null===e||void 0===e||null===(a=e.plan)||void 0===a?void 0:a.name),l.a.createElement(Yn.a,{align:"center"},"R$ ",(e=>null!==e.planId?e.plan.amount?e.plan.amount.toLocaleString("pt-br",{minimumFractionDigits:2}):"00.00":"-")(e)),l.a.createElement(Yn.a,{align:"center"},C(e.createdAt)),l.a.createElement(Yn.a,{align:"center"},C(e.dueDate),l.a.createElement("br",null),l.a.createElement("span",null,e.recurrence)),l.a.createElement(Yn.a,{align:"center"},k(e.lastLogin)),l.a.createElement(Yn.a,{align:"center"},e.folderSize),l.a.createElement(Yn.a,{align:"center"},e.numberFileFolder),l.a.createElement(Yn.a,{align:"center"},k(e.updatedAtFolder)))}),t&&l.a.createElement(Vc,{columns:4}))))))};const yp=t(624),xp=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}})),Cp=xt.c().shape({shortcode:xt.e().required("Obrigat\xf3rio")});var kp=e=>{let{open:a,onClose:t,quickemessageId:o,reload:r}=e;const i=xp(),{user:s}=Object(n.useContext)(ua),c=Object(n.useRef)(),d={shortcode:"",message:"",geral:!1,status:!0},[m,p]=Object(n.useState)(!1),[g,E]=Object(n.useState)(d),[b,f]=Object(n.useState)(null),h=Object(n.useRef)(null);Object(n.useEffect)(()=>{try{(async()=>{if(!o)return;const{data:e}=await u.get("/quick-messages/"+o);E(a=>({...a,...e}))})()}catch(e){oa(e)}},[o,a]);const A=()=>{E(d),f(null),t()};return l.a.createElement("div",{className:i.root},l.a.createElement(Ir,{title:aa.a.t("quickMessages.confirmationModal.deleteTitle"),open:m,onClose:()=>p(!1),onConfirm:async()=>{b&&(f(null),h.current.value=null),g.mediaPath&&(await u.delete(`/quick-messages/${g.id}/media-upload`),E(e=>({...e,mediaPath:null})),S.b.success(aa.a.t("quickMessages.toasts.deleted")),"function"==typeof r&&(console.log(r),console.log("1"),r()))}},aa.a.t("quickMessages.confirmationModal.deleteMessage")),l.a.createElement(Tt.a,{open:a,onClose:A,maxWidth:"xs",fullWidth:!0,scroll:"paper"},l.a.createElement(Mt.a,{id:"form-dialog-title"},o?""+aa.a.t("quickMessages.dialog.edit"):""+aa.a.t("quickMessages.dialog.add")),l.a.createElement("div",{style:{display:"none"}},l.a.createElement("input",{type:"file",ref:h,onChange:e=>(e=>{const a=Object(la.head)(e.target.files);a&&f(a)})(e)})),l.a.createElement(Ct.e,{initialValues:g,enableReinitialize:!0,validationSchema:Cp,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e,isMedia:!0,mediaPath:b?String(b.name).replace(/ /g,"_"):e.mediaPath?yp.basename(e.mediaPath).replace(/ /g,"_"):null};try{if(o){if(await u.put("/quick-messages/"+o,a),null!=b){const e=new FormData;e.append("typeArch","quickMessage"),e.append("file",b),await u.post(`/quick-messages/${o}/media-upload`,e)}}else{const{data:e}=await u.post("/quick-messages",a);if(null!=b){const a=new FormData;a.append("typeArch","quickMessage"),a.append("file",b),await u.post(`/quick-messages/${e.id}/media-upload`,a)}}S.b.success(aa.a.t("quickMessages.toasts.success")),"function"==typeof r&&(console.log(r),console.log("0"),r())}catch(t){oa(t)}A()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,setFieldValue:r,values:d}=e;return l.a.createElement(Ct.d,null,l.a.createElement(St.a,{dividers:!0},l.a.createElement(ht.a,{spacing:2,container:!0},l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(Ct.b,{as:wt.a,autoFocus:!0,label:aa.a.t("quickMessages.dialog.shortcode"),name:"shortcode",disabled:o&&d.visao&&!d.geral&&d.userId!==s.id,error:a.shortcode&&Boolean(t.shortcode),helperText:a.shortcode&&t.shortcode,variant:"outlined",margin:"dense",fullWidth:!0})),l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("quickMessages.dialog.message"),name:"message",inputRef:c,error:a.message&&Boolean(t.message),helperText:a.message&&t.message,variant:"outlined",margin:"dense",disabled:o&&d.visao&&!d.geral&&d.userId!==s.id,multiline:!0,rows:7,fullWidth:!0})),l.a.createElement(ht.a,{item:!0},l.a.createElement(Qi,{disabled:n||o&&d.visao&&!d.geral&&d.userId!==s.id,onClick:e=>(async(e,a)=>{const t=c.current,n=t.value.substring(0,t.selectionStart),l=t.value.substring(t.selectionEnd),o=t.selectionStart+e.length;a("message",`${n}${e}${l}`),await new Promise(e=>setTimeout(e,100)),c.current.setSelectionRange(o,o)})(e,r)})),l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",fullWidth:!0},l.a.createElement(Nt.a,{id:"geral-selection-label"},aa.a.t("quickMessages.dialog.visao")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("quickMessages.dialog.visao"),placeholder:aa.a.t("quickMessages.dialog.visao"),labelId:"visao-selection-label",id:"visao",disabled:o&&d.visao&&!d.geral&&d.userId!==s.id,name:"visao",onChange:e=>{r("visao","true"===e.target.value)},error:a.visao&&Boolean(t.visao),value:d.visao?"true":"false"},l.a.createElement(Q.a,{value:"true"},aa.a.t("announcements.active")),l.a.createElement(Q.a,{value:"false"},aa.a.t("announcements.inactive")))),!0===d.visao&&l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",fullWidth:!0},l.a.createElement(Nt.a,{id:"geral-selection-label"},aa.a.t("quickMessages.dialog.geral")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("quickMessages.dialog.geral"),placeholder:aa.a.t("quickMessages.dialog.geral"),labelId:"novo-item-selection-label",id:"geral",name:"geral",disabled:o&&d.visao&&!d.geral&&d.userId!==s.id,value:d.geral?"true":"false",error:a.geral&&Boolean(t.geral)},l.a.createElement(Q.a,{value:"true"},aa.a.t("announcements.active")),l.a.createElement(Q.a,{value:"false"},aa.a.t("announcements.inactive"))))),(g.mediaPath||b)&&l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(kt.a,{startIcon:l.a.createElement(qi.a,null)},b?b.name:g.mediaName),l.a.createElement(D.a,{onClick:()=>p(!0),color:"secondary",disabled:o&&d.visao&&!d.geral&&d.userId!==s.id},l.a.createElement(ao.a,{color:"secondary"}))))),l.a.createElement(Ot.a,null,!b&&!g.mediaPath&&l.a.createElement(kt.a,{color:"primary",onClick:()=>h.current.click(),disabled:n||o&&d.visao&&!d.geral&&d.userId!==s.id,variant:"outlined"},aa.a.t("quickMessages.buttons.attach")),l.a.createElement(kt.a,{onClick:A,color:"secondary",disabled:n,variant:"outlined"},aa.a.t("quickMessages.buttons.cancel")),l.a.createElement(kt.a,{type:"submit",color:"primary",disabled:n||o&&d.visao&&!d.geral&&d.userId!==s.id,variant:"contained",className:i.btnWrapper},o?""+aa.a.t("quickMessages.buttons.edit"):""+aa.a.t("quickMessages.buttons.add"),n&&l.a.createElement(It.a,{size:24,className:i.buttonProgress}))))})))};const wp=(e,a)=>{if("LOAD_QUICKMESSAGES"===a.type){const t=a.payload,n=[];return Object(la.isArray)(t)&&t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_QUICKMESSAGES"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_QUICKMESSAGE"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},Tp=Object(I.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var Op=()=>{const e=Tp(),[a,t]=Object(n.useState)(!1),[o,r]=Object(n.useState)(1),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(null),[m,p]=Object(n.useState)(null),[g,E]=Object(n.useState)(!1),[b,f]=Object(n.useState)(!1),[h,A]=Object(n.useState)(""),[v,y]=Object(n.useReducer)(wp,[]),{user:x,socket:C}=Object(n.useContext)(ua),{profile:k}=x;Object(n.useEffect)(()=>{y({type:"RESET"}),r(1)},[h]),Object(n.useEffect)(()=>{t(!0);const e=setTimeout(()=>{w()},500);return()=>clearTimeout(e)},[h,o]),Object(n.useEffect)(()=>{const e=x.companyId,a=e=>{"update"!==e.action&&"create"!==e.action||y({type:"UPDATE_QUICKMESSAGES",payload:e.record}),"delete"===e.action&&y({type:"DELETE_QUICKMESSAGE",payload:+e.id})};return C.on(`company-${e}-quickemessage`,a),()=>{C.off(`company-${e}-quickemessage`,a)}},[C]);const w=async()=>{try{x.companyId;const{data:e}=await u.get("/quick-messages",{params:{searchParam:h,pageNumber:o}});y({type:"LOAD_QUICKMESSAGES",payload:e.records}),s(e.hasMore),t(!1)}catch(e){oa(e)}};return l.a.createElement(Bc,null,l.a.createElement(Ir,{title:m&&`${aa.a.t("quickMessages.confirmationModal.deleteTitle")} ${m.shortcode}?`,open:b,onClose:f,onConfirm:()=>(async e=>{try{await u.delete("/quick-messages/"+e),S.b.success(aa.a.t("quickemessages.toasts.deleted"))}catch(a){oa(a)}p(null),A(""),r(1),w(),y({type:"RESET"})})(m.id)},aa.a.t("quickMessages.confirmationModal.deleteMessage")),l.a.createElement(kp,{resetPagination:()=>{r(1),w()},open:g,onClose:()=>{d(null),E(!1),w()},"aria-labelledby":"form-dialog-title",quickemessageId:c&&c.id}),l.a.createElement(qc,null,l.a.createElement(ht.a,{style:{width:"99.6%"},container:!0},l.a.createElement(ht.a,{xs:12,sm:8,item:!0},l.a.createElement(Uc,null,aa.a.t("quickMessages.title"))),l.a.createElement(ht.a,{xs:12,sm:4,item:!0},l.a.createElement(ht.a,{spacing:2,container:!0},l.a.createElement(ht.a,{xs:6,sm:6,item:!0},l.a.createElement(wt.a,{fullWidth:!0,placeholder:aa.a.t("quickMessages.searchPlaceholder"),type:"search",value:h,onChange:e=>{A(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(fc.a,{position:"start"},l.a.createElement(Lm.a,{style:{color:"gray"}}))}})),l.a.createElement(ht.a,{xs:6,sm:6,item:!0},l.a.createElement(kt.a,{fullWidth:!0,variant:"contained",onClick:()=>{d(null),E(!0)},color:"primary"},aa.a.t("quickMessages.buttons.add"))))))),l.a.createElement(Bt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!i||a)return;const{scrollTop:t,scrollHeight:n,clientHeight:l}=e.currentTarget;n-(t+100)<l&&r(e=>e+1)}},l.a.createElement(Gn.a,{size:"small"},l.a.createElement(Jn.a,null,l.a.createElement(Zn.a,null,l.a.createElement(Yn.a,{align:"center"},aa.a.t("quickMessages.table.shortcode")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("quickMessages.table.mediaName")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("quickMessages.table.status")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("quickMessages.table.actions")))),l.a.createElement(Kn.a,null,l.a.createElement(l.a.Fragment,null,v.map(e=>{var a;return l.a.createElement(Zn.a,{key:e.id},l.a.createElement(Yn.a,{align:"center"},e.shortcode),l.a.createElement(Yn.a,{align:"center"},null!==(a=e.mediaName)&&void 0!==a?a:aa.a.t("quickMessages.noAttachment")),l.a.createElement(Yn.a,{align:"center"},!0===e.geral?l.a.createElement(qa.a,{style:{color:"green"}}):""),l.a.createElement(Yn.a,{align:"center"},l.a.createElement(D.a,{size:"small",onClick:()=>(e=>{d(e),E(!0)})(e)},l.a.createElement(Wm.a,null)),l.a.createElement(D.a,{size:"small",onClick:a=>{f(!0),p(e)}},l.a.createElement(ao.a,null))))}),a&&l.a.createElement(Vc,{columns:5}))))))};var Sp=e=>{let{component:a,isPrivate:t=!1,...o}=e;const{isAuth:r,loading:i}=Object(n.useContext)(ua);return!r&&t?l.a.createElement(l.a.Fragment,null,i&&l.a.createElement(an,null),l.a.createElement(O.Redirect,{to:{pathname:"/login",state:{from:o.location}}})):r&&!t?l.a.createElement(l.a.Fragment,null,i&&l.a.createElement(an,null),l.a.createElement(O.Redirect,{to:{pathname:"/",state:{from:o.location}}}),";"):l.a.createElement(l.a.Fragment,null,i&&l.a.createElement(an,null),l.a.createElement(O.Route,Object.assign({},o,{component:a})))},Mp=t(692);t(1382),t(1383),t(1384);const Ip={fontSize:"14px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},jp=Object(Mp.b)(da.a);var Np={date:"Data",time:"Hora",event:"Evento",allDay:"Dia Todo",week:"Semana",work_week:"Agendamentos",day:"Dia",month:"M\xeas",previous:"Anterior",next:"Pr\xf3ximo",yesterday:"Ontem",tomorrow:"Amanh\xe3",today:"Hoje",agenda:"Agenda",noEventsInRange:"N\xe3o h\xe1 agendamentos no per\xedodo.",showMore:function(e){return"+"+e+" mais"}};const Rp=(e,a)=>{if("LOAD_SCHEDULES"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_SCHEDULES"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_SCHEDULE"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},Fp=Object(I.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles},calendarToolbar:{"& .rbc-toolbar-label":{color:"light"===e.mode?e.palette.light:"white"},"& .rbc-btn-group button":{color:"light"===e.mode?e.palette.light:"white","&:hover":{color:"dark"===e.palette.mode?"#fff":"#000"},"&:active":{color:"dark"===e.palette.mode?"#fff":"#000"},"&:focus":{color:"dark"===e.palette.mode?"#fff":"#000"},"&.rbc-active":{color:"dark"===e.palette.mode?"#fff":"#000"}}}}));var Pp=()=>{const e=Fp(),a=Object(O.useHistory)(),{user:t,socket:o}=Object(n.useContext)(ua),[r,i]=Object(n.useState)(!1),[s,c]=Object(n.useState)(1),[d,m]=Object(n.useState)(!1),[p,g]=Object(n.useState)(null),[E,b]=Object(n.useState)(null),[f,h]=Object(n.useState)(!1),[A,v]=Object(n.useState)(""),[y,x]=Object(n.useReducer)(Rp,[]),[C,k]=Object(n.useState)(!1),[w,T]=Object(n.useState)((M="contactId",+new URLSearchParams(window.location.search).get(M)));var M;const{getPlanCompany:I}=va();Object(n.useEffect)(()=>{!async function(){const e=t.companyId;(await I(void 0,e)).plan.useSchedules||(S.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{a.push("/")},1e3))}()},[t,a,I]);const j=Object(n.useCallback)(async()=>{try{const{data:e}=await u.get("/schedules",{params:{searchParam:A,pageNumber:s}});x({type:"LOAD_SCHEDULES",payload:e.schedules}),m(e.hasMore),i(!1)}catch(e){oa(e)}},[A,s]),N=Object(n.useCallback)(()=>{w&&R()},[w]);Object(n.useEffect)(()=>{x({type:"RESET"}),c(1)},[A]),Object(n.useEffect)(()=>{i(!0);const e=setTimeout(()=>{j()},500);return()=>clearTimeout(e)},[A,s,w,j,N]),Object(n.useEffect)(()=>{const e=e=>{"update"!==e.action&&"create"!==e.action||x({type:"UPDATE_SCHEDULES",payload:e.schedule}),"delete"===e.action&&x({type:"DELETE_SCHEDULE",payload:+e.scheduleId})};return o.on(`company${t.companyId}-schedule`,e),()=>{o.off(`company${t.companyId}-schedule`,e)}},[o]);const R=()=>{g(null),k(!0)},F=async e=>{try{await u.delete("/schedules/"+e),S.b.success(aa.a.t("schedules.toasts.deleted"))}catch(a){oa(a)}b(null),v(""),c(1),x({type:"RESET"}),c(1),await j()};return l.a.createElement(Bc,null,l.a.createElement(Ir,{title:E&&""+aa.a.t("schedules.confirmationModal.deleteTitle"),open:f,onClose:()=>h(!1),onConfirm:()=>F(E.id)},aa.a.t("schedules.confirmationModal.deleteMessage")),C&&l.a.createElement(Ki,{open:C,onClose:()=>{g(null),k(!1)},reload:j,scheduleId:p?p.id:null,contactId:w,cleanContact:()=>{T("")}}),l.a.createElement(qc,null,l.a.createElement(Uc,null,aa.a.t("schedules.title")," (",y.length,")"),l.a.createElement(Hc,null,l.a.createElement(wt.a,{placeholder:aa.a.t("contacts.searchPlaceholder"),type:"search",value:A,onChange:e=>{v(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(fc.a,{position:"start"},l.a.createElement(Lm.a,{style:{color:"gray"}}))}}),l.a.createElement(kt.a,{variant:"contained",color:"primary",onClick:R},aa.a.t("schedules.buttons.add")))),l.a.createElement(Bt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!d||r)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&c(e=>e+1)}},l.a.createElement(Mp.a,{messages:Np,formats:{agendaDateFormat:"DD/MM ddd",weekdayFormat:"dddd"},localizer:jp,events:y.map(e=>{var a;return{title:l.a.createElement("div",{key:e.id,className:"event-container"},l.a.createElement("div",{style:Ip},null===e||void 0===e||null===(a=e.contact)||void 0===a?void 0:a.name),l.a.createElement(ao.a,{onClick:()=>F(e.id),className:"delete-icon"}),l.a.createElement(Wm.a,{onClick:()=>{(e=>{g(e),k(!0)})(e),k(!0)},className:"edit-icon"})),start:new Date(e.sendAt),end:new Date(e.sendAt)}}),startAccessor:"start",endAccessor:"end",style:{height:500},className:e.calendarToolbar})))},Dp=t(673),Lp=t.n(Dp),Bp=t(672),Wp=t.n(Bp),qp=t(671),zp=t.n(qp);const Hp=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})),Up=xt.c().shape({name:xt.e().min(2,"Too Short!").max(50,"Too Long!").required("Required")});var Qp=e=>{let{open:a,onClose:t,campaignId:o,initialValues:r,onSave:i,resetPagination:s}=e;const c=Hp(),d=Object(n.useRef)(!0),{user:m,socket:p}=Object(n.useContext)(ua),{companyId:g}=m,E={name:"",message1:"",message2:"",message3:"",message4:"",message5:"",confirmationMessage1:"",confirmationMessage2:"",confirmationMessage3:"",confirmationMessage4:"",confirmationMessage5:"",status:"INATIVA",confirmation:!1,scheduledAt:"",contactListId:"",tagListId:"Nenhuma",companyId:g,statusTicket:"closed",openTicket:"disabled"},[b,f]=Object(n.useState)(E),[h,A]=Object(n.useState)([]),[v,y]=Object(n.useState)([]),[x,C]=Object(n.useState)(!1),[k,w]=Object(n.useState)([]),[T,O]=Object(n.useState)([]),[M,I]=Object(n.useState)(0),[j,N]=Object(n.useState)(null),[R,F]=Object(n.useState)(!1),[P,L]=Object(n.useState)(!0),B=Object(n.useRef)(null),[W,q]=Object(n.useState)([]),[z,H]=Object(n.useState)([]),[U,V]=Object(n.useState)([]),[G,K]=Object(n.useState)(!1),[Y,X]=Object(n.useState)(""),[J,Z]=Object(n.useState)(null),[_,$]=Object(n.useState)(null),{findAll:ee}=No();Object(n.useEffect)(()=>()=>{d.current=!1},[]),Object(n.useEffect)(()=>{if(d.current){(async()=>{const e=await ee();V(e),H(e)})()}},[]),Object(n.useEffect)(()=>{if(Y.length<3)return K(!1),void $("");const e=setTimeout(()=>{K(!0);(async()=>{try{const{data:e}=await u.get("/users/");q(e.users),K(!1)}catch(e){K(!1),oa(e)}})()},500);return()=>clearTimeout(e)},[Y]),Object(n.useEffect)(()=>{if(d.current){if(r&&f(e=>({...e,...r})),u.get("/contact-lists/list",{params:{companyId:g}}).then(e=>{let{data:a}=e;return w(a)}),u.get("/whatsapp",{params:{companyId:g,session:0}}).then(e=>{let{data:a}=e;const t=a.map(e=>({...e,selected:!1}));A(t)}),u.get("/tags/list",{params:{companyId:g,kanban:0}}).then(e=>{let{data:a}=e;const t=a.filter(e=>e.contacts.length>0).map(e=>({id:e.id,name:`${e.name} (${e.contacts.length})`}));O(t)}).catch(e=>{console.error("Error retrieving tags:",e)}),!o)return;u.get("/campaigns/"+o).then(e=>{let{data:a}=e;(null===a||void 0===a?void 0:a.user)&&Z(a.user),(null===a||void 0===a?void 0:a.queue)&&$(a.queue.id),(null===a||void 0===a?void 0:a.whatsappId)&&C(a.whatsappId),f(e=>{let t=Object.assign({},e);return Object.entries(a).forEach(e=>{let[a,n]=e;t[a]="scheduledAt"===a&&""!==n&&null!==n?da()(n).format("YYYY-MM-DDTHH:mm"):null===n?"":n}),t})})}},[o,a,r,g]),Object(n.useEffect)(()=>{const e=da()(),a=da()(b.scheduledAt),t=!Number.isNaN(a.diff(e))&&a.diff(e,"hour")>1,n="INATIVA"===b.status||"PROGRAMADA"===b.status&&t;L(n)},[b.status,b.scheduledAt]);const ae=()=>{t(),f(E)},te=e=>l.a.createElement(Ct.b,{as:wt.a,id:e,name:e,fullWidth:!0,rows:5,label:aa.a.t("campaigns.dialog.form."+e),placeholder:aa.a.t("campaigns.dialog.form.messagePlaceholder"),multiline:!0,variant:"outlined",helperText:"Utilize vari\xe1veis como {nome}, {numero}, {email} ou defina vari\xe1veis personalizadas.",disabled:!P&&"CANCELADA"!==b.status}),ne=e=>l.a.createElement(Ct.b,{as:wt.a,id:e,name:e,fullWidth:!0,rows:5,label:aa.a.t("campaigns.dialog.form."+e),placeholder:aa.a.t("campaigns.dialog.form.messagePlaceholder"),multiline:!0,variant:"outlined",disabled:!P&&"CANCELADA"!==b.status}),le=Object(Jl.a)({trim:!0});return l.a.createElement("div",{className:c.root},l.a.createElement(Ir,{title:aa.a.t("campaigns.confirmationModal.deleteTitle"),open:R,onClose:()=>F(!1),onConfirm:async()=>{j&&(N(null),B.current.value=null),b.mediaPath&&(await u.delete(`/campaigns/${b.id}/media-upload`),f(e=>({...e,mediaPath:null,mediaName:null})),S.b.success(aa.a.t("campaigns.toasts.deleted")))}},aa.a.t("campaigns.confirmationModal.deleteMessage")),l.a.createElement(Tt.a,{open:a,onClose:ae,fullWidth:!0,maxWidth:"md",scroll:"paper"},l.a.createElement(Mt.a,{id:"form-dialog-title"},P?l.a.createElement(l.a.Fragment,null,o?""+aa.a.t("campaigns.dialog.update"):""+aa.a.t("campaigns.dialog.new")):l.a.createElement(l.a.Fragment,null,""+aa.a.t("campaigns.dialog.readonly"))),l.a.createElement("div",{style:{display:"none"}},l.a.createElement("input",{type:"file",ref:B,onChange:e=>(e=>{const a=Object(la.head)(e.target.files);a&&N(a)})(e)})),l.a.createElement(Ct.e,{initialValues:b,enableReinitialize:!0,validationSchema:Up,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{try{const a={...e,whatsappId:x,userId:(null===J||void 0===J?void 0:J.id)||null,queueId:_||null};if(Object.entries(e).forEach(e=>{let[t,n]=e;a[t]="scheduledAt"===t&&""!==n&&null!==n?da()(n).format("YYYY-MM-DD HH:mm:ss"):""===n?null:n}),o){if(await u.put("/campaigns/"+o,a),null!=j){const e=new FormData;e.append("file",j),await u.post(`/campaigns/${o}/media-upload`,e)}ae()}else{const{data:e}=await u.post("/campaigns",a);if(null!=j){const a=new FormData;a.append("file",j),await u.post(`/campaigns/${e.id}/media-upload`,a)}i&&i(e),ae()}S.b.success(aa.a.t("campaigns.toasts.success"))}catch(a){console.log(a),oa(a)}})(e),a.setSubmitting(!1)},400)}},e=>{let{values:a,errors:t,touched:n,isSubmitting:r}=e;return l.a.createElement(Ct.d,null,l.a.createElement(St.a,{dividers:!0},l.a.createElement(ht.a,{spacing:2,container:!0},l.a.createElement(ht.a,{xs:12,md:4,item:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("campaigns.dialog.form.name"),name:"name",error:n.name&&Boolean(t.name),helperText:n.name&&t.name,variant:"outlined",margin:"dense",fullWidth:!0,className:c.textField,disabled:!P})),l.a.createElement(ht.a,{xs:12,md:4,item:!0},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:c.formControl},l.a.createElement(Nt.a,{id:"confirmation-selection-label"},aa.a.t("campaigns.dialog.form.confirmation")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("campaigns.dialog.form.confirmation"),placeholder:aa.a.t("campaigns.dialog.form.confirmation"),labelId:"confirmation-selection-label",id:"confirmation",name:"confirmation",error:n.confirmation&&Boolean(t.confirmation),disabled:!P},l.a.createElement(Q.a,{value:!1},"Desabilitada"),l.a.createElement(Q.a,{value:!0},"Habilitada")))),l.a.createElement(ht.a,{xs:12,md:4,item:!0},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:c.formControl},l.a.createElement(Nt.a,{id:"contactList-selection-label"},aa.a.t("campaigns.dialog.form.contactList")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("campaigns.dialog.form.contactList"),placeholder:aa.a.t("campaigns.dialog.form.contactList"),labelId:"contactList-selection-label",id:"contactListId",name:"contactListId",error:n.contactListId&&Boolean(t.contactListId),disabled:!P},l.a.createElement(Q.a,{value:""},"Nenhuma"),k&&k.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name))))),l.a.createElement(ht.a,{xs:12,md:4,item:!0},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:c.formControl},l.a.createElement(Nt.a,{id:"tagList-selection-label"},aa.a.t("campaigns.dialog.form.tagList")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("campaigns.dialog.form.tagList"),placeholder:aa.a.t("campaigns.dialog.form.tagList"),labelId:"tagList-selection-label",id:"tagListId",name:"tagListId",error:n.tagListId&&Boolean(t.tagListId),disabled:!P},Array.isArray(T)&&T.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name))))),l.a.createElement(ht.a,{xs:12,md:4,item:!0},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:c.formControl},l.a.createElement(Nt.a,{id:"whatsapp-selection-label"},aa.a.t("campaigns.dialog.form.whatsapp")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("campaigns.dialog.form.whatsapp"),placeholder:aa.a.t("campaigns.dialog.form.whatsapp"),labelId:"whatsapp-selection-label",id:"whatsappIds",name:"whatsappIds",required:!0,error:n.whatsappId&&Boolean(t.whatsappId),disabled:!P,value:x,onChange:e=>{console.log(e.target.value),C(e.target.value)}},h&&h.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name))))),l.a.createElement(ht.a,{xs:12,md:4,item:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("campaigns.dialog.form.scheduledAt"),name:"scheduledAt",error:n.scheduledAt&&Boolean(t.scheduledAt),helperText:n.scheduledAt&&t.scheduledAt,variant:"outlined",margin:"dense",type:"datetime-local",InputLabelProps:{shrink:!0},fullWidth:!0,className:c.textField,disabled:!P})),l.a.createElement(ht.a,{xs:12,md:4,item:!0},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:c.formControl},l.a.createElement(Nt.a,{id:"openTicket-selection-label"},aa.a.t("campaigns.dialog.form.openTicket")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("campaigns.dialog.form.openTicket"),placeholder:aa.a.t("campaigns.dialog.form.openTicket"),labelId:"openTicket-selection-label",id:"openTicket",name:"openTicket",error:n.openTicket&&Boolean(t.openTicket),disabled:!P},l.a.createElement(Q.a,{value:"enabled"},aa.a.t("campaigns.dialog.form.enabledOpenTicket")),l.a.createElement(Q.a,{value:"disabled"},aa.a.t("campaigns.dialog.form.disabledOpenTicket"))))),l.a.createElement(ht.a,{xs:12,md:4,item:!0},l.a.createElement(Zl.a,{style:{marginTop:"8px"},variant:"outlined",margin:"dense",className:c.formControl,getOptionLabel:e=>""+e.name,value:J,size:"small",onChange:(e,a)=>{Z(a),null!=a&&Array.isArray(a.queues)?(1===a.queues.length&&$(a.queues[0].id),H(a.queues)):(H(U),$(""))},options:W,filterOptions:le,freeSolo:!0,fullWidth:!0,autoHighlight:!0,disabled:!P||"disabled"===a.openTicket,noOptionsText:aa.a.t("transferTicketModal.noOptions"),loading:G,renderOption:e=>l.a.createElement("span",null," ",l.a.createElement(Fo,{user:e})," ",e.name),renderInput:e=>l.a.createElement(wt.a,Object.assign({},e,{label:aa.a.t("transferTicketModal.fieldLabel"),variant:"outlined",onChange:e=>X(e.target.value),InputProps:{...e.InputProps,endAdornment:l.a.createElement(l.a.Fragment,null,G?l.a.createElement(It.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)}}))})),l.a.createElement(ht.a,{xs:12,md:4,item:!0},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:c.formControl},l.a.createElement(Nt.a,null,aa.a.t("transferTicketModal.fieldQueueLabel")),l.a.createElement(jt.a,{value:_,onChange:e=>$(e.target.value),label:aa.a.t("transferTicketModal.fieldQueuePlaceholder"),required:!Object(la.isNil)(J),disabled:!P||"disabled"===a.openTicket},z.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name))))),l.a.createElement(ht.a,{xs:12,md:4,item:!0},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:c.formControl},l.a.createElement(Nt.a,{id:"statusTicket-selection-label"},aa.a.t("campaigns.dialog.form.statusTicket")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("campaigns.dialog.form.statusTicket"),placeholder:aa.a.t("campaigns.dialog.form.statusTicket"),labelId:"statusTicket-selection-label",id:"statusTicket",name:"statusTicket",error:n.statusTicket&&Boolean(t.statusTicket),disabled:!P||"disabled"===a.openTicket},l.a.createElement(Q.a,{value:"closed"},aa.a.t("campaigns.dialog.form.closedTicketStatus")),l.a.createElement(Q.a,{value:"pending"},aa.a.t("campaigns.dialog.form.pendingTicketStatus")),l.a.createElement(Q.a,{value:"open"},aa.a.t("campaigns.dialog.form.openTicketStatus"))))),l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(Wt.a,{value:M,indicatorColor:"primary",textColor:"primary",onChange:(e,a)=>I(a),variant:"fullWidth",centered:!0,style:{background:"#f2f2f2",border:"1px solid #e6e6e6",borderRadius:2}},l.a.createElement(qt.a,{label:"Msg. 1",index:0}),l.a.createElement(qt.a,{label:"Msg. 2",index:1}),l.a.createElement(qt.a,{label:"Msg. 3",index:2}),l.a.createElement(qt.a,{label:"Msg. 4",index:3}),l.a.createElement(qt.a,{label:"Msg. 5",index:4})),l.a.createElement(Gt.a,{style:{paddingTop:20,border:"none"}},0===M&&l.a.createElement(l.a.Fragment,null,a.confirmation?l.a.createElement(ht.a,{spacing:2,container:!0},l.a.createElement(ht.a,{xs:12,md:8,item:!0},l.a.createElement(l.a.Fragment,null,te("message1"))),l.a.createElement(ht.a,{xs:12,md:4,item:!0},l.a.createElement(l.a.Fragment,null,ne("confirmationMessage1")))):l.a.createElement(l.a.Fragment,null,te("message1"))),1===M&&l.a.createElement(l.a.Fragment,null,a.confirmation?l.a.createElement(ht.a,{spacing:2,container:!0},l.a.createElement(ht.a,{xs:12,md:8,item:!0},l.a.createElement(l.a.Fragment,null,te("message2"))),l.a.createElement(ht.a,{xs:12,md:4,item:!0},l.a.createElement(l.a.Fragment,null,ne("confirmationMessage2")))):l.a.createElement(l.a.Fragment,null,te("message2"))),2===M&&l.a.createElement(l.a.Fragment,null,a.confirmation?l.a.createElement(ht.a,{spacing:2,container:!0},l.a.createElement(ht.a,{xs:12,md:8,item:!0},l.a.createElement(l.a.Fragment,null,te("message3"))),l.a.createElement(ht.a,{xs:12,md:4,item:!0},l.a.createElement(l.a.Fragment,null,ne("confirmationMessage3")))):l.a.createElement(l.a.Fragment,null,te("message3"))),3===M&&l.a.createElement(l.a.Fragment,null,a.confirmation?l.a.createElement(ht.a,{spacing:2,container:!0},l.a.createElement(ht.a,{xs:12,md:8,item:!0},l.a.createElement(l.a.Fragment,null,te("message4"))),l.a.createElement(ht.a,{xs:12,md:4,item:!0},l.a.createElement(l.a.Fragment,null,ne("confirmationMessage4")))):l.a.createElement(l.a.Fragment,null,te("message4"))),4===M&&l.a.createElement(l.a.Fragment,null,a.confirmation?l.a.createElement(ht.a,{spacing:2,container:!0},l.a.createElement(ht.a,{xs:12,md:8,item:!0},l.a.createElement(l.a.Fragment,null,te("message5"))),l.a.createElement(ht.a,{xs:12,md:4,item:!0},l.a.createElement(l.a.Fragment,null,ne("confirmationMessage5")))):l.a.createElement(l.a.Fragment,null,te("message5"))))),(b.mediaPath||j)&&l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(kt.a,{startIcon:l.a.createElement(qi.a,null)},null!=j?j.name:b.mediaName),P&&l.a.createElement(D.a,{onClick:()=>F(!0),color:"primary"},l.a.createElement(ao.a,{color:"secondary"}))))),l.a.createElement(Ot.a,null,"CANCELADA"===b.status&&l.a.createElement(kt.a,{color:"primary",onClick:()=>(async()=>{try{await u.post(`/campaigns/${b.id}/restart`),S.b.success(aa.a.t("campaigns.toasts.restart")),f(e=>({...e,status:"EM_ANDAMENTO"})),s()}catch(e){S.b.error(e.message)}})(),variant:"outlined"},aa.a.t("campaigns.dialog.buttons.restart")),"EM_ANDAMENTO"===b.status&&l.a.createElement(kt.a,{color:"primary",onClick:()=>(async()=>{try{await u.post(`/campaigns/${b.id}/cancel`),S.b.success(aa.a.t("campaigns.toasts.cancel")),f(e=>({...e,status:"CANCELADA"})),s()}catch(e){S.b.error(e.message)}})(),variant:"outlined"},aa.a.t("campaigns.dialog.buttons.cancel")),!j&&!b.mediaPath&&P&&l.a.createElement(kt.a,{color:"primary",onClick:()=>B.current.click(),disabled:r,variant:"outlined"},aa.a.t("campaigns.dialog.buttons.attach")),l.a.createElement(kt.a,{onClick:ae,color:"primary",disabled:r,variant:"outlined"},aa.a.t("campaigns.dialog.buttons.close")),(P||"CANCELADA"===b.status)&&l.a.createElement(kt.a,{type:"submit",color:"primary",disabled:r,variant:"contained",className:c.btnWrapper},o?""+aa.a.t("campaigns.dialog.buttons.edit"):""+aa.a.t("campaigns.dialog.buttons.add"),r&&l.a.createElement(It.a,{size:24,className:c.buttonProgress}))))})))};const Vp=(e,a)=>{if("LOAD_CAMPAIGNS"===a.type){const t=a.payload,n=[];return Object(la.isArray)(t)&&t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_CAMPAIGNS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_CAMPAIGN"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},Gp=Object(I.a)(e=>({mainPaper:{flex:1,padding:e.padding,overflowY:"scroll",...e.scrollbarStyles}}));var Kp=()=>{const e=Gp(),a=Object(O.useHistory)(),[t,o]=Object(n.useState)(!1),[r,i]=Object(n.useState)(1),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(null),[p,g]=Object(n.useState)(null),[E,b]=Object(n.useState)(!1),[f,h]=Object(n.useState)(!1),[A,v]=Object(n.useState)(!1),[y,x]=Object(n.useState)(""),[C,k]=Object(n.useReducer)(Vp,[]),{user:w,socket:T}=Object(n.useContext)(ua),{datetimeToClient:M}=un(),{getPlanCompany:I}=va();Object(n.useEffect)(()=>{!async function(){const e=w.companyId;(await I(void 0,e)).plan.useCampaigns||(S.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{a.push("/")},1e3))}()},[]),Object(n.useEffect)(()=>{k({type:"RESET"}),i(1)},[y]),Object(n.useEffect)(()=>{o(!0);const e=setTimeout(()=>{j()},500);return()=>clearTimeout(e)},[y,r]),Object(n.useEffect)(()=>{const e=w.companyId,a=e=>{"update"!==e.action&&"create"!==e.action||k({type:"UPDATE_CAMPAIGNS",payload:e.record}),"delete"===e.action&&k({type:"DELETE_CAMPAIGN",payload:+e.id})};return T.on(`company-${e}-campaign`,a),()=>{T.off(`company-${e}-campaign`,a)}},[w]);const j=async()=>{try{const{data:e}=await u.get("/campaigns/",{params:{searchParam:y,pageNumber:r}});k({type:"LOAD_CAMPAIGNS",payload:e.records}),c(e.hasMore),o(!1)}catch(e){oa(e)}};return l.a.createElement(Bc,null,l.a.createElement(Ir,{title:p&&`${aa.a.t("campaigns.confirmationModal.deleteTitle")} ${p.name}?`,open:f,onClose:h,onConfirm:()=>(async e=>{try{await u.delete("/campaigns/"+e),S.b.success(aa.a.t("campaigns.toasts.deleted"))}catch(a){oa(a)}g(null),x(""),i(1)})(p.id)},aa.a.t("campaigns.confirmationModal.deleteMessage")),E&&l.a.createElement(Qp,{resetPagination:()=>{i(1),j()},open:E,onClose:()=>{m(null),b(!1)},"aria-labelledby":"form-dialog-title",campaignId:d&&d.id}),"user"===w.profile?l.a.createElement(Tl,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(qc,null,l.a.createElement(ht.a,{style:{width:"99.6%"},container:!0},l.a.createElement(ht.a,{xs:12,sm:8,item:!0},l.a.createElement(Uc,null,aa.a.t("campaigns.title"))),l.a.createElement(ht.a,{xs:12,sm:4,item:!0},l.a.createElement(ht.a,{spacing:2,container:!0},l.a.createElement(ht.a,{xs:6,sm:6,item:!0},l.a.createElement(wt.a,{fullWidth:!0,placeholder:aa.a.t("campaigns.searchPlaceholder"),type:"search",value:y,onChange:e=>{x(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(fc.a,{position:"start"},l.a.createElement(Lm.a,{style:{color:"gray"}}))}})),l.a.createElement(ht.a,{xs:6,sm:6,item:!0},l.a.createElement(kt.a,{fullWidth:!0,variant:"contained",onClick:()=>{m(null),b(!0)},color:"primary"},aa.a.t("campaigns.buttons.add"))))))),l.a.createElement(Bt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!s||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:l}=e.currentTarget;n-(a+100)<l&&i(e=>e+1)}},l.a.createElement(Gn.a,{size:"small"},l.a.createElement(Jn.a,null,l.a.createElement(Zn.a,null,l.a.createElement(Yn.a,{align:"center"},aa.a.t("campaigns.table.name")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("campaigns.table.status")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("campaigns.table.contactList")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("campaigns.table.whatsapp")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("campaigns.table.scheduledAt")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("campaigns.table.completedAt")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("campaigns.table.confirmation")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("campaigns.table.actions")))),l.a.createElement(Kn.a,null,l.a.createElement(l.a.Fragment,null,C.map(e=>l.a.createElement(Zn.a,{key:e.id},l.a.createElement(Yn.a,{align:"center"},e.name),l.a.createElement(Yn.a,{align:"center"},(e=>{switch(e){case"INATIVA":return"Inativa";case"PROGRAMADA":return"Programada";case"EM_ANDAMENTO":return"Em Andamento";case"CANCELADA":return"Cancelada";case"FINALIZADA":return"Finalizada";default:return e}})(e.status)),l.a.createElement(Yn.a,{align:"center"},e.contactListId?e.contactList.name:"N\xe3o definida"),l.a.createElement(Yn.a,{align:"center"},e.whatsappId?e.whatsapp.name:"N\xe3o definido"),l.a.createElement(Yn.a,{align:"center"},e.scheduledAt?M(e.scheduledAt):"Sem agendamento"),l.a.createElement(Yn.a,{align:"center"},e.completedAt?M(e.completedAt):"N\xe3o conclu\xedda"),l.a.createElement(Yn.a,{align:"center"},e.confirmation?"Habilitada":"Desabilitada"),l.a.createElement(Yn.a,{align:"center"},"EM_ANDAMENTO"===e.status&&l.a.createElement(D.a,{onClick:()=>(async e=>{try{await u.post(`/campaigns/${e.id}/cancel`),S.b.success(aa.a.t("campaigns.toasts.cancel")),i(1),j()}catch(a){S.b.error(a.message)}})(e),title:"Parar Campanha",size:"small"},l.a.createElement(zp.a,null)),"CANCELADA"===e.status&&l.a.createElement(D.a,{onClick:()=>(async e=>{try{await u.post(`/campaigns/${e.id}/restart`),S.b.success(aa.a.t("campaigns.toasts.restart")),i(1),j()}catch(a){S.b.error(a.message)}})(e),title:"Parar Campanha",size:"small"},l.a.createElement(Wp.a,null)),l.a.createElement(D.a,{onClick:()=>a.push(`/campaign/${e.id}/report`),size:"small"},l.a.createElement(Lp.a,null)),l.a.createElement(D.a,{size:"small",onClick:()=>(e=>{m(e),b(!0)})(e)},l.a.createElement(Wm.a,null)),l.a.createElement(D.a,{size:"small",onClick:a=>{h(!0),g(e)}},l.a.createElement(ao.a,null))))),t&&l.a.createElement(Vc,{columns:8})))))))};const Yp=Object(I.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles},textRight:{textAlign:"right"},tabPanelsContainer:{padding:e.padding},paper:{padding:e.spacing(2),display:"flex",alignItems:"center",marginBottom:12}})),Xp={messageInterval:20,longerIntervalAfter:20,greaterInterval:60,variables:[],sabado:"false",domingo:"false",startHour:"09:00",endHour:"18:00"};var Jp=()=>{const e=Yp(),a=Object(O.useHistory)(),[t,o]=Object(n.useState)(Xp),[r,i]=Object(n.useState)(!1),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(null),[p,g]=Object(n.useState)({key:"",value:""}),{user:E,socket:b}=Object(n.useContext)(ua),[f,h]=l.a.useState(!1),[A,v]=l.a.useState(!1),[y,x]=Object(n.useState)("08:00"),[C,k]=Object(n.useState)("19:00"),{getPlanCompany:w}=va();Object(n.useEffect)(()=>{!async function(){const e=E.companyId;(await w(void 0,e)).plan.useCampaigns||(S.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{a.push("/")},1e3))}()},[]),Object(n.useEffect)(()=>{u.get("/campaign-settings").then(e=>{let{data:a}=e;const t=[];console.log(a),Array.isArray(a)&&a.length>0&&(a.forEach(e=>{t.push([e.key,e.value]),"sabado"===e.key&&h("true"===(null===e||void 0===e?void 0:e.value)),"domingo"===e.key&&v("true"===(null===e||void 0===e?void 0:e.value)),"startHour"===e.key&&x(null===e||void 0===e?void 0:e.value),"endHour"===e.key&&k(null===e||void 0===e?void 0:e.value)}),o(Object.fromEntries(t)))})},[]);const T=e=>{const a={};a[e.target.name]=e.target.value,o(e=>({...e,...a}))};return l.a.createElement(Bc,null,l.a.createElement(Ir,{title:aa.a.t("campaigns.confirmationModal.deleteTitle"),open:s,onClose:()=>c(!1),onConfirm:()=>{const e=t.variables.filter(e=>e.key!==d);o(a=>({...a,variables:e})),m(null)}},aa.a.t("campaigns.confirmationModal.deleteMessage")),"user"===E.profile?l.a.createElement(Tl,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(qc,null,l.a.createElement(ht.a,{style:{width:"99.6%"},container:!0},l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(Uc,null,aa.a.t("campaignsConfig.title"))))),l.a.createElement(Bt.a,{className:e.mainPaper,variant:"outlined"},l.a.createElement(Gt.a,{className:e.tabPanelsContainer},l.a.createElement(ht.a,{spacing:1,container:!0},l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(z.a,{component:"h1"},"Intervalos \xa0")),l.a.createElement(ht.a,{xs:12,md:3,item:!0},l.a.createElement(Rt.a,{variant:"outlined",className:e.formControl,fullWidth:!0},l.a.createElement(Nt.a,{id:"messageInterval-label"},aa.a.t("campaigns.settings.randomInterval")),l.a.createElement(jt.a,{name:"messageInterval",id:"messageInterval",labelId:"messageInterval-label",label:aa.a.t("campaigns.settings.randomInterval"),value:t.messageInterval,onChange:e=>T(e)},l.a.createElement(Q.a,{value:0},aa.a.t("campaigns.settings.noBreak")),l.a.createElement(Q.a,{value:5},"5 segundos"),l.a.createElement(Q.a,{value:10},"10 segundos"),l.a.createElement(Q.a,{value:15},"15 segundos"),l.a.createElement(Q.a,{value:20},"20 segundos"),l.a.createElement(Q.a,{value:30},"30 segundos"),l.a.createElement(Q.a,{value:60},"40 segundos"),l.a.createElement(Q.a,{value:70},"60 segundos"),l.a.createElement(Q.a,{value:80},"80 segundos"),l.a.createElement(Q.a,{value:100},"100 segundos"),l.a.createElement(Q.a,{value:120},"120 segundos"),"                                                `` ``"))),l.a.createElement(ht.a,{xs:12,md:3,item:!0},l.a.createElement(Rt.a,{variant:"outlined",className:e.formControl,fullWidth:!0},l.a.createElement(Nt.a,{id:"longerIntervalAfter-label"},aa.a.t("campaigns.settings.intervalGapAfter")),l.a.createElement(jt.a,{name:"longerIntervalAfter",id:"longerIntervalAfter",labelId:"longerIntervalAfter-label",label:aa.a.t("campaigns.settings.intervalGapAfter"),value:t.longerIntervalAfter,onChange:e=>T(e)},l.a.createElement(Q.a,{value:0},aa.a.t("campaigns.settings.undefined")),l.a.createElement(Q.a,{value:5},"5 ",aa.a.t("campaigns.settings.messages")),l.a.createElement(Q.a,{value:10},"10 ",aa.a.t("campaigns.settings.messages")),l.a.createElement(Q.a,{value:15},"15 ",aa.a.t("campaigns.settings.messages")),l.a.createElement(Q.a,{value:20},"20 ",aa.a.t("campaigns.settings.messages")),l.a.createElement(Q.a,{value:30},"30 ",aa.a.t("campaigns.settings.messages")),l.a.createElement(Q.a,{value:40},"40 ",aa.a.t("campaigns.settings.messages")),l.a.createElement(Q.a,{value:50},"50 ",aa.a.t("campaigns.settings.messages")),l.a.createElement(Q.a,{value:60},"60 ",aa.a.t("campaigns.settings.messages"))))),l.a.createElement(ht.a,{xs:12,md:3,item:!0},l.a.createElement(Rt.a,{variant:"outlined",className:e.formControl,fullWidth:!0},l.a.createElement(Nt.a,{id:"greaterInterval-label"},aa.a.t("campaigns.settings.laggerTriggerRange")),l.a.createElement(jt.a,{name:"greaterInterval",id:"greaterInterval",labelId:"greaterInterval-label",label:aa.a.t("campaigns.settings.laggerTriggerRange"),value:t.greaterInterval,onChange:e=>T(e)},l.a.createElement(Q.a,{value:0},aa.a.t("campaigns.settings.noBreak")),l.a.createElement(Q.a,{value:20},"20 segundos"),l.a.createElement(Q.a,{value:30},"30 segundos"),l.a.createElement(Q.a,{value:40},"40 segundos"),l.a.createElement(Q.a,{value:50},"50 segundos"),l.a.createElement(Q.a,{value:60},"60 segundos"),l.a.createElement(Q.a,{value:70},"70 segundos"),l.a.createElement(Q.a,{value:80},"80 segundos"),l.a.createElement(Q.a,{value:90},"90 segundos"),l.a.createElement(Q.a,{value:100},"100 segundos"),l.a.createElement(Q.a,{value:110},"110 segundos"),l.a.createElement(Q.a,{value:120},"120 segundos"),l.a.createElement(Q.a,{value:130},"130 segundos"),l.a.createElement(Q.a,{value:140},"140 segundos"),l.a.createElement(Q.a,{value:150},"150 segundos"),l.a.createElement(Q.a,{value:160},"160 segundos"),l.a.createElement(Q.a,{value:170},"170 segundos"),l.a.createElement(Q.a,{value:180},"180 segundos")))),l.a.createElement(ht.a,{xs:12,className:e.textRight,item:!0},l.a.createElement(kt.a,{onClick:async()=>{await u.post("/campaign-settings",{settings:t}),S.b.success("Configura\xe7\xf5es salvas")},color:"primary",variant:"contained"},aa.a.t("campaigns.settings.save"))))))))},Zp=t(1694);const _p=Object(I.a)(e=>({cardAvatar:{fontSize:"55px",color:$n.a[500],backgroundColor:"#ffffff",width:e.spacing(7),height:e.spacing(7)},cardTitle:{fontSize:"18px",color:e.palette.text.primary},cardSubtitle:{color:$n.a[600],fontSize:"14px"}}));function $p(e){const{icon:a,title:t,value:n,loading:o}=e,r=_p();return o?l.a.createElement(_n.a,{variant:"rect",height:80}):l.a.createElement(Zi.a,null,l.a.createElement(vr.a,{avatar:l.a.createElement(R.a,{className:r.cardAvatar},a),title:l.a.createElement(z.a,{variant:"h6",component:"h2",className:r.cardTitle},t),subheader:l.a.createElement(z.a,{variant:"subtitle1",component:"p",className:r.cardSubtitle},n)}))}var eg=t(962),ag=t.n(eg),tg=t(963),ng=t.n(tg);const lg=Object(I.a)(e=>({mainPaper:{flex:1,padding:e.padding,overflowY:"scroll",...e.scrollbarStyles},textRight:{textAlign:"right"},tabPanelsContainer:{padding:e.padding}}));var og=()=>{const e=lg(),a=Object(O.useHistory)(),{campaignId:t}=Object(O.useParams)(),[o,r]=Object(n.useState)({}),[i,s]=Object(n.useState)(0),[c,d]=Object(n.useState)(0),[m,p]=Object(n.useState)(0),[g,E]=Object(n.useState)(0),[b,f]=Object(n.useState)(0),[h,A]=Object(n.useState)(!1),v=Object(n.useRef)(!0),{user:y,socket:x}=Object(n.useContext)(ua),{datetimeToClient:C}=un(),{getPlanCompany:k}=va();Object(n.useEffect)(()=>{!async function(){const e=y.companyId;(await k(void 0,e)).plan.useCampaigns||(S.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{a.push("/")},1e3))}()},[]),Object(n.useEffect)(()=>(v.current&&w(),()=>{v.current=!1}),[]),Object(n.useEffect)(()=>{if(v.current&&Object(la.has)(o,"shipping")){if(Object(la.has)(o,"contactList")){const e=Object(la.get)(o,"contactList").contacts.filter(e=>e.isWhatsappValid);s(e.length)}if(Object(la.has)(o,"shipping")){const e=Object(la.get)(o,"shipping"),a=e.filter(e=>!Object(la.isNull)(e.deliveredAt)),t=e.filter(e=>!Object(la.isNull)(e.confirmationRequestedAt)),n=e.filter(e=>!Object(la.isNull)(e.deliveredAt)&&!Object(la.isNull)(e.confirmationRequestedAt));d(a.length),p(t.length),E(n.length),d(a.length)}}},[o]),Object(n.useEffect)(()=>{f(c/i*100)},[c,i]),Object(n.useEffect)(()=>{const e=y.companyId,a=e=>{e.record.id===+t&&(r(e.record),"FINALIZADA"===e.record.status&&setTimeout(()=>{w()},5e3))};return x.on(`company-${e}-campaign`,a),()=>{x.off(`company-${e}-campaign`,a)}},[t]);const w=async()=>{A(!0);const{data:e}=await u.get("/campaigns/"+t);r(e),A(!1)};return l.a.createElement(Bc,null,l.a.createElement(qc,null,l.a.createElement(ht.a,{style:{width:"99.6%"},container:!0},l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(Uc,null,aa.a.t("campaignReport.title")," ",o.name||aa.a.t("campaignReport.campaign"))))),l.a.createElement(Bt.a,{className:e.mainPaper,variant:"outlined"},l.a.createElement(z.a,{variant:"h6",component:"h2"},"Status: ",(e=>{switch(e){case"INATIVA":return aa.a.t("campaignReport.inactive");case"PROGRAMADA":return aa.a.t("campaignReport.scheduled");case"EM_ANDAMENTO":return aa.a.t("campaignReport.process");case"CANCELADA":return aa.a.t("campaignReport.cancelled");case"FINALIZADA":return aa.a.t("campaignReport.finished");default:return e}})(o.status)," ",c," de ",i),l.a.createElement(ht.a,{spacing:2,container:!0},l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(Zp.a,{variant:"determinate",style:{height:15,borderRadius:3,margin:"20px 0"},value:b})),l.a.createElement(ht.a,{xs:12,md:4,item:!0},l.a.createElement($p,{icon:l.a.createElement(yo.a,{fontSize:"inherit"}),title:aa.a.t("campaignReport.validContacts"),value:i,loading:h})),o.confirmation&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ht.a,{xs:12,md:4,item:!0},l.a.createElement($p,{icon:l.a.createElement(ag.a,{fontSize:"inherit"}),title:aa.a.t("campaignReport.confirmationsRequested"),value:m,loading:h})),l.a.createElement(ht.a,{xs:12,md:4,item:!0},l.a.createElement($p,{icon:l.a.createElement(ng.a,{fontSize:"inherit"}),title:aa.a.t("campaignReport.confirmations"),value:g,loading:h}))),l.a.createElement(ht.a,{xs:12,md:4,item:!0},l.a.createElement($p,{icon:l.a.createElement(qa.a,{fontSize:"inherit"}),title:aa.a.t("campaignReport.deliver"),value:c,loading:h})),o.whatsappId&&l.a.createElement(ht.a,{xs:12,md:4,item:!0},l.a.createElement($p,{icon:l.a.createElement(ie.a,{fontSize:"inherit"}),title:aa.a.t("campaignReport.connection"),value:o.whatsapp.name,loading:h})),o.contactListId&&l.a.createElement(ht.a,{xs:12,md:4,item:!0},l.a.createElement($p,{icon:l.a.createElement(We.a,{fontSize:"inherit"}),title:aa.a.t("campaignReport.contactLists"),value:o.contactList.name,loading:h})),l.a.createElement(ht.a,{xs:12,md:4,item:!0},l.a.createElement($p,{icon:l.a.createElement(Oe.a,{fontSize:"inherit"}),title:aa.a.t("campaignReport.schedule"),value:C(o.scheduledAt),loading:h})),l.a.createElement(ht.a,{xs:12,md:4,item:!0},l.a.createElement($p,{icon:l.a.createElement(je.a,{fontSize:"inherit"}),title:aa.a.t("campaignReport.conclusion"),value:C(o.completedAt),loading:h})))))};const rg=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}})),ig=xt.c().shape({title:xt.e().required("Obrigat\xf3rio"),text:xt.e().required("Obrigat\xf3rio")});var sg=e=>{let{open:a,onClose:t,announcementId:o,reload:r}=e;const i=rg(),s={title:"",text:"",priority:3,status:!0},[c,d]=Object(n.useState)(!1),[m,p]=Object(n.useState)(s),[g,E]=Object(n.useState)(null),b=Object(n.useRef)(null);Object(n.useEffect)(()=>{try{(async()=>{if(!o)return;const{data:e}=await u.get("/announcements/"+o);p(a=>({...a,...e}))})()}catch(e){oa(e)}},[o,a]);const f=()=>{p(s),E(null),t()};return l.a.createElement("div",{className:i.root},l.a.createElement(Ir,{title:aa.a.t("announcements.confirmationModal.deleteTitle"),open:c,onClose:()=>d(!1),onConfirm:async()=>{g&&(E(null),b.current.value=null),m.mediaPath&&(await u.delete(`/announcements/${m.id}/media-upload`),p(e=>({...e,mediaPath:null})),S.b.success(aa.a.t("announcements.toasts.deleted")),"function"==typeof r&&r())}},aa.a.t("announcements.confirmationModal.deleteMessage")),l.a.createElement(Tt.a,{open:a,onClose:f,maxWidth:"xs",fullWidth:!0,scroll:"paper"},l.a.createElement(Mt.a,{id:"form-dialog-title"},o?""+aa.a.t("announcements.dialog.edit"):""+aa.a.t("announcements.dialog.add")),l.a.createElement("div",{style:{display:"none"}},l.a.createElement("input",{type:"file",accept:".png,.jpg,.jpeg",ref:b,onChange:e=>(e=>{const a=Object(la.head)(e.target.files);a&&E(a)})(e)})),l.a.createElement(Ct.e,{initialValues:m,enableReinitialize:!0,validationSchema:ig,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e};try{if(o){if(await u.put("/announcements/"+o,a),null!=g){const e=new FormData;e.append("typeArch","announcements"),e.append("file",g),await u.post(`/announcements/${o}/media-upload`,e)}}else{const{data:e}=await u.post("/announcements",a);if(null!=g){const a=new FormData;a.append("typeArch","announcements"),a.append("file",g),await u.post(`/announcements/${e.id}/media-upload`,a)}}S.b.success(aa.a.t("announcements.toasts.success")),"function"==typeof r&&r()}catch(t){oa(t)}f()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,values:r}=e;return l.a.createElement(Ct.d,null,l.a.createElement(St.a,{dividers:!0},l.a.createElement(ht.a,{spacing:2,container:!0},l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("announcements.dialog.form.title"),name:"title",error:a.title&&Boolean(t.title),helperText:a.title&&t.title,variant:"outlined",margin:"dense",fullWidth:!0})),l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("announcements.dialog.form.text"),name:"text",error:a.text&&Boolean(t.text),helperText:a.text&&t.text,variant:"outlined",margin:"dense",multiline:!0,rows:7,fullWidth:!0})),l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",fullWidth:!0},l.a.createElement(Nt.a,{id:"status-selection-label"},aa.a.t("announcements.dialog.form.status")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("announcements.dialog.form.status"),placeholder:aa.a.t("announcements.dialog.form.status"),labelId:"status-selection-label",id:"status",name:"status",error:a.status&&Boolean(t.status)},l.a.createElement(Q.a,{value:!0},aa.a.t("announcements.dialog.form.active")),l.a.createElement(Q.a,{value:!1},aa.a.t("announcements.dialog.form.inactive"))))),l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",fullWidth:!0},l.a.createElement(Nt.a,{id:"priority-selection-label"},aa.a.t("announcements.dialog.form.priority")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("announcements.dialog.form.priority"),placeholder:aa.a.t("announcements.dialog.form.priority"),labelId:"priority-selection-label",id:"priority",name:"priority",error:a.priority&&Boolean(t.priority)},l.a.createElement(Q.a,{value:1},aa.a.t("announcements.dialog.form.high")),l.a.createElement(Q.a,{value:2},aa.a.t("announcements.dialog.form.medium")),l.a.createElement(Q.a,{value:3},aa.a.t("announcements.dialog.form.low"))))),(m.mediaPath||g)&&l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(kt.a,{startIcon:l.a.createElement(qi.a,null)},g?g.name:m.mediaName),l.a.createElement(D.a,{onClick:()=>d(!0),color:"secondary"},l.a.createElement(ao.a,null))))),l.a.createElement(Ot.a,null,!g&&!m.mediaPath&&l.a.createElement(kt.a,{color:"primary",onClick:()=>b.current.click(),disabled:n,variant:"outlined"},aa.a.t("announcements.dialog.buttons.attach")),l.a.createElement(kt.a,{onClick:f,color:"secondary",disabled:n,variant:"outlined"},aa.a.t("announcements.dialog.buttons.cancel")),l.a.createElement(kt.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:i.btnWrapper},o?""+aa.a.t("announcements.dialog.buttons.edit"):""+aa.a.t("announcements.dialog.buttons.add"),n&&l.a.createElement(It.a,{size:24,className:i.buttonProgress}))))})))};const cg=(e,a)=>{if("LOAD_ANNOUNCEMENTS"===a.type){const t=a.payload,n=[];return Object(la.isArray)(t)&&t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_ANNOUNCEMENTS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_ANNOUNCEMENT"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},dg=Object(I.a)(e=>({mainPaper:{flex:1,padding:e.padding,overflowY:"scroll",...e.scrollbarStyles}}));var mg=()=>{const e=dg(),a=Object(O.useHistory)(),{user:t,socket:o}=Object(n.useContext)(ua),[r,i]=Object(n.useState)(!1),[s,c]=Object(n.useState)(1),[d,m]=Object(n.useState)(!1),[p,g]=Object(n.useState)(null),[E,b]=Object(n.useState)(null),[f,h]=Object(n.useState)(!1),[A,v]=Object(n.useState)(!1),[y,x]=Object(n.useState)(""),[C,k]=Object(n.useReducer)(cg,[]);Object(n.useEffect)(()=>{!async function(){t.super||(S.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{a.push("/")},1e3))}()},[]),Object(n.useEffect)(()=>{k({type:"RESET"}),c(1)},[y]),Object(n.useEffect)(()=>{i(!0);const e=setTimeout(()=>{w()},500);return()=>clearTimeout(e)},[y,s]),Object(n.useEffect)(()=>{if(t.companyId){const e=e=>{"update"!==e.action&&"create"!==e.action||k({type:"UPDATE_ANNOUNCEMENTS",payload:e.record}),"delete"===e.action&&k({type:"DELETE_ANNOUNCEMENT",payload:+e.id})};return o.on("company-announcement",e),()=>{o.off("company-announcement",e)}}},[t]);const w=async()=>{try{const{data:e}=await u.get("/announcements/",{params:{searchParam:y,pageNumber:s}});k({type:"LOAD_ANNOUNCEMENTS",payload:e.records}),m(e.hasMore),i(!1)}catch(e){oa(e)}};return l.a.createElement(Bc,null,l.a.createElement(Ir,{title:E&&`${aa.a.t("announcements.confirmationModal.deleteTitle")} ${E.name}?`,open:A,onClose:v,onConfirm:()=>(async e=>{try{e.mediaName&&await u.delete(`/announcements/${e.id}/media-upload`),await u.delete("/announcements/"+e.id),S.b.success(aa.a.t("announcements.toasts.deleted"))}catch(a){oa(a)}b(null),x(""),c(1)})(E)},aa.a.t("announcements.confirmationModal.deleteMessage")),l.a.createElement(sg,{resetPagination:()=>{c(1),w()},open:f,onClose:()=>{g(null),h(!1)},"aria-labelledby":"form-dialog-title",announcementId:p&&p.id}),l.a.createElement(qc,null,l.a.createElement(ht.a,{style:{width:"99.6%"},container:!0},l.a.createElement(ht.a,{xs:12,sm:8,item:!0},l.a.createElement(Uc,null,aa.a.t("announcements.title")," (",C.length,")")),l.a.createElement(ht.a,{xs:12,sm:4,item:!0},l.a.createElement(ht.a,{spacing:2,container:!0},l.a.createElement(ht.a,{xs:6,sm:6,item:!0},l.a.createElement(wt.a,{fullWidth:!0,placeholder:aa.a.t("announcements.searchPlaceholder"),type:"search",value:y,onChange:e=>{x(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(fc.a,{position:"start"},l.a.createElement(Lm.a,{style:{color:"gray"}}))}})),l.a.createElement(ht.a,{xs:6,sm:6,item:!0},l.a.createElement(kt.a,{fullWidth:!0,variant:"contained",onClick:()=>{g(null),h(!0)},color:"primary"},aa.a.t("announcements.buttons.add"))))))),l.a.createElement(Bt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!d||r)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&c(e=>e+1)}},l.a.createElement(Gn.a,{size:"small"},l.a.createElement(Jn.a,null,l.a.createElement(Zn.a,null,l.a.createElement(Yn.a,{align:"center"},aa.a.t("announcements.table.title")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("announcements.table.priority")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("announcements.table.mediaName")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("announcements.table.status")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("announcements.table.actions")))),l.a.createElement(Kn.a,null,l.a.createElement(l.a.Fragment,null,C.map(e=>{var a,t;return l.a.createElement(Zn.a,{key:e.id},l.a.createElement(Yn.a,{align:"center"},e.title),l.a.createElement(Yn.a,{align:"center"},1===(t=e.priority)?"Alta":2===t?"M\xe9dia":3===t?"Baixa":void 0),l.a.createElement(Yn.a,{align:"center"},null!==(a=e.mediaName)&&void 0!==a?a:aa.a.t("quickMessages.noAttachment")),l.a.createElement(Yn.a,{align:"center"},e.status?aa.a.t("announcements.active"):aa.a.t("announcements.inactive")),l.a.createElement(Yn.a,{align:"center"},l.a.createElement(D.a,{size:"small",onClick:()=>(e=>{g(e),h(!0)})(e)},l.a.createElement(Wm.a,null)),l.a.createElement(D.a,{size:"small",onClick:a=>{v(!0),b(e)}},l.a.createElement(ao.a,null))))}),r&&l.a.createElement(Vc,{columns:5}))))))};const ug=Object(I.a)(e=>({mainContainer:{display:"flex",flexDirection:"column",position:"relative",flex:1,height:"calc(100% - 58px)",overflow:"hidden",borderRadius:0,backgroundColor:"light"===e.mode?"#f2f2f2":"#7f7f7f"},chatList:{display:"flex",flexDirection:"column",position:"relative",flex:1,overflowY:"scroll",...e.scrollbarStyles},listItemActive:{cursor:"pointer",backgroundColor:e.palette.background.paper,borderLeft:"6px solid #002d6e"},listItem:{cursor:"pointer",backgroundColor:e.palette.background.color}}));function pg(e){let{chats:a,handleSelectChat:t,handleDeleteChat:o,handleEditChat:r,pageInfo:i,loading:s}=e;const c=ug(),d=Object(O.useHistory)(),{user:m,socket:p}=Object(n.useContext)(ua),{datetimeToClient:g}=un(),[E,b]=Object(n.useState)(!1),[f,h]=Object(n.useState)({}),{id:A}=Object(O.useParams)(),v=async e=>{if(y(e)>0)try{await u.post(`/chats/${e.id}/read`,{userId:m.id})}catch(a){}A!==e.uuid&&(d.push("/chats/"+e.uuid),t(e))},y=e=>e.users.find(e=>e.userId===m.id).unreads,x=e=>{const a=e.title,t=y(e);return l.a.createElement(l.a.Fragment,null,a,t>0&&l.a.createElement(H.a,{size:"small",style:{marginLeft:5},label:t,color:"secondary"}))},C=e=>""!==e.lastMessage?`${g(e.updatedAt)}: ${e.lastMessage}`:"";return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ir,{title:"Excluir Conversa",open:E,onClose:b,onConfirm:()=>{o(f)}},"Esta a\xe7\xe3o n\xe3o pode ser revertida, confirmar?"),l.a.createElement("div",{className:c.mainContainer},l.a.createElement("div",{className:c.chatList},l.a.createElement(L.a,null,Array.isArray(a)&&a.length>0&&a.map((e,a)=>l.a.createElement(_.a,{onClick:()=>v(e),key:a,className:e.uuid===A?c.listItemActive:c.listItem,button:!0},l.a.createElement(ee.a,{primary:x(e),secondary:C(e)}),e.ownerId===m.id&&l.a.createElement(Ho.a,null,l.a.createElement(D.a,{onClick:()=>{v(e).then(()=>{r(e)})},edge:"end","aria-label":"delete",size:"small",style:{marginRight:5}},l.a.createElement(Wm.a,null)),l.a.createElement(D.a,{onClick:()=>{h(e),b(!0)},edge:"end","aria-label":"delete",size:"small"},l.a.createElement(wr.a,null)))))))))}var gg=t(989),Eg=t(964),bg=t.n(Eg);const fg=Object(I.a)(e=>({mainContainer:{display:"flex",flexDirection:"column",position:"relative",flex:1,overflow:"hidden",borderRadius:0,height:"100%",borderLeft:"1px solid rgba(0, 0, 0, 0.12)"},messageList:{position:"relative",overflowY:"auto",height:"100%",...e.scrollbarStyles,backgroundColor:"light"===e.mode?"#f2f2f2":"#7f7f7f"},inputArea:{position:"relative",height:"auto"},input:{padding:"20px"},buttonSend:{margin:e.spacing(1)},boxLeft:{padding:"10px 10px 5px",margin:"10px",position:"relative",backgroundColor:"#ffffff",color:"#303030",maxWidth:300,borderRadius:10,borderBottomLeftRadius:0,border:"1px solid rgba(0, 0, 0, 0.12)"},boxRight:{padding:"10px 10px 5px",margin:"10px 10px 10px auto",position:"relative",backgroundColor:"#dcf8c6",color:"#303030",textAlign:"right",maxWidth:300,borderRadius:10,borderBottomRightRadius:0,border:"1px solid rgba(0, 0, 0, 0.12)"}}));function hg(e){let{chat:a,messages:t,handleSendMessage:o,handleLoadMore:r,scrollToBottomRef:i,pageInfo:s,loading:c}=e;const d=fg(),{user:m,socket:p}=Object(n.useContext)(ua),{datetimeToClient:g}=un(),E=Object(n.useRef)(),[b,f]=Object(n.useState)(""),h=()=>{E.current&&E.current.scrollIntoView({})};Object(n.useEffect)(()=>{if((e=>{if(void 0!==e){return e.users.find(e=>e.userId===m.id).unreads>0}return 0})(a)>0)try{u.post(`/chats/${a.id}/read`,{userId:m.id})}catch(e){}i.current=h},[]);return l.a.createElement(Bt.a,{className:d.mainContainer},l.a.createElement("div",{onScroll:e=>{const{scrollTop:a}=e.currentTarget;s.hasMore&&!c&&a<600&&r()},className:d.messageList},Array.isArray(t)&&t.map((e,a)=>e.senderId===m.id?l.a.createElement(Gt.a,{key:a,className:d.boxRight},l.a.createElement(z.a,{variant:"subtitle2"},e.sender.name),e.message,l.a.createElement(z.a,{variant:"caption",display:"block"},g(e.createdAt))):l.a.createElement(Gt.a,{key:a,className:d.boxLeft},l.a.createElement(z.a,{variant:"subtitle2"},e.sender.name),e.message,l.a.createElement(z.a,{variant:"caption",display:"block"},g(e.createdAt)))),l.a.createElement("div",{ref:E})),l.a.createElement("div",{className:d.inputArea},l.a.createElement(Rt.a,{variant:"outlined",fullWidth:!0},l.a.createElement(gg.a,{multiline:!0,value:b,onKeyUp:e=>{"Enter"===e.key&&""!==b.trim()&&(o(b),f(""))},onChange:e=>f(e.target.value),className:d.input,endAdornment:l.a.createElement(fc.a,{position:"end"},l.a.createElement(D.a,{onClick:()=>{""!==b.trim()&&(o(b),f(""))},className:d.buttonSend},l.a.createElement(bg.a,null)))}))))}const Ag=Object(I.a)(e=>({mainContainer:{display:"flex",flexDirection:"column",position:"relative",flex:1,padding:e.spacing(2),height:"calc(100% - 48px)",overflowY:"hidden",border:"1px solid rgba(0, 0, 0, 0.12)"},gridContainer:{flex:1,height:"100%",border:"1px solid rgba(0, 0, 0, 0.12)",background:e.palette.background.color},gridItem:{height:"100%"},gridItemTab:{height:"92%",width:"100%"},btnContainer:{textAlign:"right",padding:10}}));function vg(e){let{open:a,chat:t,type:o,handleClose:r,handleLoadNewChat:i}=e;const[s,c]=Object(n.useState)([]),[d,m]=Object(n.useState)("");Object(n.useEffect)(()=>{if(m(""),c([]),"edit"===o){const e=t.users.map(e=>({id:e.user.id,name:e.user.name}));c(e),m(t.title)}},[t,a,o]);return l.a.createElement(Tt.a,{open:a,onClose:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(Mt.a,{id:"alert-dialog-title"},aa.a.t("chatInternal.modal.title")),l.a.createElement(St.a,null,l.a.createElement(ht.a,{spacing:2,container:!0},l.a.createElement(ht.a,{xs:12,style:{padding:18},item:!0},l.a.createElement(wt.a,{label:"T\xedtulo",placeholder:"T\xedtulo",value:d,onChange:e=>m(e.target.value),variant:"outlined",size:"small",fullWidth:!0})),l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(ar,{onFiltered:e=>c(e),initialUsers:s})))),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:r,color:"primary"},aa.a.t("chatInternal.modal.cancel")),l.a.createElement(kt.a,{onClick:async()=>{try{if("edit"===o)await u.put("/chats/"+t.id,{users:s,title:d});else{const{data:e}=await u.post("/chats",{users:s,title:d});i(e)}r()}catch(e){}},color:"primary",variant:"contained",disabled:void 0===s||0===s.length||null===d||""===d||void 0===d},aa.a.t("chatInternal.modal.save"))))}var yg=Object(Ml.a)()((function(e){const a=Ag(),{user:t,socket:o}=Object(n.useContext)(ua),r=Object(O.useHistory)(),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)("new"),[m,p]=Object(n.useState)({}),[g,E]=Object(n.useState)([]),[b,f]=Object(n.useState)({hasMore:!1}),[h,A]=Object(n.useState)([]),[v,y]=Object(n.useState)({hasMore:!1}),[x,C]=Object(n.useState)(1),[k,w]=Object(n.useState)(!1),[T,S]=Object(n.useState)(0),M=Object(n.useRef)(!0),I=Object(n.useRef)(),{id:j}=Object(O.useParams)();Object(n.useEffect)(()=>()=>{M.current=!1},[]),Object(n.useEffect)(()=>{M.current&&L().then(e=>{const{records:a}=e;if(a.length>0&&(E(a),f(e),j&&a.length)){const e=a.find(e=>e.uuid===j);N(e)}})},[]),Object(n.useEffect)(()=>{Object(la.isObject)(m)&&Object(la.has)(m,"id")&&P(m.id).then(()=>{"function"===typeof I.current&&setTimeout(()=>{I.current()},300)})},[m]),Object(n.useEffect)(()=>{const e=t.companyId,a=e=>{if(console.log(e),"create"===e.action&&E(a=>[e.record,...a]),"update"===e.action){const a=g.map(a=>a.id===e.record.id?(p(e.record),{...e.record}):a);E(a)}},n=e=>{if("delete"===e.action){const a=g.filter(a=>a.id!==+e.id);E(a),A([]),C(1),y({hasMore:!1}),p({}),r.push("/chats")}},l=e=>{if("new-message"===e.action){A(a=>[...a,e.newMessage]);const a=g.map(a=>a.id===e.newMessage.chatId?{...e.chat}:a);E(a),I.current()}if("update"===e.action){const a=g.map(a=>a.id===e.chat.id?{...e.chat}:a);E(a),I.current()}};return o.on(`company-${e}-chat-user-${t.id}`,a),o.on(`company-${e}-chat`,n),Object(la.isObject)(m)&&Object(la.has)(m,"id")&&o.on(`company-${e}-chat-${m.id}`,l),()=>{o.off(`company-${e}-chat-user-${t.id}`,a),o.off(`company-${e}-chat`,n),Object(la.isObject)(m)&&Object(la.has)(m,"id")&&o.off(`company-${e}-chat-${m.id}`,l)}},[m]);const N=e=>{try{A([]),C(1),p(e),S(1)}catch(a){}},R=async e=>{w(!0);try{await u.post(`/chats/${m.id}/messages`,{message:e})}catch(a){}w(!1)},F=async e=>{try{await u.delete("/chats/"+e.id)}catch(a){}},P=async e=>{w(!0);try{const{data:a}=await u.get(`/chats/${e}/messages?pageNumber=${x}`);C(e=>e+1),y(a),A(e=>[...a.records,...e])}catch(a){}w(!1)},D=async()=>{k||P(m.id)},L=async()=>{try{const{data:e}=await u.get("/chats");return e}catch(e){console.log(e)}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(vg,{type:c,open:i,chat:m,handleLoadNewChat:e=>{A([]),C(1),p(e),S(1),r.push("/chats/"+e.uuid)},handleClose:()=>s(!1)}),l.a.createElement(Bt.a,{className:a.mainContainer},Object(Ml.c)("md",e.width)?l.a.createElement(ht.a,{className:a.gridContainer,container:!0},l.a.createElement(ht.a,{className:a.gridItem,md:3,item:!0},l.a.createElement("div",{className:a.btnContainer},l.a.createElement(kt.a,{onClick:()=>{d("new"),s(!0)},color:"primary",variant:"contained"},aa.a.t("chatInternal.new"))),l.a.createElement(pg,{chats:g,pageInfo:b,loading:k,handleSelectChat:e=>N(e),handleDeleteChat:e=>F(e),handleEditChat:()=>{d("edit"),s(!0)}})),l.a.createElement(ht.a,{className:a.gridItem,md:9,item:!0},Object(la.isObject)(m)&&Object(la.has)(m,"id")&&l.a.createElement(hg,{chat:m,scrollToBottomRef:I,pageInfo:v,messages:h,loading:k,handleSendMessage:R,handleLoadMore:D}))):l.a.createElement(ht.a,{className:a.gridContainer,container:!0},l.a.createElement(ht.a,{md:12,item:!0},l.a.createElement(Wt.a,{value:T,indicatorColor:"primary",textColor:"primary",onChange:(e,a)=>S(a),"aria-label":"disabled tabs example"},l.a.createElement(qt.a,{label:"Chats"}),l.a.createElement(qt.a,{label:"Mensagens"}))),0===T&&l.a.createElement(ht.a,{className:a.gridItemTab,md:12,item:!0},l.a.createElement("div",{className:a.btnContainer},l.a.createElement(kt.a,{onClick:()=>s(!0),color:"primary",variant:"contained"},"Novo")),l.a.createElement(pg,{chats:g,pageInfo:b,loading:k,handleSelectChat:e=>N(e),handleDeleteChat:e=>F(e)})),1===T&&l.a.createElement(ht.a,{className:a.gridItemTab,md:12,item:!0},Object(la.isObject)(m)&&Object(la.has)(m,"id")&&l.a.createElement(hg,{scrollToBottomRef:I,pageInfo:v,messages:h,loading:k,handleSendMessage:R,handleLoadMore:D})))))}));const xg=Object(I.a)(e=>({formControl:{margin:e.spacing(1),minWidth:120}}));var Cg=()=>{const e=xg(),[a,t]=Object(n.useState)([]);return Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await u.get("/queue");t(e)}catch(e){oa("QUEUESELETSINGLE >>> "+e)}})()},[]),l.a.createElement("div",{style:{marginTop:6}},l.a.createElement(Rt.a,{variant:"outlined",className:e.FormControl,margin:"dense",fullWidth:!0},l.a.createElement("div",null,l.a.createElement(z.a,null,aa.a.t("queueSelect.inputLabel")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("queueSelect.inputLabel"),name:"queueId",labelId:"queue-selection-label",id:"queue-selection",fullWidth:!0},a.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name))))))};const kg=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}}));xt.c().shape({name:xt.e().min(5,"Muito curto!").max(100,"Muito longo!").required("Obrigat\xf3rio"),prompt:xt.e().min(50,"Muito curto!").required("Descreva o treinamento para Intelig\xeancia Artificial"),voice:xt.e().required("Informe o modo para Voz"),max_tokens:xt.b().required("Informe o n\xfamero m\xe1ximo de tokens"),temperature:xt.b().required("Informe a temperatura"),apikey:xt.e().required("Informe a API Key"),queueId:xt.b().required("Informe a fila"),max_messages:xt.b().required("Informe o n\xfamero m\xe1ximo de mensagens")});var wg=e=>{let{open:a,onClose:t,promptId:o}=e;const r=kg(),[i,s]=Object(n.useState)("texto"),[c,d]=Object(n.useState)(!1),m=()=>{d(!c)},p={name:"",prompt:"",voice:"texto",voiceKey:"",voiceRegion:"",maxTokens:100,temperature:1,apiKey:"",queueId:null,maxMessages:10},[g,E]=Object(n.useState)(p);Object(n.useEffect)(()=>{(async()=>{if(o)try{const{data:e}=await u.get("/prompt/"+o);E(a=>({...a,...e})),s(e.voice)}catch(e){oa(e)}else E(p)})()},[o,a]);const b=()=>{E(p),s("texto"),t()},f=e=>{s(e.target.value)};return l.a.createElement("div",{className:r.root},l.a.createElement(Tt.a,{open:a,onClose:b,maxWidth:"md",scroll:"paper",fullWidth:!0},l.a.createElement(Mt.a,{id:"form-dialog-title"},o?""+aa.a.t("promptModal.title.edit"):""+aa.a.t("promptModal.title.add")),l.a.createElement(Ct.e,{initialValues:g,enableReinitialize:!0,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e,voice:i};if(e.queueId){try{o?await u.put("/prompt/"+o,a):await u.post("/prompt",a),S.b.success(aa.a.t("promptModal.success"))}catch(t){oa(t)}b()}else oa("Informe o setor")})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,values:s}=e;return l.a.createElement(Ct.d,{style:{width:"100%"}},l.a.createElement(St.a,{dividers:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("promptModal.form.name"),name:"name",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:"outlined",margin:"dense",fullWidth:!0,required:!0}),l.a.createElement(Rt.a,{fullWidth:!0,margin:"dense",variant:"outlined"},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("promptModal.form.apikey"),name:"apiKey",type:c?"text":"password",error:a.apiKey&&Boolean(t.apiKey),helperText:a.apiKey&&t.apiKey,variant:"outlined",margin:"dense",fullWidth:!0,required:!0,InputProps:{endAdornment:l.a.createElement(fc.a,{position:"end"},l.a.createElement(D.a,{onClick:m},c?l.a.createElement(pp.a,null):l.a.createElement(gp.a,null)))}})),l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("promptModal.form.prompt"),name:"prompt",error:a.prompt&&Boolean(t.prompt),helperText:a.prompt&&t.prompt,variant:"outlined",margin:"dense",fullWidth:!0,required:!0,rows:10,multiline:!0}),l.a.createElement(Cg,null),l.a.createElement("div",{className:r.multFieldLine},l.a.createElement(Rt.a,{fullWidth:!0,margin:"dense",variant:"outlined"},l.a.createElement(Nt.a,null,aa.a.t("promptModal.form.voice")),l.a.createElement(jt.a,{id:"type-select",labelWidth:60,name:"voice",value:i,onChange:f,multiple:!1},l.a.createElement(Q.a,{key:"texto",value:"texto"},"Texto"),l.a.createElement(Q.a,{key:"pt-BR-FranciscaNeural",value:"pt-BR-FranciscaNeural"},"Francisa"),l.a.createElement(Q.a,{key:"pt-BR-AntonioNeural",value:"pt-BR-AntonioNeural"},"Ant\xf4nio"),l.a.createElement(Q.a,{key:"pt-BR-BrendaNeural",value:"pt-BR-BrendaNeural"},"Brenda"),l.a.createElement(Q.a,{key:"pt-BR-DonatoNeural",value:"pt-BR-DonatoNeural"},"Donato"),l.a.createElement(Q.a,{key:"pt-BR-ElzaNeural",value:"pt-BR-ElzaNeural"},"Elza"),l.a.createElement(Q.a,{key:"pt-BR-FabioNeural",value:"pt-BR-FabioNeural"},"F\xe1bio"),l.a.createElement(Q.a,{key:"pt-BR-GiovannaNeural",value:"pt-BR-GiovannaNeural"},"Giovanna"),l.a.createElement(Q.a,{key:"pt-BR-HumbertoNeural",value:"pt-BR-HumbertoNeural"},"Humberto"),l.a.createElement(Q.a,{key:"pt-BR-JulioNeural",value:"pt-BR-JulioNeural"},"Julio"),l.a.createElement(Q.a,{key:"pt-BR-LeilaNeural",value:"pt-BR-LeilaNeural"},"Leila"),l.a.createElement(Q.a,{key:"pt-BR-LeticiaNeural",value:"pt-BR-LeticiaNeural"},"Let\xedcia"),l.a.createElement(Q.a,{key:"pt-BR-ManuelaNeural",value:"pt-BR-ManuelaNeural"},"Manuela"),l.a.createElement(Q.a,{key:"pt-BR-NicolauNeural",value:"pt-BR-NicolauNeural"},"Nicolau"),l.a.createElement(Q.a,{key:"pt-BR-ValerioNeural",value:"pt-BR-ValerioNeural"},"Val\xe9rio"),l.a.createElement(Q.a,{key:"pt-BR-YaraNeural",value:"pt-BR-YaraNeural"},"Yara"))),l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("promptModal.form.voiceKey"),name:"voiceKey",error:a.voiceKey&&Boolean(t.voiceKey),helperText:a.voiceKey&&t.voiceKey,variant:"outlined",margin:"dense",fullWidth:!0}),l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("promptModal.form.voiceRegion"),name:"voiceRegion",error:a.voiceRegion&&Boolean(t.voiceRegion),helperText:a.voiceRegion&&t.voiceRegion,variant:"outlined",margin:"dense",fullWidth:!0})),l.a.createElement("div",{className:r.multFieldLine},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("promptModal.form.temperature"),name:"temperature",error:a.temperature&&Boolean(t.temperature),helperText:a.temperature&&t.temperature,variant:"outlined",margin:"dense",fullWidth:!0}),l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("promptModal.form.max_tokens"),name:"maxTokens",error:a.maxTokens&&Boolean(t.maxTokens),helperText:a.maxTokens&&t.maxTokens,variant:"outlined",margin:"dense",fullWidth:!0}),l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("promptModal.form.max_messages"),name:"maxMessages",error:a.maxMessages&&Boolean(t.maxMessages),helperText:a.maxMessages&&t.maxMessages,variant:"outlined",margin:"dense",fullWidth:!0}))),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:b,color:"secondary",disabled:n,variant:"outlined"},aa.a.t("promptModal.buttons.cancel")),l.a.createElement(kt.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:r.btnWrapper},o?""+aa.a.t("promptModal.buttons.okEdit"):""+aa.a.t("promptModal.buttons.okAdd"),n&&l.a.createElement(It.a,{size:24,className:r.buttonProgress}))))})))};const Tg=Object(I.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles},customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"}})),Og=(e,a)=>{if("LOAD_PROMPTS"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_PROMPTS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_PROMPT"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]};var Sg=()=>{const e=Tg(),[a,t]=Object(n.useReducer)(Og,[]),[o,r]=Object(n.useState)(!1),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(null),[m,p]=Object(n.useState)(!1),{user:g,socket:E}=Object(n.useContext)(ua),{getPlanCompany:b}=va(),f=Object(ld.useHistory)(),h=g.companyId;Object(n.useEffect)(()=>{!async function(){(await b(void 0,h)).plan.useOpenAi||(S.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{f.push("/")},1e3))}()},[]),Object(n.useEffect)(()=>{(async()=>{r(!0);try{const{data:e}=await u.get("/prompt");t({type:"LOAD_PROMPTS",payload:e.prompts}),r(!1)}catch(e){oa(e),r(!1)}})()},[]),Object(n.useEffect)(()=>{const e=e=>{"update"!==e.action&&"create"!==e.action||t({type:"UPDATE_PROMPTS",payload:e.prompt}),"delete"===e.action&&t({type:"DELETE_PROMPT",payload:e.promptId})};return E.on(`company-${h}-prompt`,e),()=>{E.off(`company-${h}-prompt`,e)}},[E]);return l.a.createElement(Bc,null,l.a.createElement(Ir,{title:c&&`${aa.a.t("prompts.confirmationModal.deleteTitle")} ${c.name}?`,open:m,onClose:()=>{p(!1),d(null)},onConfirm:()=>(async e=>{try{const{data:a}=await u.delete("/prompt/"+e);S.b.info(aa.a.t(a.message))}catch(a){oa(a)}d(null)})(c.id)},aa.a.t("prompts.confirmationModal.deleteMessage")),l.a.createElement(wg,{open:i,onClose:()=>{s(!1),d(null)},promptId:null===c||void 0===c?void 0:c.id}),"user"===g.profile?l.a.createElement(Tl,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(qc,null,l.a.createElement(Uc,null,aa.a.t("prompts.title")),l.a.createElement(Hc,null,l.a.createElement(kt.a,{variant:"contained",color:"primary",onClick:()=>{s(!0),d(null)}},aa.a.t("prompts.buttons.add")))),l.a.createElement(Bt.a,{className:e.mainPaper,variant:"outlined"},l.a.createElement(Gn.a,{size:"small"},l.a.createElement(Jn.a,null,l.a.createElement(Zn.a,null,l.a.createElement(Yn.a,{align:"left"},aa.a.t("prompts.table.name")),l.a.createElement(Yn.a,{align:"left"},aa.a.t("prompts.table.queue")),l.a.createElement(Yn.a,{align:"left"},aa.a.t("prompts.table.max_tokens")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("prompts.table.actions")))),l.a.createElement(Kn.a,null,l.a.createElement(l.a.Fragment,null,a.map(e=>l.a.createElement(Zn.a,{key:e.id},l.a.createElement(Yn.a,{align:"left"},e.name),l.a.createElement(Yn.a,{align:"left"},e.queue.name),l.a.createElement(Yn.a,{align:"left"},e.maxTokens),l.a.createElement(Yn.a,{align:"center"},l.a.createElement(D.a,{size:"small",onClick:()=>(e=>{d(e),s(!0)})(e)},l.a.createElement(Rc.a,null)),l.a.createElement(D.a,{size:"small",onClick:()=>{d(e),p(!0)}},l.a.createElement(Fc.a,null))))),o&&l.a.createElement(Vc,{columns:4})))))))};const Mg=Object(I.a)(e=>({root:{width:"100vw",height:"100vh",backgroundImage:"url(https://coresistemas.com/imagens/fundo09.jpg)",backgroundRepeat:"no-repeat",backgroundSize:"100% 100%",backgroundPosition:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},paper:{backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center",padding:"55px 30px",borderRadius:"12.5px"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},powered:{color:"white"}})),Ig=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/;var jg=()=>{const e=Mg(),a=Object(O.useHistory)();let t=null;const[o,r]=Object(n.useState)(!1),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(!1),[p,g]=Object(n.useState)(!1),[E,b]=Object(n.useState)(""),f=()=>{m(!d)},h=()=>{g(!p)},A=Ec.a.parse(window.location.search);void 0!==A.companyId&&(t=A.companyId);const[v]=Object(n.useState)({email:""}),y=(da()().add(3,"day").format(),s),x=xt.c().shape({email:xt.e().email("Invalid email").required("Required"),newPassword:y?xt.e().required("Campo obrigat\xf3rio").matches(Ig,"Sua senha precisa ter no m\xednimo 8 caracteres, sendo uma letra mai\xfascula, uma min\xfascula e um n\xfamero."):xt.e(),confirmPassword:xt.e().when("newPassword",{is:e=>y&&e,then:xt.e().oneOf([xt.d("newPassword"),null],"As senhas n\xe3o correspondem").required("Campo obrigat\xf3rio"),otherwise:xt.e()})});return l.a.createElement("div",{className:e.root},l.a.createElement(kl.a,{component:"main",maxWidth:"xs"},l.a.createElement(i.a,null),l.a.createElement("div",{className:e.paper},l.a.createElement("div",null,l.a.createElement("img",{style:{margin:"0 auto",height:"80px",width:"100%"},src:cn.a,alt:"Whats"})),l.a.createElement(z.a,{component:"h1",variant:"h5"},aa.a.t("Redefinir senha")),l.a.createElement(Ct.e,{initialValues:{email:"",token:"",newPassword:"",confirmPassword:""},enableReinitialize:!0,validationSchema:x,onSubmit:(e,t)=>{setTimeout(()=>{s?(async e=>{const t=e.email,n=e.token,l=e.newPassword;if(l===e.confirmPassword)try{await u.post(`http://localhost:8081/resetpasswords/${t}/${n}/${l}`),b(""),S.b.success(aa.a.t("Senha redefinida com sucesso.")),a.push("/login")}catch(o){console.log(o)}})(e):(async e=>{const a=e.email;try{const e=await u.post("http://localhost:8081/forgetpassword/"+a);console.log("API Response:",e.data),404===e.data.status?S.b.error("Email n\xe3o encontrado"):S.b.success(aa.a.t("Email enviado com sucesso!"))}catch(t){console.log("API Error:",t),oa(t)}})(e),t.setSubmitting(!1),r(!o),c(!o)},400)}},a=>{let{touched:t,errors:n,isSubmitting:r}=a;return l.a.createElement(Ct.d,{className:e.form},l.a.createElement(ht.a,{container:!0,spacing:2},l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(Ct.b,{as:wt.a,variant:"outlined",fullWidth:!0,id:"email",label:aa.a.t("signup.form.email"),name:"email",error:t.email&&Boolean(n.email),helperText:t.email&&n.email,autoComplete:"email",required:!0})),o&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(Ct.b,{as:wt.a,variant:"outlined",fullWidth:!0,id:"token",label:"C\xf3digo de Verifica\xe7\xe3o",name:"token",error:t.token&&Boolean(n.token),helperText:t.token&&n.token,autoComplete:"off",required:!0})),l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(Ct.b,{as:wt.a,variant:"outlined",fullWidth:!0,type:d?"text":"password",id:"newPassword",label:"Nova senha",name:"newPassword",error:t.newPassword&&Boolean(n.newPassword),helperText:t.newPassword&&n.newPassword,autoComplete:"off",required:!0,InputProps:{endAdornment:l.a.createElement(fc.a,{position:"end"},l.a.createElement(D.a,{onClick:f},d?l.a.createElement(Ul.a,null):l.a.createElement(Vl.a,null)))}})),l.a.createElement(ht.a,{item:!0,xs:12},l.a.createElement(Ct.b,{as:wt.a,variant:"outlined",fullWidth:!0,type:p?"text":"password",id:"confirmPassword",label:"Confirme a senha",name:"confirmPassword",error:t.confirmPassword&&Boolean(n.confirmPassword),helperText:t.confirmPassword&&n.confirmPassword,autoComplete:"off",required:!0,InputProps:{endAdornment:l.a.createElement(fc.a,{position:"end"},l.a.createElement(D.a,{onClick:h},p?l.a.createElement(Ul.a,null):l.a.createElement(Vl.a,null)))}})))),s?l.a.createElement(kt.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Redefinir Senha"):l.a.createElement(kt.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Enviar Email"),l.a.createElement(ht.a,{container:!0,justifyContent:"flex-end"},l.a.createElement(ht.a,{item:!0},l.a.createElement(mr.a,{href:"#",variant:"body2",component:T.b,to:"/signup"},aa.a.t("N\xe3o tem uma conta? Cadastre-se!")))),E&&l.a.createElement(z.a,{variant:"body2",color:"error"},E))})),l.a.createElement(Gt.a,{mt:5})))};const Ng=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap",gap:4},multFieldLine:{marginTop:12,display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},importMessage:{marginTop:12,marginBottom:12,paddingBottom:20,paddingTop:3,padding:12,border:"solid grey 2px",borderRadius:4,display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},textField:{marginRight:e.spacing(1),flex:1},tokenRefresh:{minWidth:"auto",display:"flex",alignItems:"center",justifyContent:"center"}})),Rg=xt.c().shape({name:xt.e().min(2,"Too Short!").max(50,"Too Long!").required("Required")});var Fg=l.a.memo(e=>{let{open:a,onClose:t,whatsAppId:o}=e;const r=Ng(),[i,s]=Object(n.useState)(""),c=Object(n.useRef)(null),[d,m]=Object(n.useState)(null),[p,g]=Object(n.useState)(""),E={name:"",greetingMessage:"",complationMessage:"",outOfHoursMessage:"",ratingMessage:"",isDefault:!1,token:"",maxUseBotQueues:3,provider:"beta",expiresTicket:0,allowGroup:!1,groupAsTicket:"disabled",timeUseBotQueues:"0",timeSendQueue:"0",sendIdQueue:0,expiresTicketNPS:"0",expiresInactiveMessage:"",timeInactiveMessage:"",inactiveMessage:"",maxUseBotQueuesNPS:3,whenExpiresTicket:0,timeCreateNewTicket:0,greetingMediaAttachment:"",importRecentMessages:"",importOldMessages:"",importOldMessagesGroups:"",integrationId:""},[b,f]=Object(n.useState)(E),[h,A]=Object(n.useState)([]),[v,y]=Object(n.useState)([]),[x,C]=Object(n.useState)("general"),[k,w]=Object(n.useState)(!1),[T,O]=Object(n.useState)(!1),[M,I]=Object(n.useState)(!1),[j,N]=Object(n.useState)(da()().add(-1,"days").format("YYYY-MM-DDTHH:mm")),[R,F]=Object(n.useState)(da()().add(-1,"minutes").format("YYYY-MM-DDTHH:mm")),[P,D]=Object(n.useState)(!1),[L,B]=Object(n.useState)([]),[W,q]=Object(n.useState)(!1),[z,H]=Object(n.useState)([{weekday:aa.a.t("queueModal.serviceHours.monday"),weekdayEn:"monday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:aa.a.t("queueModal.serviceHours.tuesday"),weekdayEn:"tuesday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:aa.a.t("queueModal.serviceHours.wednesday"),weekdayEn:"wednesday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:aa.a.t("queueModal.serviceHours.thursday"),weekdayEn:"thursday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:aa.a.t("queueModal.serviceHours.friday"),weekdayEn:"friday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:"S\xe1bado",weekdayEn:"saturday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:"Domingo",weekdayEn:"sunday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"}]),{get:U}=ct(),[V,G]=Object(n.useState)(null),[K,Y]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await u.get("/prompt");Y(e.prompts)}catch(e){oa(e)}})()},[o]),Object(n.useEffect)(()=>{(async()=>{const e=await U({column:"scheduleType"});q("connection"===e.scheduleType)})()},[]);const X=async e=>{w(e.target.checked)};Object(n.useEffect)(()=>{(async()=>{if(o)try{var e;const{data:a}=await u.get(`whatsapp-admin/${o}?session=0`);f(a),g(a.greetingMediaAttachment),s(a.token),a.promptId?G(a.promptId):G(null);const t=null===(e=a.queues)||void 0===e?void 0:e.map(e=>e.id);A(t),H(a.schedules),(null===a||void 0===a?void 0:a.importOldMessages)&&(w(!0),N(null===a||void 0===a?void 0:a.importOldMessages),F(null===a||void 0===a?void 0:a.importRecentMessages),I(null===a||void 0===a?void 0:a.closedTicketsPostImported),O(null===a||void 0===a?void 0:a.importOldMessagesGroups))}catch(a){oa(a)}})()},[o]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await u.get("/queue");y(e)}catch(e){oa(e)}})()},[]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await u.get("/queueIntegration");B(e.queueIntegrations)}catch(e){oa(e)}})()},[]);const J=e=>{G(e.target.value),A([])};function Z(e){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyvz0123456789";let t="";for(let n=0;n<e;n++){const e=Math.floor(Math.random()*a.length);t+=a.charAt(e)}return t}const _=()=>{s(Z(30))},$=()=>{navigator.clipboard.writeText(i),D(!0)},ee=async e=>{S.b.success("Clique em salvar para registar as altera\xe7\xf5es"),H(e)},ae=()=>{t(),f(E),m(null),g(""),D(!1)},te=(e,a)=>{C(a)},ne=()=>{const e=c.current.files[0];m(e),g(e.name),c.current.value=null},le=()=>{m(null),g(null)};return l.a.createElement("div",{className:r.root},l.a.createElement(Tt.a,{open:a,onClose:ae,maxWidth:"xl",fullWidth:!0,scroll:"paper"},l.a.createElement(Mt.a,null,o?aa.a.t("whatsappModal.title.edit"):aa.a.t("whatsappModal.title.add")),l.a.createElement(Ct.e,{initialValues:b,enableReinitialize:!0,validationSchema:Rg,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{if(o||s(Z(30)),!Object(la.isNil)(e.ratingMessage)&&""!==e.ratingMessage&&("0"===e.expiresTicketNPS||""===e.expiresTicketNPS||0===e.expiresTicketNPS))return void oa(aa.a.t("whatsappModal.errorExpiresNPS"));if(!Object(la.isNil)(e.ratingMessage)&&("0"===e.expiresTicketNPS||""===e.expiresTicketNPS))return void oa(aa.a.t("whatsappModal.errorExpiresNPS"));if(""===e.timeSendQueue&&(e.timeSendQueue="0"),(0===e.sendIdQueue||""===e.sendIdQueue||Object(la.isNil)(e.sendIdQueue))&&0!==e.timeSendQueue&&"0"!==e.timeSendQueue)return void oa(aa.a.t("whatsappModal.errorSendQueue"));const a={...e,queueIds:h,importOldMessages:k?j:null,importRecentMessages:k?R:null,importOldMessagesGroups:T||null,closedTicketsPostImported:M||null,token:i||null,schedules:z,promptId:V||null};delete a.queues,delete a.session;try{if(o){if(o&&k&&"CONNECTED"===(null===b||void 0===b?void 0:b.status)){S.b.warning(aa.a.t("userModal.warning.updateImage"),{autoClose:!1});try{f({...b,status:"qrcode"}),await u.delete("/whatsappsession/"+b.id)}catch(t){oa(t)}}if(await u.put("/whatsapp/"+o,a),null!=d){const e=new FormData;e.append("file",d),await u.post(`/whatsapp/${o}/media-upload`,e)}p||null===b.greetingMediaAttachment||await u.delete(`/whatsapp/${o}/media-upload`)}else{const{data:e}=await u.post("/whatsapp",a);if(null!=d){const a=new FormData;a.append("file",d),await u.post(`/whatsapp/${e.id}/media-upload`,a)}}S.b.success(aa.a.t("whatsappModal.success")),ae()}catch(t){oa(t)}})(e),a.setSubmitting(!1)},400)}},e=>{let{values:a,touched:t,errors:n,isSubmitting:s}=e;return l.a.createElement(Ct.d,null,l.a.createElement(Bt.a,{className:r.mainPaper,elevation:1},l.a.createElement(Wt.a,{value:x,indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",onChange:te,className:r.tab},l.a.createElement(qt.a,{label:aa.a.t("whatsappModal.tabs.general"),value:"general"}),l.a.createElement(qt.a,{label:aa.a.t("whatsappModal.tabs.integrations"),value:"integrations"}),l.a.createElement(qt.a,{label:aa.a.t("whatsappModal.tabs.messages"),value:"messages"}),l.a.createElement(qt.a,{label:"Chatbot",value:"chatbot"}),l.a.createElement(qt.a,{label:aa.a.t("whatsappModal.tabs.assessments"),value:"nps"}),W&&l.a.createElement(qt.a,{label:aa.a.t("whatsappModal.tabs.schedules"),value:"schedules"}))),l.a.createElement(Bt.a,{className:r.paper,elevation:0},l.a.createElement(zt,{className:r.container,value:x,name:"general"},l.a.createElement(St.a,{dividers:!0},p&&l.a.createElement("div",{style:{display:"flex",flexDirection:"row-reverse"}},l.a.createElement(kt.a,{variant:"outlined",color:"primary",endIcon:l.a.createElement(ao.a,null),onClick:le},p)),l.a.createElement("div",{style:{display:"flex",flexDirection:"column-reverse"}},l.a.createElement("input",{type:"file",accept:"video/*,image/*",ref:c,style:{display:"none"},onChange:ne}),l.a.createElement(kt.a,{variant:"contained",color:"primary",onClick:()=>c.current.click()},aa.a.t("userModal.buttons.addImage"))),l.a.createElement("div",{className:r.multFieldLine},l.a.createElement(ht.a,{spacing:2,container:!0},l.a.createElement(ht.a,{item:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.name"),autoFocus:!0,name:"name",error:t.name&&Boolean(n.name),helperText:t.name&&n.name,variant:"outlined",margin:"dense",className:r.textField})),l.a.createElement(ht.a,{style:{paddingTop:15},item:!0},l.a.createElement(Bi.a,{control:l.a.createElement(Ct.b,{as:Nl.a,color:"primary",name:"isDefault",checked:a.isDefault}),label:aa.a.t("whatsappModal.form.default")}),l.a.createElement(Bi.a,{control:l.a.createElement(Ct.b,{as:Nl.a,color:"primary",name:"allowGroup",checked:a.allowGroup}),label:aa.a.t("whatsappModal.form.group")})),l.a.createElement(ht.a,{xs:6,md:4,item:!0},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:r.formControl},l.a.createElement(Nt.a,{id:"groupAsTicket-selection-label"},aa.a.t("whatsappModal.form.groupAsTicket")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("whatsappModal.form.groupAsTicket"),placeholder:aa.a.t("whatsappModal.form.groupAsTicket"),labelId:"groupAsTicket-selection-label",id:"groupAsTicket",name:"groupAsTicket"},l.a.createElement(Q.a,{value:"disabled"},aa.a.t("whatsappModal.menuItem.disabled")),l.a.createElement(Q.a,{value:"enabled"},aa.a.t("whatsappModal.menuItem.enabled"))))))),l.a.createElement("div",{className:r.importMessage},l.a.createElement("div",{className:r.multFieldLine},l.a.createElement(Bi.a,{style:{marginRight:7,color:"gray"},label:aa.a.t("whatsappModal.form.importOldMessagesEnable"),labelPlacement:"end",control:l.a.createElement(Nl.a,{size:"medium",checked:k,onChange:X,name:"importOldMessagesEnable",color:"primary"})}),k?l.a.createElement(l.a.Fragment,null,l.a.createElement(Bi.a,{style:{marginRight:7,color:"gray"},label:aa.a.t("whatsappModal.form.importOldMessagesGroups"),labelPlacement:"end",control:l.a.createElement(Nl.a,{size:"medium",checked:T,onChange:e=>O(e.target.checked),name:"importOldMessagesGroups",color:"primary"})}),l.a.createElement(Bi.a,{style:{marginRight:7,color:"gray"},label:aa.a.t("whatsappModal.form.closedTicketsPostImported"),labelPlacement:"end",control:l.a.createElement(Nl.a,{size:"medium",checked:M,onChange:e=>I(e.target.checked),name:"closedTicketsPostImported",color:"primary"})})):l.a.createElement(l.a.Fragment,null)),k?l.a.createElement(ht.a,{style:{marginTop:18},container:!0,spacing:3},l.a.createElement(ht.a,{item:!0,xs:6},l.a.createElement(Ct.b,{fullWidth:!0,as:wt.a,label:aa.a.t("whatsappModal.form.importOldMessages"),type:"datetime-local",name:"importOldMessages",inputProps:{max:da()().add(0,"minutes").format("YYYY-MM-DDTHH:mm"),min:da()().add(-2,"years").format("YYYY-MM-DDTHH:mm")},InputLabelProps:{shrink:!0},error:t.importOldMessages&&Boolean(n.importOldMessages),helperText:t.importOldMessages&&n.importOldMessages,variant:"outlined",value:da()(j).format("YYYY-MM-DDTHH:mm"),onChange:e=>{N(e.target.value)}})),l.a.createElement(ht.a,{item:!0,xs:6},l.a.createElement(Ct.b,{fullWidth:!0,as:wt.a,label:aa.a.t("whatsappModal.form.importRecentMessages"),type:"datetime-local",name:"importRecentMessages",inputProps:{max:da()().add(0,"minutes").format("YYYY-MM-DDTHH:mm"),min:da()(j).format("YYYY-MM-DDTHH:mm")},InputLabelProps:{shrink:!0},error:t.importRecentMessages&&Boolean(n.importRecentMessages),helperText:t.importRecentMessages&&n.importRecentMessages,variant:"outlined",value:da()(R).format("YYYY-MM-DDTHH:mm"),onChange:e=>{F(e.target.value)}}))):null),k&&l.a.createElement("span",{style:{color:"red"}},aa.a.t("whatsappModal.form.importAlert")),l.a.createElement(Gt.a,{display:"flex",alignItems:"center"},l.a.createElement(ht.a,{xs:6,md:12,item:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.token"),type:"token",fullWidth:!0,value:i,variant:"outlined",margin:"dense",disabled:!0})),l.a.createElement(kt.a,{onClick:_,disabled:s,className:r.tokenRefresh,variant:"text",startIcon:l.a.createElement(Gc.a,{style:{marginLeft:5,color:"green"}})}),l.a.createElement(kt.a,{onClick:$,className:r.tokenRefresh,variant:"text",startIcon:l.a.createElement(Kc.a,{style:{color:P?"blue":"inherit"}})})),l.a.createElement("div",null,l.a.createElement("h3",null,aa.a.t("whatsappModal.form.queueRedirection")),l.a.createElement("p",null,aa.a.t("whatsappModal.form.queueRedirectionDesc")),l.a.createElement(ht.a,{spacing:2,container:!0},l.a.createElement(ht.a,{xs:6,md:6,item:!0},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",className:r.FormControl,fullWidth:!0},l.a.createElement(Nt.a,{id:"sendIdQueue-selection-label"},aa.a.t("whatsappModal.form.sendIdQueue")),l.a.createElement(Ct.b,{as:jt.a,name:"sendIdQueue",id:"sendIdQueue",value:a.sendIdQueue||"0",label:aa.a.t("whatsappModal.form.sendIdQueue"),placeholder:aa.a.t("whatsappModal.form.sendIdQueue"),labelId:"sendIdQueue-selection-label"},l.a.createElement(Q.a,{value:0},"\xa0"),v.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name))))),l.a.createElement(ht.a,{xs:6,md:6,item:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.timeSendQueue"),fullWidth:!0,name:"timeSendQueue",variant:"outlined",margin:"dense",error:t.timeSendQueue&&Boolean(n.timeSendQueue),helperText:t.timeSendQueue&&n.timeSendQueue})))))),l.a.createElement(zt,{className:r.container,value:x,name:"integrations"},l.a.createElement(St.a,{dividers:!0},l.a.createElement(Lt,{selectedQueueIds:h,onChange:e=>(A(e),void G(null))}),l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",className:r.FormControl,fullWidth:!0},l.a.createElement(Nt.a,{id:"integrationId-selection-label"},aa.a.t("queueModal.form.integrationId")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("queueModal.form.integrationId"),name:"integrationId",id:"integrationId",variant:"outlined",margin:"dense",placeholder:aa.a.t("queueModal.form.integrationId"),labelId:"integrationId-selection-label"},l.a.createElement(Q.a,{value:null},"Desabilitado"),L.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name)))),l.a.createElement(Rt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Nt.a,null,aa.a.t("whatsappModal.form.prompt")),l.a.createElement(jt.a,{labelId:"dialog-select-prompt-label",id:"dialog-select-prompt",name:"promptId",value:V||"",onChange:J,label:aa.a.t("whatsappModal.form.prompt"),fullWidth:!0,MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null}},K.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name)))))),l.a.createElement(zt,{className:r.container,value:x,name:"messages"},l.a.createElement(St.a,{dividers:!0},l.a.createElement("div",null,l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.greetingMessage"),type:"greetingMessage",multiline:!0,rows:4,fullWidth:!0,name:"greetingMessage",error:t.greetingMessage&&Boolean(n.greetingMessage),helperText:t.greetingMessage&&n.greetingMessage,variant:"outlined",margin:"dense"})),l.a.createElement("div",null,l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.complationMessage"),multiline:!0,rows:4,fullWidth:!0,name:"complationMessage",error:t.complationMessage&&Boolean(n.complationMessage),helperText:t.complationMessage&&n.complationMessage,variant:"outlined",margin:"dense"})),l.a.createElement("div",null,l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.outOfHoursMessage"),multiline:!0,rows:4,fullWidth:!0,name:"outOfHoursMessage",error:t.outOfHoursMessage&&Boolean(n.outOfHoursMessage),helperText:t.outOfHoursMessage&&n.outOfHoursMessage,variant:"outlined",margin:"dense"})))),l.a.createElement(zt,{className:r.container,value:x,name:"chatbot"},l.a.createElement(St.a,{dividers:!0},l.a.createElement(ht.a,{spacing:2,container:!0},l.a.createElement(ht.a,{xs:6,md:4,item:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.timeCreateNewTicket"),fullWidth:!0,name:"timeCreateNewTicket",variant:"outlined",margin:"dense",error:t.timeCreateNewTicket&&Boolean(n.timeCreateNewTicket),helperText:t.timeCreateNewTicket&&n.timeCreateNewTicket})),l.a.createElement(ht.a,{xs:6,md:4,item:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.maxUseBotQueues"),fullWidth:!0,name:"maxUseBotQueues",variant:"outlined",margin:"dense",error:t.maxUseBotQueues&&Boolean(n.maxUseBotQueues),helperText:t.maxUseBotQueues&&n.maxUseBotQueues})),l.a.createElement(ht.a,{xs:6,md:4,item:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.timeUseBotQueues"),fullWidth:!0,name:"timeUseBotQueues",variant:"outlined",margin:"dense",error:t.timeUseBotQueues&&Boolean(n.timeUseBotQueues),helperText:t.timeUseBotQueues&&n.timeUseBotQueues}))),l.a.createElement(ht.a,{spacing:2,container:!0},l.a.createElement(ht.a,{xs:6,md:6,item:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.expiresTicket"),fullWidth:!0,name:"expiresTicket",variant:"outlined",margin:"dense",error:t.expiresTicket&&Boolean(n.expiresTicket),helperText:t.expiresTicket&&n.expiresTicket})),l.a.createElement(ht.a,{xs:6,md:6,item:!0},l.a.createElement(Rt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:r.formControl},l.a.createElement(Nt.a,{id:"whenExpiresTicket-selection-label"},aa.a.t("whatsappModal.form.whenExpiresTicket")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("whatsappModal.form.whenExpiresTicket"),placeholder:aa.a.t("whatsappModal.form.whenExpiresTicket"),labelId:"whenExpiresTicket-selection-label",id:"whenExpiresTicket",name:"whenExpiresTicket"},l.a.createElement(Q.a,{value:"0"},aa.a.t("whatsappModal.form.closeLastMessageOptions1")),l.a.createElement(Q.a,{value:"1"},aa.a.t("whatsappModal.form.closeLastMessageOptions2")))))),l.a.createElement("div",null,l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.expiresInactiveMessage"),multiline:!0,rows:4,fullWidth:!0,name:"expiresInactiveMessage",error:t.expiresInactiveMessage&&Boolean(n.expiresInactiveMessage),helperText:t.expiresInactiveMessage&&n.expiresInactiveMessage,variant:"outlined",margin:"dense"})),l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.timeInactiveMessage"),fullWidth:!0,name:"timeInactiveMessage",variant:"outlined",margin:"dense",error:t.timeInactiveMessage&&Boolean(n.timeInactiveMessage),helperText:t.timeInactiveMessage&&n.timeInactiveMessage}),l.a.createElement("div",null,l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.inactiveMessage"),multiline:!0,rows:4,fullWidth:!0,name:"inactiveMessage",error:t.inactiveMessage&&Boolean(n.inactiveMessage),helperText:t.inactiveMessage&&n.inactiveMessage,variant:"outlined",margin:"dense"})))),l.a.createElement(zt,{className:r.container,value:x,name:"nps"},l.a.createElement(St.a,{dividers:!0},l.a.createElement("div",null,l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.ratingMessage"),multiline:!0,rows:4,fullWidth:!0,name:"ratingMessage",error:t.ratingMessage&&Boolean(n.ratingMessage),helperText:t.ratingMessage&&n.ratingMessage,variant:"outlined",margin:"dense"})),l.a.createElement("div",null,l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.maxUseBotQueuesNPS"),fullWidth:!0,name:"maxUseBotQueuesNPS",variant:"outlined",margin:"dense",error:t.maxUseBotQueuesNPS&&Boolean(n.maxUseBotQueuesNPS),helperText:t.maxUseBotQueuesNPS&&n.maxUseBotQueuesNPS})),l.a.createElement("div",null,l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("whatsappModal.form.expiresTicketNPS"),fullWidth:!0,name:"expiresTicketNPS",variant:"outlined",margin:"dense",error:t.expiresTicketNPS&&Boolean(n.expiresTicketNPS),helperText:t.expiresTicketNPS&&n.expiresTicketNPS})))),l.a.createElement(zt,{className:r.container,value:x,name:"schedules"},"schedules"===x&&l.a.createElement(Bt.a,{style:{padding:20}},l.a.createElement(Jc,{loading:!1,onSubmit:ee,initialValues:z,labelSaveButton:aa.a.t("whatsappModal.buttons.okAdd")})))),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:ae,color:"secondary",disabled:s,variant:"outlined"},aa.a.t("whatsappModal.buttons.cancel")),l.a.createElement(kt.a,{type:"submit",color:"primary",disabled:s,variant:"contained",className:r.btnWrapper},o?aa.a.t("whatsappModal.buttons.okEdit"):aa.a.t("whatsappModal.buttons.okAdd"),s&&l.a.createElement(It.a,{size:24,className:r.buttonProgress}))))})))});const Pg=Object(I.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",borderRadius:"10px",boxShadow:"rgba(0, 0, 0, 0.1) 0px 4px 12px",...e.scrollbarStyles},customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"},tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",fontSize:e.typography.pxToRem(14),border:"1px solid #dadde9",maxWidth:450},tooltipPopper:{textAlign:"center"},buttonProgress:{color:La.a[500]},TableHead:{backgroundColor:e.palette.barraSuperior,color:"textSecondary",borderRadius:"5px"}})),Dg=e=>{let{title:a,content:t,children:n}=e;const o=Pg();return l.a.createElement(ne.a,{arrow:!0,classes:{tooltip:o.tooltip,popper:o.tooltipPopper},title:l.a.createElement(l.a.Fragment,null,l.a.createElement(z.a,{gutterBottom:!0,color:"inherit"},a),t&&l.a.createElement(z.a,null,t))},n)};var Lg=l.a.memo(e=>{let{open:a,onClose:t,whatsAppId:o,filteredWhatsapps:r,companyInfos:i}=e;const s=Pg(),{user:c,socket:d}=Object(n.useContext)(ua),{list:m}=cd(),[p,g]=Object(n.useState)(!1),{whatsApps:E,loading:b}=Object(n.useContext)(ba),[f,h]=Object(n.useState)(!1),[A,v]=Object(n.useState)([]),[y,x]=Object(n.useState)(!1),[C,k]=Object(n.useState)(null),[w,T]=Object(n.useState)(!1),O={action:"",title:"",message:"",whatsAppId:"",open:!1},[M,I]=Object(n.useState)(O),j=e=>{if("unknown"!==e.status){const{accessToken:a,id:t}=e;u.post("/facebook",{facebookUserId:t,facebookUserToken:a}).then(e=>{S.b.success(aa.a.t("connections.facebook.success"))}).catch(e=>{oa(e)})}},N=e=>{if("unknown"!==e.status){const{accessToken:a,id:t}=e;u.post("/facebook",{addInstagram:!0,facebookUserId:t,facebookUserToken:a}).then(e=>{S.b.success(aa.a.t("connections.facebook.success"))}).catch(e=>{oa(e)})}},R=Object(n.useCallback)(()=>{h(!1),k(null)},[k,h]),F=Object(n.useCallback)(()=>{k(null),x(!1)},[x,k]),P=(e,a)=>{"disconnect"===e&&I({action:e,title:aa.a.t("connections.confirmationModal.disconnectTitle"),message:aa.a.t("connections.confirmationModal.disconnectMessage"),whatsAppId:a}),"delete"===e&&I({action:e,title:aa.a.t("connections.confirmationModal.deleteTitle"),message:aa.a.t("connections.confirmationModal.deleteMessage"),whatsAppId:a}),T(!0)},L=e=>l.a.createElement(l.a.Fragment,null,"qrcode"===e.status&&l.a.createElement(kt.a,{size:"small",variant:"contained",color:"primary",onClick:()=>(e=>{k(e),x(!0)})(e)},aa.a.t("connections.buttons.qrcode")),"DISCONNECTED"===e.status&&l.a.createElement(l.a.Fragment,null,l.a.createElement(kt.a,{size:"small",variant:"outlined",color:"primary",onClick:()=>(async e=>{try{await u.post("/whatsappsession/"+e)}catch(a){oa(a)}})(e.id)},aa.a.t("connections.buttons.tryAgain"))," ",l.a.createElement(kt.a,{size:"small",variant:"outlined",color:"secondary",onClick:()=>(async e=>{try{await u.put("/whatsappsession/"+e)}catch(a){oa(a)}})(e.id)},aa.a.t("connections.buttons.newQr"))),("CONNECTED"===e.status||"PAIRING"===e.status||"TIMEOUT"===e.status)&&l.a.createElement(kt.a,{size:"small",variant:"outlined",color:"secondary",onClick:()=>{P("disconnect",e.id)}},aa.a.t("connections.buttons.disconnect")),"OPENING"===e.status&&l.a.createElement(kt.a,{size:"small",variant:"outlined",disabled:!0,color:"default"},aa.a.t("connections.buttons.connecting")));return l.a.createElement("div",{className:s.root},l.a.createElement(Tt.a,{open:a,onClose:()=>{t()},maxWidth:"lg",fullWidth:!0,scroll:"paper"},l.a.createElement(Bc,null,l.a.createElement(Ir,{title:M.title,open:w,onClose:T,onConfirm:async()=>{if("disconnect"===M.action)try{await u.delete("/whatsappsession/admin/"+M.whatsAppId),S.b.success(aa.a.t("connections.toasts.disconnected"))}catch(e){oa(e)}if("delete"===M.action)try{await u.delete("/whatsapp/"+M.whatsAppId),S.b.success(aa.a.t("connections.toasts.deleted"))}catch(e){oa(e)}I(O)}},M.message),l.a.createElement(nd,{open:y,onClose:F,whatsAppId:!f&&(null===C||void 0===C?void 0:C.id)}),l.a.createElement(Fg,{open:f,onClose:R,whatsAppId:!y&&(null===C||void 0===C?void 0:C.id)}),l.a.createElement(Bt.a,{className:s.mainPaper,style:{overflow:"hidden"},variant:"outlined"},l.a.createElement(qc,null,l.a.createElement(Mn.a,null,l.a.createElement(z.a,{variant:"h5",color:"black",style:{fontWeight:"bold",marginLeft:"10px",marginTop:"10px"},gutterBottom:!0},"Conex\xf5es de: ",null===i||void 0===i?void 0:i.name)),l.a.createElement(Hc,null,l.a.createElement(Tc.a,{variant:"popover",popupId:"demo-popup-menu"},e=>l.a.createElement(l.a.Fragment,null,l.a.createElement(U.a,Object(wc.bindMenu)(e),l.a.createElement(Q.a,{onClick:()=>{k(null),h(!0),e.close()}},l.a.createElement(so.a,{fontSize:"small",style:{marginRight:"10px"}}),"WhatsApp"),l.a.createElement(Dc.a,{appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"http://localhost:8081",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"24"}).REACT_APP_FACEBOOK_APP_ID,autoLoad:!1,fields:"name,email,picture",version:"13.0",scope:"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagementnt,business_management",callback:j,render:e=>l.a.createElement(Q.a,{onClick:e.onClick},l.a.createElement(ro.a,{fontSize:"small",style:{marginRight:"10px"}}),"Facebook")}),l.a.createElement(Dc.a,{appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"http://localhost:8081",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"24"}).REACT_APP_FACEBOOK_APP_ID,autoLoad:!1,fields:"name,email,picture",version:"13.0",scope:"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management",callback:N,render:e=>l.a.createElement(Q.a,{onClick:e.onClick},l.a.createElement(io.a,{fontSize:"small",style:{marginRight:"10px"}}),"Instagram")})))))),l.a.createElement(Mn.a,{style:{overflowY:"auto",padding:"20px",backgroundColor:"rgb(244 244 244 / 53%)",borderRadius:"5px",height:"93%"}},l.a.createElement(Bt.a,null,l.a.createElement(Gn.a,{size:"small"},l.a.createElement(Jn.a,{className:s.TableHead},l.a.createElement(Zn.a,{style:{color:"#fff"}},l.a.createElement(Yn.a,{style:{color:"#fff"},align:"center"},"Channel"),l.a.createElement(Yn.a,{style:{color:"#fff"},align:"center"},aa.a.t("connections.table.name")),l.a.createElement(Yn.a,{style:{color:"#fff"},align:"center"},aa.a.t("connections.table.status")),"admin"===c.profile&&l.a.createElement(Yn.a,{style:{color:"#fff"},align:"center"},aa.a.t("connections.table.session")),l.a.createElement(Yn.a,{style:{color:"#fff"},align:"center"},aa.a.t("connections.table.lastUpdate")),l.a.createElement(Yn.a,{style:{color:"#fff"},align:"center"},aa.a.t("connections.table.default")),"admin"===c.profile&&l.a.createElement(Yn.a,{style:{color:"#fff"},align:"center"},aa.a.t("connections.table.actions")))),l.a.createElement(Kn.a,null,b?l.a.createElement(Vc,null):l.a.createElement(l.a.Fragment,null,(null===r||void 0===r?void 0:r.length)>0&&r.map(e=>l.a.createElement(Zn.a,{key:e.id},l.a.createElement(Yn.a,{align:"center"},(e=>{switch(e){case"facebook":return l.a.createElement(ro.a,null);case"instagram":return l.a.createElement(io.a,null);case"whatsapp":return l.a.createElement(so.a,null);default:return"error"}})(e.channel)),l.a.createElement(Yn.a,{align:"center"},null===e||void 0===e?void 0:e.name),l.a.createElement(Yn.a,{align:"center"},(e=>l.a.createElement("div",{className:s.customTableCell},"DISCONNECTED"===e.status&&l.a.createElement(Dg,{title:aa.a.t("connections.toolTips.disconnected.title"),content:aa.a.t("connections.toolTips.disconnected.content")},l.a.createElement(Sc.a,{color:"secondary"})),"OPENING"===e.status&&l.a.createElement(It.a,{size:24,className:s.buttonProgress}),"qrcode"===e.status&&l.a.createElement(Dg,{title:aa.a.t("connections.toolTips.qrcode.title"),content:aa.a.t("connections.toolTips.qrcode.content")},l.a.createElement(Mc.a,null)),"CONNECTED"===e.status&&l.a.createElement(Dg,{title:aa.a.t("connections.toolTips.connected.title")},l.a.createElement(Ic.a,{style:{color:La.a[500]}})),("TIMEOUT"===e.status||"PAIRING"===e.status)&&l.a.createElement(Dg,{title:aa.a.t("connections.toolTips.timeout.title"),content:aa.a.t("connections.toolTips.timeout.content")},l.a.createElement(jc.a,{color:"secondary"}))))(e)),"admin"===c.profile&&l.a.createElement(Yn.a,{align:"center"},L(e)),l.a.createElement(Yn.a,{align:"center"},Object(Sa.a)(Object(Fa.a)(e.updatedAt),"dd/MM/yy HH:mm")),l.a.createElement(Yn.a,{align:"center"},e.isDefault&&l.a.createElement("div",{className:s.customTableCell},l.a.createElement(Nc.a,{style:{color:La.a[500]}}))),"admin"===c.profile&&l.a.createElement(Yn.a,{align:"center"},l.a.createElement(D.a,{size:"small",onClick:()=>(e=>{k(e),h(!0)})(e)},l.a.createElement(Rc.a,null)),l.a.createElement(D.a,{size:"small",onClick:a=>{P("delete",e.id)}},l.a.createElement(Fc.a,null))))))))))))))});const Bg=Object(I.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",borderRadius:"10px",boxShadow:"rgba(0, 0, 0, 0.1) 0px 4px 12px",...e.scrollbarStyles},customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"},tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",fontSize:e.typography.pxToRem(14),border:"1px solid #dadde9",maxWidth:450},tooltipPopper:{textAlign:"center"},buttonProgress:{color:La.a[500]},TableHead:{backgroundColor:e.palette.barraSuperior,color:"textSecondary",borderRadius:"5px"}}));var Wg=()=>{const e=Bg(),{user:a,socket:t}=Object(n.useContext)(ua),{list:o}=cd(),[r,i]=Object(n.useState)(!0),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)([]),[p,g]=Object(n.useState)(!1),[E,b]=Object(n.useState)([]),[f,h]=Object(n.useState)(!1),[A,v]=Object(n.useState)(null),[y,x]=Object(n.useState)(!1),[C,k]=Object(n.useState)([]),[w,T]=Object(n.useState)(null),M={action:"",title:"",message:"",whatsAppId:"",open:!1},[I,j]=Object(n.useState)(M),N=Object(O.useHistory)();a.super||N.push("/tickets"),Object(n.useEffect)(()=>{i(!0);(async()=>{try{const{data:e}=await u.get("/whatsapp/all/?session=0");m(e),i(!1)}catch(e){i(!1),oa(e)}})()},[]);const R=e=>{if("unknown"!==e.status){const{accessToken:a,id:t}=e;u.post("/facebook",{facebookUserId:t,facebookUserToken:a}).then(e=>{S.b.success(aa.a.t("connections.facebook.success"))}).catch(e=>{oa(e)})}};Object(n.useEffect)(()=>{F()},[]);const F=async()=>{c(!0);try{const e=await o();b(e)}catch(e){S.b.error("N\xe3o foi poss\xedvel carregar a lista de registros")}c(!1)},P=e=>{if("unknown"!==e.status){const{accessToken:a,id:t}=e;u.post("/facebook",{addInstagram:!0,facebookUserId:t,facebookUserToken:a}).then(e=>{S.b.success(aa.a.t("connections.facebook.success"))}).catch(e=>{oa(e)})}},L=(e,a)=>{v(null),g(!0),(null===e||void 0===e?void 0:e.length)>0&&(k(e),T(a))},B=Object(n.useCallback)(()=>{g(!1),v(null),k([]),T(null)},[v,g]),W=Object(n.useCallback)(()=>{v(null),h(!1)},[h,v]);return l.a.createElement(Bc,null,l.a.createElement(Ir,{title:I.title,open:y,onClose:x,onConfirm:async()=>{if("disconnect"===I.action)try{await u.delete("/whatsappsession/admin/"+I.whatsAppId),S.b.success(aa.a.t("connections.toasts.disconnected"))}catch(e){oa(e)}if("delete"===I.action)try{await u.delete("/whatsapp/"+I.whatsAppId),S.b.success(aa.a.t("connections.toasts.deleted"))}catch(e){oa(e)}j(M)}},I.message),l.a.createElement(nd,{open:f,onClose:W,whatsAppId:!p&&(null===A||void 0===A?void 0:A.id)}),l.a.createElement(Lg,{open:p,onClose:B,filteredWhatsapps:C,companyInfos:w,whatsAppId:!f&&(null===A||void 0===A?void 0:A.id)}),"user"===a.profile?l.a.createElement(Tl,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(Bt.a,{className:e.mainPaper,style:{overflow:"hidden"},variant:"outlined"},l.a.createElement(qc,null,l.a.createElement(Mn.a,null,l.a.createElement(z.a,{variant:"h5",color:"black",style:{fontWeight:"bold",marginLeft:"10px",marginTop:"10px"},gutterBottom:!0},aa.a.t("connections.title")),l.a.createElement(z.a,{style:{marginTop:"-10px",marginLeft:"10px"},variant:"caption",color:"textSecondary"},"Conecte seus canais de atendimento para receber mensagens e iniciar conversas com seus clientes.")),l.a.createElement(Hc,null,l.a.createElement(Tc.a,{variant:"popover",popupId:"demo-popup-menu"},e=>l.a.createElement(l.a.Fragment,null,l.a.createElement(U.a,Object(wc.bindMenu)(e),l.a.createElement(Q.a,{onClick:()=>{L(),e.close()}},l.a.createElement(so.a,{fontSize:"small",style:{marginRight:"10px"}}),"WhatsApp"),l.a.createElement(Dc.a,{appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"http://localhost:8081",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"24"}).REACT_APP_FACEBOOK_APP_ID,autoLoad:!1,fields:"name,email,picture",version:"13.0",scope:"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management",callback:R,render:e=>l.a.createElement(Q.a,{onClick:e.onClick},l.a.createElement(ro.a,{fontSize:"small",style:{marginRight:"10px"}}),"Facebook")}),l.a.createElement(Dc.a,{appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"http://localhost:8081",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"24"}).REACT_APP_FACEBOOK_APP_ID,autoLoad:!1,fields:"name,email,picture",version:"13.0",scope:"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management",callback:P,render:e=>l.a.createElement(Q.a,{onClick:e.onClick},l.a.createElement(io.a,{fontSize:"small",style:{marginRight:"10px"}}),"Instagram")})))))),l.a.createElement(Mn.a,{style:{overflowY:"auto",padding:"20px",backgroundColor:"rgb(244 244 244 / 53%)",borderRadius:"5px",height:"93%"}},l.a.createElement(Bt.a,null,l.a.createElement(Gn.a,{size:"small"},l.a.createElement(Jn.a,{className:e.TableHead},l.a.createElement(Zn.a,{style:{color:"#fff"}},l.a.createElement(Yn.a,{style:{color:"#fff"},align:"center"},aa.a.t("Cliente")),l.a.createElement(Yn.a,{style:{color:"#fff"},align:"center"},aa.a.t("Conex\xf5es conectadas")),l.a.createElement(Yn.a,{style:{color:"#fff"},align:"center"},aa.a.t("Conex\xf5es desconectadas")),l.a.createElement(Yn.a,{style:{color:"#fff"},align:"center"},aa.a.t("Total de Conex\xf5es")),"admin"===a.profile&&l.a.createElement(Yn.a,{style:{color:"#fff"},align:"center"},aa.a.t("connections.table.actions")))),l.a.createElement(Kn.a,null,r?l.a.createElement(Vc,null):l.a.createElement(l.a.Fragment,null,console.log(E,d),(null===E||void 0===E?void 0:E.length)>0&&E.map(e=>l.a.createElement(Zn.a,{key:e.id},l.a.createElement(Yn.a,{align:"center"},null===e||void 0===e?void 0:e.name),l.a.createElement(Yn.a,{align:"center"},(null===d||void 0===d?void 0:d.length)&&d.filter(a=>(null===a||void 0===a?void 0:a.companyId)===(null===e||void 0===e?void 0:e.id)&&"CONNECTED"===(null===a||void 0===a?void 0:a.status)).length),l.a.createElement(Yn.a,{align:"center"},(null===d||void 0===d?void 0:d.length)&&d.filter(a=>(null===a||void 0===a?void 0:a.companyId)===(null===e||void 0===e?void 0:e.id)&&"CONNECTED"!==(null===a||void 0===a?void 0:a.status)).length),l.a.createElement(Yn.a,{align:"center"},(null===d||void 0===d?void 0:d.length)&&d.filter(a=>(null===a||void 0===a?void 0:a.companyId)===(null===e||void 0===e?void 0:e.id)).length),"admin"===a.profile&&l.a.createElement(Yn.a,{align:"center"},l.a.createElement(D.a,{size:"small",onClick:()=>L(d.filter(a=>(null===a||void 0===a?void 0:a.companyId)===(null===e||void 0===e?void 0:e.id)),e)},l.a.createElement(Rc.a,null))))),l.a.createElement(Zn.a,{className:e.TableHead},l.a.createElement(Yn.a,{style:{color:"#fff"},align:"center"},aa.a.t("Total")),l.a.createElement(Yn.a,{style:{color:"#fff"},align:"center"},(null===d||void 0===d?void 0:d.length)&&d.filter(e=>"CONNECTED"===(null===e||void 0===e?void 0:e.status)).length),l.a.createElement(Yn.a,{style:{color:"#fff"},align:"center"},(null===d||void 0===d?void 0:d.length)&&d.filter(e=>"CONNECTED"!==(null===e||void 0===e?void 0:e.status)).length),l.a.createElement(Yn.a,{style:{color:"#fff"},align:"center"},(null===d||void 0===d?void 0:d.length)&&d.length),"admin"===a.profile&&l.a.createElement(Yn.a,{style:{color:"#fff"},align:"center"}))))))))))},qg=t(1724);const zg=Object(I.a)(e=>({chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2}}));var Hg=e=>{let{selectedQueueIds:a,onChange:t}=e;const o=zg(),[r,i]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await u.get("/queue");i(e)}catch(e){oa(e)}})()},[]);return l.a.createElement("div",{style:{marginTop:6}},l.a.createElement(Rt.a,{fullWidth:!0,margin:"dense",variant:"outlined"},l.a.createElement(Nt.a,null,aa.a.t("queueSelect.inputLabel")),l.a.createElement(jt.a,{multiple:!0,labelWidth:60,value:a,onChange:e=>{t(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:e=>l.a.createElement("div",{className:o.chips},(null===e||void 0===e?void 0:e.length)>0&&e.map(e=>{if("0"===e)return l.a.createElement(H.a,{key:e,size:"small",label:aa.a.t("queueSelect.withoutQueue"),className:o.chip});const a=r.find(a=>a.id===e);return a?l.a.createElement(H.a,{key:e,style:{backgroundColor:a.color},variant:"outlined",label:a.name,className:o.chip}):null}))},l.a.createElement(Q.a,{value:"0"},aa.a.t("queueSelect.withoutQueue")),r.map(e=>l.a.createElement(Q.a,{key:e.id,value:e.id},e.name)))))},Ug=t(1695),Qg=t(1696),Vg=t(1697);const Gg=Object(I.a)(e=>({mainContainer:{background:e.palette.fancyBackground},formControl:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},mainPaper:{flex:1,marginTop:40,borderRadius:20,border:"0px !important",marginBottom:40,overflow:"hidden"},mainPaperTable:{flex:1,overflow:"auto",height:"68vh",...e.scrollbarStylesSoftBig},mainPaperFilter:{flex:1,overflow:"auto",height:"20vh",...e.scrollbarStylesSoftBig},mainHeaderBlock:{[e.breakpoints.down("md")]:{display:"flex",flexWrap:"wrap"}},filterItem:{width:200,[e.breakpoints.down("md")]:{width:"45%"}}}));var Kg=()=>{const e=Gg(),a=Object(O.useHistory)(),{getReport:t}=ll(),{user:o}=Object(n.useContext)(ua),[r,i]=Object(n.useState)(!1),[s,c]=Object(n.useState)(1),[d,m]=Object(n.useState)(10),[p,g]=Object(n.useState)(""),[E,b]=Object(n.useState)(null),[f,h]=Object(n.useState)([]),[A,v]=Object(n.useState)([]),[y,x]=Object(n.useState)(null),[C,k]=Object(n.useState)([]),[w,T]=Object(n.useState)([]),[S,M]=Object(n.useState)([]),[I,j]=Object(n.useState)(da()("1","D").format("YYYY-MM-DD")),[N,R]=Object(n.useState)(da()().format("YYYY-MM-DD")),[F,P]=Object(n.useState)(!1),[L,B]=Object(n.useState)(0),[W,q]=Object(n.useState)([]),[H,U]=Object(n.useState)(!1),[V,G]=Object(n.useState)(null),[K,Y]=Object(n.useState)(!1);Object(n.useEffect)(()=>{i(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("contacts",{params:{searchParam:p}});M(e.contacts),i(!1)}catch(e){i(!1),oa(e)}})()},500);return()=>clearTimeout(e)},[p]);const X=async e=>{i(!0),console.log(F);try{const a=await t({searchParam:p,contactId:E,whatsappId:JSON.stringify(f),users:JSON.stringify(w),queueIds:JSON.stringify(C),status:JSON.stringify(A),dateFrom:I,dateTo:N,page:e,pageSize:d,onlyRated:F?"true":"false"});B(a.totalTickets.total),Y(a.tickets.length===d),q(a.tickets),c(e)}catch(a){oa(a)}finally{i(!1)}},J=e=>e.number?l.a.createElement(l.a.Fragment,null,(e=>{switch(e){case"facebook":return l.a.createElement(ro.a,{style:{color:"#3b5998",verticalAlign:"middle"}});case"instagram":return l.a.createElement(io.a,{style:{color:"#e1306c",verticalAlign:"middle"}});case"whatsapp":return l.a.createElement(so.a,{style:{color:"#25d366",verticalAlign:"middle"}});default:return"error"}})(e.channel),l.a.createElement(z.a,{component:"span",style:{fontSize:14,marginLeft:"10px",display:"inline-flex",alignItems:"center",lineHeight:"2"}},e.name," - ",e.number)):`${aa.a.t("newTicketModal.add")} ${e.name}`,Z=e=>e.number?`${e.name} - ${e.number}`:""+e.name,_=Object(Jl.a)({trim:!0}),$=(e,a)=>{const t=_(e,a);return""!==a.inputValue&&!r&&p.length>=3&&t.push({name:""+a.inputValue}),t};return l.a.createElement(Bc,{className:e.mainContainer},H&&l.a.createElement(ps,{isOpen:H,handleClose:()=>U(!1),ticketId:V.id}),l.a.createElement(Uc,null,aa.a.t("reports.title")),l.a.createElement(qc,{className:e.mainHeaderFilter,style:{display:"flex"}},l.a.createElement(Bt.a,{className:e.mainPaperFilter},l.a.createElement("div",{style:{paddingTop:"15px"}}),l.a.createElement(ht.a,{container:!0,spacing:1},l.a.createElement(ht.a,{item:!0,xs:12,md:3,xl:3},l.a.createElement(ht.a,{xs:12,item:!0},l.a.createElement(Zl.a,{fullWidth:!0,options:S,loading:r,clearOnBlur:!0,autoHighlight:!0,freeSolo:!0,size:"small",clearOnEscape:!0,getOptionLabel:Z,renderOption:J,filterOptions:$,onChange:(e,a)=>((e,a)=>{b(a.id),g("")})(0,a),renderInput:e=>l.a.createElement(wt.a,Object.assign({},e,{label:aa.a.t("newTicketModal.fieldLabel"),variant:"outlined",autoFocus:!0,size:"small",onChange:e=>g(e.target.value),InputProps:{...e.InputProps,endAdornment:l.a.createElement(l.a.Fragment,null,r?l.a.createElement(It.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)}}))}))),l.a.createElement(ht.a,{item:!0,xs:12,md:3,xl:3},l.a.createElement(nr,{onFiltered:e=>{const a=e.map(e=>e.id);h(a)}})),l.a.createElement(ht.a,{item:!0,xs:12,md:3,xl:3},l.a.createElement(tr,{onFiltered:e=>{const a=e.map(e=>e.status);v(a)}})),l.a.createElement(ht.a,{item:!0,xs:12,md:3,xl:3},l.a.createElement(ar,{onFiltered:e=>{const a=e.map(e=>e.id);T(a)}})),l.a.createElement(ht.a,{item:!0,xs:12,md:3,xl:3,style:{marginTop:"-13px"}},l.a.createElement(Hg,{selectedQueueIds:C,onChange:e=>k(e)})),l.a.createElement(ht.a,{item:!0,xs:12,sm:3,md:3},l.a.createElement(wt.a,{label:"Data Inicial",type:"date",value:I,variant:"outlined",fullWidth:!0,size:"small",onChange:e=>j(e.target.value),InputLabelProps:{shrink:!0}})),l.a.createElement(ht.a,{item:!0,xs:12,sm:3,md:3},l.a.createElement(wt.a,{label:"Data Final",type:"date",value:N,variant:"outlined",fullWidth:!0,size:"small",onChange:e=>R(e.target.value),InputLabelProps:{shrink:!0}})),l.a.createElement(ht.a,{item:!0,xs:12,sm:3,md:3,style:{display:"flex",justifyContent:"center"}},l.a.createElement(Bi.a,{control:l.a.createElement(Nl.a,{color:"primary",checked:F,onChange:()=>P(!F)}),label:aa.a.t("reports.buttons.onlyRated")}),l.a.createElement(D.a,{onClick:async()=>{i(!0);try{const e=(await t({searchParam:p,contactId:E,whatsappId:JSON.stringify(f),users:JSON.stringify(w),queueIds:JSON.stringify(C),status:JSON.stringify(A),dateFrom:I,dateTo:N,page:1,pageSize:9999999,onlyRated:F?"true":"false"})).tickets.map(e=>{const a=new Date(e.createdAt),t=new Date(e.closedAt),n=t.toLocaleDateString(),l=t.toLocaleTimeString(),o=a.toLocaleDateString(),r=a.toLocaleTimeString();return{id:e.id,"Conex\xe3o":e.whatsappName,Contato:e.contactName,"Usu\xe1rio":e.userName,Fila:e.queueName,Status:e.status,"\xdaltimaMensagem":e.lastMessage,DataAbertura:o,HoraAbertura:r,DataFechamento:null===e.closedAt?"":n,HoraFechamento:null===e.closedAt?"":l,TempoDeAtendimento:e.supportTime,nps:e.NPS}});console.log(e);const a=Vn.b.json_to_sheet(e),n=Vn.b.book_new();Vn.b.book_append_sheet(n,a,"RelatorioDeAtendimentos"),Vn.c(n,"relatorio-de-atendimentos.xlsx"),c(s)}catch(e){oa(e)}finally{i(!1)}},"aria-label":"Exportar para Excel"},l.a.createElement(Ug.a,null)),l.a.createElement(kt.a,{variant:"contained",color:"primary",onClick:()=>X(s),size:"small"},aa.a.t("reports.buttons.filter")))))),l.a.createElement(Bt.a,{className:e.mainPaperTable,variant:"outlined"},l.a.createElement(Gn.a,{size:"small",id:"grid-attendants"},l.a.createElement(Jn.a,null,l.a.createElement(Zn.a,null,l.a.createElement(Yn.a,{align:"center"},aa.a.t("reports.table.id")),l.a.createElement(Yn.a,{align:"left"},aa.a.t("reports.table.whatsapp")),l.a.createElement(Yn.a,{align:"left"},aa.a.t("reports.table.contact")),l.a.createElement(Yn.a,{align:"left"},aa.a.t("reports.table.user")),l.a.createElement(Yn.a,{align:"left"},aa.a.t("reports.table.queue")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("reports.table.status")),l.a.createElement(Yn.a,{align:"left"},aa.a.t("reports.table.lastMessage")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("reports.table.dateOpen")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("reports.table.dateClose")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("reports.table.supportTime")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("reports.table.NPS")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("reports.table.actions")))),l.a.createElement(Kn.a,null,l.a.createElement(l.a.Fragment,null,W.map(e=>l.a.createElement(Zn.a,{key:e.id},l.a.createElement(Yn.a,{align:"center"},e.id),l.a.createElement(Yn.a,{align:"left"},null===e||void 0===e?void 0:e.whatsappName),l.a.createElement(Yn.a,{align:"left"},null===e||void 0===e?void 0:e.contactName),l.a.createElement(Yn.a,{align:"left"},null===e||void 0===e?void 0:e.userName),l.a.createElement(Yn.a,{align:"left"},null===e||void 0===e?void 0:e.queueName),l.a.createElement(Yn.a,{align:"center"},null===e||void 0===e?void 0:e.status),l.a.createElement(Yn.a,{align:"left"},null===e||void 0===e?void 0:e.lastMessage),l.a.createElement(Yn.a,{align:"center"},null===e||void 0===e?void 0:e.createdAt),l.a.createElement(Yn.a,{align:"center"},null===e||void 0===e?void 0:e.closedAt),l.a.createElement(Yn.a,{align:"center"},null===e||void 0===e?void 0:e.supportTime),l.a.createElement(Yn.a,{align:"center"},null===e||void 0===e?void 0:e.NPS),l.a.createElement(Yn.a,{align:"center"},l.a.createElement(z.a,{noWrap:!0,component:"span",variant:"body2",color:"textPrimary"},l.a.createElement(ne.a,{title:"Logs do Ticket"},l.a.createElement(Qg.a,{onClick:()=>{U(!0),G(e)},fontSize:"small",style:{color:Ur.a[700],cursor:"pointer",marginLeft:10,verticalAlign:"middle"}})),l.a.createElement(ne.a,{title:"Acessar Ticket"},l.a.createElement(Vg.a,{onClick:()=>{a.push("/tickets/"+e.uuid)},fontSize:"small",style:{color:La.a[700],cursor:"pointer",marginLeft:10,verticalAlign:"middle"}})))))),r&&l.a.createElement(Vc,{avatar:!0,columns:3}))))),l.a.createElement("div",null,l.a.createElement(ht.a,{container:!0},l.a.createElement(ht.a,{item:!0,xs:12,sm:10,md:10},l.a.createElement(qg.a,{count:Math.ceil(L/d),page:s,onChange:(e,a)=>X(a)})),l.a.createElement(ht.a,{item:!0,xs:12,sm:2,md:2},l.a.createElement(Rt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Nt.a,null,aa.a.t("tickets.search.ticketsPerPage")),l.a.createElement(jt.a,{labelId:"dialog-select-prompt-label",id:"dialog-select-prompt",name:"pageSize",value:d,onChange:e=>{m(e.target.value)},label:aa.a.t("tickets.search.ticketsPerPage"),fullWidth:!0,MenuProps:{anchorOrigin:{vertical:"center",horizontal:"left"},transformOrigin:{vertical:"center",horizontal:"left"},getContentAnchorEl:null}},l.a.createElement(Q.a,{value:5},"5"),l.a.createElement(Q.a,{value:10},"10"),l.a.createElement(Q.a,{value:20},"20"),l.a.createElement(Q.a,{value:50},"50")))))))},Yg=t(558),Xg=t(554),Jg=t.n(Xg),Zg=t(1699),_g=t(1700),$g=t(1701),eE=t(63),aE=t(965);const tE=Object(aE.create)(e=>({node:"",connect:"",action:"idle",setNodesStorage:a=>e(e=>({...e,node:a})),setConnectsStorage:a=>e(e=>({...e,connect:a})),setAct:a=>e(e=>({...e,action:a}))}));var nE=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const o=tE();return l.a.createElement("div",{style:{backgroundColor:"#555",padding:"8px",borderRadius:"8px"}},l.a.createElement(eE.a,{type:"target",position:"left",style:{background:"#0000FF"},onConnect:e=>console.log("handle onConnect",e),isConnectable:t}),l.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},l.a.createElement(Zg.a,{onClick:()=>{o.setNodesStorage(n),o.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#ffff"}}),l.a.createElement(_g.a,{onClick:()=>{o.setNodesStorage(n),o.setAct("delete")},sx:{width:"12px",height:"12px",color:"#ffff"}})),l.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},l.a.createElement($g.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px"}}),l.a.createElement("div",{style:{color:"#ededed",fontSize:"16px"}},"Audio")),l.a.createElement("div",{style:{color:"#ededed",fontSize:"12px"}},l.a.createElement("div",{style:{position:"absolute",right:"50px",top:"12px"}},a.record&&a.record?l.a.createElement("div",null,"Gravado na hora"):l.a.createElement("div",null,"Audio enviado")),l.a.createElement("audio",{controls:"controls"},l.a.createElement("source",{src:"http://localhost:8081/public/"+a.url,type:"audio/mp3"}),"seu navegador n\xe3o suporta HTML5")),l.a.createElement(eE.a,{type:"source",position:"right",id:"a",style:{background:"#0000FF"},isConnectable:t}))}),lE=t(1702),oE=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const o=tE();return console.log(12,"ticketNode",a),l.a.createElement("div",{style:{backgroundColor:"#ffffff",padding:"8px",borderRadius:"8px",boxShadow:"rgba(0, 0, 0, 0.05) 0px 3px 5px",border:"1px solid rgba(33, 94, 151, 0.25)"}},l.a.createElement(eE.a,{type:"target",position:"left",style:{background:"#0872b9",width:"18px",height:"18px",top:"20px",left:"-12px",cursor:"pointer"},onConnect:e=>console.log("handle onConnect",e),isConnectable:t},l.a.createElement(lE.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})),l.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},l.a.createElement(Zg.a,{onClick:()=>{o.setNodesStorage(n),o.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#F7953B"}}),l.a.createElement(_g.a,{onClick:()=>{o.setNodesStorage(n),o.setAct("delete")},sx:{width:"12px",height:"12px",color:"#F7953B"}})),l.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},l.a.createElement(Gt.a,{component:"img",sx:{width:16,height:16,marginRight:4,marginTop:4,color:"#3aba38"},src:Jg.a,alt:"icon"}),l.a.createElement("div",{style:{color:"#232323",fontSize:"16px"}},"TypeBot")),l.a.createElement("div",{style:{color:"#232323",fontSize:"12px",width:180}},l.a.createElement("div",{style:{backgroundColor:"#F6EEEE",marginBottom:"3px",borderRadius:"5px"}},l.a.createElement("div",{style:{gap:"5px",padding:"6px"}},l.a.createElement("div",{style:{textAlign:"center"}},"TypeBot")))),l.a.createElement(eE.a,{type:"source",position:"right",id:"a",style:{background:"#0872b9",width:"18px",height:"18px",top:"70%",right:"-11px",cursor:"pointer"},isConnectable:t},l.a.createElement(lE.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))}),rE=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const o=tE();return console.log(12,"ticketNode",a),l.a.createElement("div",{style:{backgroundColor:"#ffffff",padding:"8px",borderRadius:"8px",boxShadow:"rgba(0, 0, 0, 0.05) 0px 3px 5px",border:"1px solid rgba(33, 94, 151, 0.25)"}},l.a.createElement(eE.a,{type:"target",position:"left",style:{background:"#0872b9",width:"18px",height:"18px",top:"20px",left:"-12px",cursor:"pointer"},onConnect:e=>console.log("handle onConnect",e),isConnectable:t},l.a.createElement(lE.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})),l.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},l.a.createElement(Zg.a,{onClick:()=>{o.setNodesStorage(n),o.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#F7953B"}}),l.a.createElement(_g.a,{onClick:()=>{o.setNodesStorage(n),o.setAct("delete")},sx:{width:"12px",height:"12px",color:"#F7953B"}})),l.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},l.a.createElement(Yg.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px",color:"#3aba38"}}),l.a.createElement("div",{style:{color:"#232323",fontSize:"16px"}},"OpenAI")),l.a.createElement("div",{style:{color:"#232323",fontSize:"12px",width:180}},l.a.createElement("div",{style:{backgroundColor:"#F6EEEE",marginBottom:"3px",borderRadius:"5px"}},l.a.createElement("div",{style:{gap:"5px",padding:"6px"}},l.a.createElement("div",{style:{textAlign:"center"}},"OpenAI")))),l.a.createElement(eE.a,{type:"source",position:"right",id:"a",style:{background:"#0872b9",width:"18px",height:"18px",top:"70%",right:"-11px",cursor:"pointer"},isConnectable:t},l.a.createElement(lE.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))}),iE=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const o=tE();return l.a.createElement("div",{style:{backgroundColor:"#555",padding:"8px",borderRadius:"8px"}},l.a.createElement(eE.a,{type:"target",position:"left",style:{background:"#0000FF",width:"18px",height:"18px",top:"20px",left:"-12px",cursor:"pointer"},onConnect:e=>console.log("handle onConnect",e),isConnectable:t},l.a.createElement(lE.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"3.5px",marginBottom:"1px",pointerEvents:"none"}})),l.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},l.a.createElement(Zg.a,{onClick:()=>{o.setNodesStorage(n),o.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#ffff"}}),l.a.createElement(_g.a,{onClick:()=>{o.setNodesStorage(n),o.setAct("delete")},sx:{width:"12px",height:"12px",color:"#ffff"}})),l.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},l.a.createElement(zn.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px"}}),l.a.createElement("div",{style:{color:"#ededed",fontSize:"16px"}},"Mensagem")),l.a.createElement("div",{style:{color:"#ededed",fontSize:"12px",width:180}},a.label),l.a.createElement(eE.a,{type:"source",position:"right",id:"a",style:{background:"#0000FF",width:"18px",height:"18px",top:"70%",right:"-11px",cursor:"pointer"},isConnectable:t},l.a.createElement(lE.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))}),sE=t(1703),cE=Object(n.memo)(e=>{let{data:a,isConnectable:t}=e;return l.a.createElement("div",{style:{backgroundColor:"#F9FDF9",padding:"8px",borderRadius:"8px",boxShadow:"rgba(0, 0, 0, 0.05) 0px 3px 5px",border:"1px solid rgba(58, 186, 56, 0.25)"}},l.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},l.a.createElement(sE.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px",color:"#3aba38"}}),l.a.createElement("div",{style:{color:"#232323",fontSize:"16px"}},"Inicio do fluxo")),l.a.createElement("div",{style:{color:"#727272",fontSize:"12px"}},"Este bloco marca o inicio do seu fluxo!"),l.a.createElement(eE.a,{type:"source",position:"right",id:"a",style:{background:"#0000FF",width:"18px",height:"18px",top:"70%",right:"-11px",cursor:"pointer"},isConnectable:t},l.a.createElement(lE.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))}),dE=t(1704),mE=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const o=tE();return l.a.createElement("div",{style:{backgroundColor:"#FAFBFF",padding:"8px",borderRadius:"8px",maxWidth:"155px",boxShadow:"0px 3px 5px rgba(0,0,0,.05)",border:"1px solid rgba(104, 58, 200, 0.25)",width:180}},l.a.createElement(eE.a,{type:"target",position:"left",style:{background:"#0000FF",width:"18px",height:"18px",top:"20px",left:"-12px",cursor:"pointer"},onConnect:e=>console.log("handle onConnect",e),isConnectable:t},l.a.createElement(lE.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"3.5px",marginBottom:"1px",pointerEvents:"none"}})),l.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},l.a.createElement(Zg.a,{onClick:()=>{o.setNodesStorage(n),o.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#683AC8"}}),l.a.createElement(_g.a,{onClick:()=>{o.setNodesStorage(n),o.setAct("delete")},sx:{width:"12px",height:"12px",color:"#683AC8"}})),l.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},l.a.createElement(dE.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px",color:"#683AC8"}}),l.a.createElement("div",{style:{color:"#232323",fontSize:"16px"}},"Menu")),l.a.createElement("div",null,l.a.createElement("div",{style:{color:"#232323",fontSize:"12px",height:"50px",overflow:"hidden",marginBottom:"8px"}},a.message)),a.arrayOption.map(e=>l.a.createElement("div",{style:{marginBottom:"9px",justifyContent:"end",display:"flex"}},l.a.createElement("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"10px",position:"relative",display:"flex",color:"#232323",justifyContent:"center",flexDirection:"column",alignSelf:"end"}},`[${e.number}] ${e.value}`),l.a.createElement(eE.a,{type:"source",position:"right",id:"a"+e.number,style:{top:74+23*e.number,background:"#0000FF",width:"18px",height:"18px",right:"-11px",cursor:"pointer"},isConnectable:t},l.a.createElement(lE.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))))}),uE=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const o=tE();return l.a.createElement("div",{style:{backgroundColor:"#FFFBFA",padding:"8px",borderRadius:"8px",minWidth:"155px",border:"1px solid rgba(240, 135, 90, 0.25)",boxShadow:"rgba(0, 0, 0, 0.05) 0px 3px 5px"}},l.a.createElement(eE.a,{type:"target",position:"left",style:{background:"#0000FF",width:"18px",height:"18px",top:"20px",left:"-12px",cursor:"pointer"},onConnect:e=>console.log("handle onConnect",e),isConnectable:t},l.a.createElement(lE.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"3.5px",marginBottom:"1px",pointerEvents:"none"}})),l.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},l.a.createElement(Zg.a,{onClick:()=>{o.setNodesStorage(n),o.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#F7953B"}}),l.a.createElement(_g.a,{onClick:()=>{o.setNodesStorage(n),o.setAct("delete")},sx:{width:"12px",height:"12px",color:"#F7953B"}})),l.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},l.a.createElement(Hn.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px",color:"#F7953B"}}),l.a.createElement("div",{style:{color:"#232323",fontSize:"16px"}},"Intervalo")),l.a.createElement("div",{style:{color:"#232323",fontSize:"12px"}},a.sec," segundos"),l.a.createElement(eE.a,{type:"source",position:"right",id:"a",style:{background:"#0000FF",width:"18px",height:"18px",top:"70%",right:"-11px",cursor:"pointer"},isConnectable:t},l.a.createElement(lE.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))}),pE=t(1705),gE=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const o=tE();return l.a.createElement("div",{style:{backgroundColor:"#555",padding:"8px",borderRadius:"8px"}},l.a.createElement(eE.a,{type:"target",position:"left",style:{background:"#0000FF"},onConnect:e=>console.log("handle onConnect",e),isConnectable:t}),l.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},l.a.createElement(Zg.a,{onClick:()=>{o.setNodesStorage(n),o.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#ffff"}}),l.a.createElement(_g.a,{onClick:()=>{o.setNodesStorage(n),o.setAct("delete")},sx:{width:"12px",height:"12px",color:"#ffff"}})),l.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},l.a.createElement(pE.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px"}}),l.a.createElement("div",{style:{color:"#ededed",fontSize:"16px"}},"Imagem")),l.a.createElement("div",{style:{color:"#ededed",fontSize:"12px",width:180}},l.a.createElement("img",{src:"http://localhost:8081/public/"+a.url,style:{width:"180px"}})),l.a.createElement(eE.a,{type:"source",position:"right",id:"a",style:{background:"#0000FF"},isConnectable:t}))}),EE=t(1706),bE=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const o=tE();return l.a.createElement("div",{style:{backgroundColor:"#F8FCFD",padding:"8px",borderRadius:"8px",width:"185px",border:"1px solid rgba(31, 186, 220, 0.25)"}},l.a.createElement(eE.a,{type:"target",position:"left",style:{background:"#0000FF",width:"18px",height:"18px",top:"20px",left:"-12px",cursor:"pointer"},onConnect:e=>console.log("handle onConnect",e),isConnectable:t},l.a.createElement(lE.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"3.5px",marginBottom:"1px",pointerEvents:"none"}})),l.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},l.a.createElement(Zg.a,{onClick:()=>{o.setNodesStorage(n),o.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#1FBADC"}}),l.a.createElement(_g.a,{onClick:()=>{o.setNodesStorage(n),o.setAct("delete")},sx:{width:"12px",height:"12px",color:"#1FBADC"}})),l.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},l.a.createElement(EE.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px",color:"#1FBADC"}}),l.a.createElement("div",{style:{color:"#232323",fontSize:"16px"}},"Randomizador")),l.a.createElement("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"16px",justifyContent:"end",position:"relative",display:"flex",color:"#232323"}},a.percent+"%"),l.a.createElement(eE.a,{type:"source",position:"right",id:"a",style:{background:"#0000FF",width:"18px",height:"18px",right:"-11px",marginTop:"-5px",cursor:"pointer"},isConnectable:t},l.a.createElement(lE.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})),l.a.createElement("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"16px",justifyContent:"end",position:"relative",display:"flex",marginTop:"8px",color:"#232323"}},100-a.percent+"%"),l.a.createElement(eE.a,{type:"source",position:"right",id:"b",style:{background:"#0000FF",width:"18px",height:"18px",right:"-11px",top:73,cursor:"pointer"},isConnectable:t},l.a.createElement(lE.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))}),fE=t(1707),hE=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const o=tE();return l.a.createElement("div",{style:{backgroundColor:"#555",padding:"8px",borderRadius:"8px"}},l.a.createElement(eE.a,{type:"target",position:"left",style:{background:"#0000FF"},onConnect:e=>console.log("handle onConnect",e),isConnectable:t}),l.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},l.a.createElement(Zg.a,{onClick:()=>{o.setNodesStorage(n),o.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#ffff"}}),l.a.createElement(_g.a,{onClick:()=>{o.setNodesStorage(n),o.setAct("delete")},sx:{width:"12px",height:"12px",color:"#ffff"}})),l.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},l.a.createElement(fE.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px"}}),l.a.createElement("div",{style:{color:"#ededed",fontSize:"16px"}},"Video")),l.a.createElement("div",{style:{color:"#ededed",fontSize:"12px",width:180}},l.a.createElement("video",{controls:"controls",width:"180px"},l.a.createElement("source",{src:"http://localhost:8081/public/"+a.url,type:"video/mp4"}),"seu navegador n\xe3o suporta HTML5")),l.a.createElement(eE.a,{type:"source",position:"right",id:"a",style:{background:"#0000FF"},isConnectable:t}))}),AE=t(429),vE=t.n(AE),yE=Object(n.memo)(e=>{var a;let{data:t,isConnectable:n,id:o}=e;const r=tE();return l.a.createElement("div",{style:{backgroundColor:"#FEFAFA",padding:"8px",borderRadius:"8px",border:"1px solid rgba(236, 88, 88, 0.25)",boxShadow:"rgba(0, 0, 0, 0.05) 0px 3px 5px"}},l.a.createElement(eE.a,{type:"target",position:"left",style:{background:"#0000FF",width:"18px",height:"18px",top:"20px",left:"-12px",cursor:"pointer"},onConnect:e=>console.log("handle onConnect",e),isConnectable:n},l.a.createElement(lE.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"3.5px",marginBottom:"1px",pointerEvents:"none"}})),l.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},l.a.createElement(Zg.a,{onClick:()=>{r.setNodesStorage(o),r.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#EC5858"}}),l.a.createElement(_g.a,{onClick:()=>{r.setNodesStorage(o),r.setAct("delete")},sx:{width:"12px",height:"12px",color:"#EC5858"}})),l.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},l.a.createElement(vE.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px",color:"#EC5858"}}),l.a.createElement("div",{style:{color:"#232323",fontSize:"16px"}},"Pergunta")),l.a.createElement("div",{style:{color:"#232323",fontSize:"12px",width:180}},l.a.createElement("div",{style:{gap:"5px",padding:"6px"}},l.a.createElement("div",{style:{display:"flex",position:"relative",flexDirection:"row",justifyContent:"center"}},l.a.createElement(vE.a,{sx:{color:"#EC5858"}})),l.a.createElement(In.a,{textAlign:"center",sx:{textOverflow:"ellipsis",fontSize:"10px",whiteSpace:"nowrap",overflow:"hidden"}},null===t||void 0===t||null===(a=t.typebotIntegration)||void 0===a?void 0:a.message))),l.a.createElement(eE.a,{type:"source",position:"right",id:"a",style:{background:"#0000FF",width:"18px",height:"18px",top:"90%",right:"-11px",cursor:"pointer"},isConnectable:n},l.a.createElement(lE.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))}),xE=t(1744),CE=t(1745),kE=t(1767),wE=(t(1390),t(10)),TE=t(313),OE=t(867),SE=t(868);const ME=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));xt.c().shape({name:xt.e().min(2,"Muito curto!").max(50,"Muito longo!").required("Digite um nome!"),text:xt.e().min(2,"Muito curto!").max(50,"Muito longo!").required("Digite uma mensagem!")});var IE=e=>{let{open:a,onSave:t,onUpdate:o,data:r,close:i}=e;const s=ME(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)({title:"Adicionar mensagem ao fluxo",btn:"Adicionar"}),[g,E]=Object(n.useState)();Object(n.useEffect)(()=>{"edit"===a?(p({title:"Editar mensagem ao fluxo",btn:"Salvar"}),E(r.data.label),m(!0)):"create"===a?(p({title:"Adicionar mensagem ao fluxo",btn:"Adicionar"}),E(""),m(!0)):m(!1)},[a]),Object(n.useEffect)(()=>()=>{c.current=!1},[]);const b=()=>{i(null),m(!1)};return l.a.createElement("div",{className:s.root},l.a.createElement(Tt.a,{open:d,onClose:b,fullWidth:"md",scroll:"paper"},l.a.createElement(Mt.a,{id:"form-dialog-title"},u.title),l.a.createElement(Mn.a,null,l.a.createElement(St.a,{dividers:!0},l.a.createElement(wt.a,{label:"Mensagem",multiline:!0,rows:7,name:"text",variant:"outlined",value:g,margin:"dense",onChange:e=>E(e.target.value),className:s.textField,style:{width:"95%"}})),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:b,color:"secondary",variant:"outlined"},aa.a.t("contactModal.buttons.cancel")),l.a.createElement(kt.a,{type:"submit",color:"primary",variant:"contained",className:s.btnWrapper,onClick:()=>(async()=>{if("edit"===a)return b(),void o({...r,data:{label:g}});"create"===a&&(b(),t({text:g}))})()},""+u.btn)))))};const jE=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var NE=e=>{let{open:a,onSave:t,data:o,onUpdate:r,close:i}=e;const s=jE(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(0),[u,p]=Object(n.useState)(!1);Object(n.useEffect)(()=>("edit"===a?(m(o.data.sec),p(!0)):"create"===a&&(m(0),p(!0)),()=>{c.current=!1}),[a]);const g=()=>{i(null),p(!1)};return l.a.createElement("div",{className:s.root},l.a.createElement(Tt.a,{open:u,onClose:g,fullWidth:"md",scroll:"paper"},l.a.createElement(Mt.a,{id:"form-dialog-title"},"create"===a?"Adicionar um intervalo ao fluxo":"Editar intervalo"),l.a.createElement(Mn.a,null,l.a.createElement(St.a,{dividers:!0},l.a.createElement(wt.a,{label:"Tempo em segundos",name:"timer",type:"number",value:d,onChange:e=>m(e.target.value),autoFocus:!0,variant:"outlined",InputProps:{inputProps:{min:0}},margin:"dense",className:s.textField,style:{width:"95%"}})),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:g,color:"secondary",variant:"outlined"},aa.a.t("contactModal.buttons.cancel")),l.a.createElement(kt.a,{type:"submit",color:"primary",variant:"contained",className:s.btnWrapper,onClick:()=>(async e=>!d||parseInt(d)<=0?S.b.error("Adicione o valor de intervalo"):parseInt(d)>120?S.b.error("M\xe1ximo de tempo atingido 120 segundos"):("edit"===a?r({...o,data:{sec:d}}):"create"===a&&t({sec:d}),void g()))()},"create"===a?"Adicionar":"Editar")))))},RE=(t(1765),t(1737),t(1720),t(1738));Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})),xt.c().shape({name:xt.e().min(2,"Muito curto!").max(50,"Muito longo!").required("Digite um nome!"),text:xt.e().min(2,"Muito curto!").max(50,"Muito longo!").required("Digite uma mensagem!")});var FE=t(1708);const PE=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));xt.c().shape({name:xt.e().min(2,"Muito curto!").max(50,"Muito longo!").required("Digite um nome!"),text:xt.e().min(2,"Muito curto!").max(50,"Muito longo!").required("Digite uma mensagem!")});var DE=e=>{let{open:a,onSave:t,onUpdate:o,data:r,close:i}=e;const s=PE(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)(),[g,E]=Object(n.useState)(),[b,f]=Object(n.useState)([]),[h,A]=Object(n.useState)({title:"Adicionar menu ao fluxo",btn:"Adicionar"});Object(n.useEffect)(()=>{"edit"===a?(A({title:"Editar menu",btn:"Salvar"}),E(r.data.message),f(r.data.arrayOption),m(!0)):"create"===a?(A({title:"Adicionar menu ao fluxo",btn:"Adicionar"}),E(),f([]),m(!0)):m(!1)},[a]),Object(n.useEffect)(()=>()=>{c.current=!1},[]);const v=()=>{i(null),m(!1)};return l.a.createElement("div",{className:s.root},l.a.createElement(Tt.a,{open:d,onClose:v,fullWidth:"md",scroll:"paper"},l.a.createElement(Mt.a,{id:"form-dialog-title"},h.title),l.a.createElement(Mn.a,null,l.a.createElement(Mn.a,{dividers:!0,style:{gap:"8px",padding:"16px"}},l.a.createElement(wt.a,{label:"Mensagem de explica\xe7\xe3o do menu",rows:4,name:"text",multiline:!0,variant:"outlined",value:g,onChange:e=>E(e.target.value),className:s.textField,style:{width:"100%"}}),l.a.createElement(Mn.a,{direction:"row",justifyContent:"space-between"},l.a.createElement(z.a,null,"Adicionar Op\xe7\xe3o"),l.a.createElement(kt.a,{onClick:()=>f(e=>[...e,{number:e.length+1,value:""}]),color:"primary",variant:"contained"},l.a.createElement(FE.a,null))),b.map((e,a)=>l.a.createElement(Mn.a,{width:"100%",key:e.number},l.a.createElement(z.a,null,"Digite ",e.number),l.a.createElement(Mn.a,{direction:"row",width:"100%",style:{gap:"8px"}},l.a.createElement(wt.a,{placeholder:"Digite op\xe7\xe3o",variant:"outlined",defaultValue:e.value,style:{width:"100%"},onChange:e=>f(t=>{let n=t;return n[a].value=e.target.value,n})}),b.length===e.number&&l.a.createElement(D.a,{onClick:()=>{return a=e.number,void f(e=>e.filter(e=>e.number!==a));var a}},l.a.createElement(_g.a,null)))))),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:v,color:"secondary",variant:"outlined"},aa.a.t("contactModal.buttons.cancel")),l.a.createElement(kt.a,{type:"submit",color:"primary",variant:"contained",className:s.btnWrapper,onClick:()=>(async()=>{if("edit"===a)return v(),void o({...r,data:{message:g,arrayOption:b}});"create"===a&&(v(),t({message:g,arrayOption:b}))})()},""+h.btn)))))},LE=t(1709),BE=t(1712),WE=t(1713);t(1391);var qE=t(256),zE=t.n(qE);const HE=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var UE=e=>{let{open:a,onSave:t,onUpdate:o,data:r,close:i}=e;const s=HE(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(!1),[p,g]=Object(n.useState)(!1),[E,b]=Object(n.useState)(),[f,h]=Object(n.useState)(),[A,v]=Object(n.useState)({title:"Adicionar imagem ao fluxo",btn:"Adicionar"}),[y,x]=Object(n.useState)([]);Object(n.useEffect)(()=>{"edit"===a?(v({title:"Editar imagem",btn:"Salvar"}),h(r.data.url),b("http://localhost:8081/public/"+r.data.url),m(!0)):"create"===a?(v({title:"Adicionar imagem ao fluxo",btn:"Adicionar"}),m(!0)):m(!1)},[a]),Object(n.useEffect)(()=>()=>{c.current=!1},[]);const C=()=>{i(null),m(!1)};return l.a.createElement("div",{className:s.root},l.a.createElement(Tt.a,{open:d,onClose:C,fullWidth:"md",scroll:"paper"},l.a.createElement(Mt.a,{id:"form-dialog-title"},A.title),l.a.createElement(Mn.a,null,l.a.createElement(St.a,{dividers:!0},l.a.createElement(Mn.a,{gap:"16px"},E&&l.a.createElement("img",{src:E,style:{width:"552px"}}),!p&&"edit"!==a&&l.a.createElement(kt.a,{variant:"contained",component:"label"},"Enviar imagem",l.a.createElement("input",{type:"file",accept:"image/png, image/jpg, image/jpeg",disabled:p,hidden:!0,onChange:e=>{if(!e.target.files)return;if(e.target.files[0].size>2e6)return void S.b.error("Arquivo \xe9 muito grande! 2MB m\xe1ximo");const a=Array.from(e.target.files);b(URL.createObjectURL(e.target.files[0])),x(a)}})),p&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Mn.a,{justifyContent:"center",alignSelf:"center"},l.a.createElement(It.a,null))))),l.a.createElement(Ot.a,null,!p&&l.a.createElement(l.a.Fragment,null,l.a.createElement(kt.a,{onClick:()=>{C(),x([]),b()},color:"secondary",variant:"outlined"},aa.a.t("contactModal.buttons.cancel")),"edit"!==a&&l.a.createElement(kt.a,{type:"submit",disabled:p,color:"primary",variant:"contained",className:s.btnWrapper,onClick:()=>(async()=>{if("edit"===a)return C(),void o({...r,data:{url:""}});if("create"===a){g(!0);const e=new FormData;e.append("fromMe",!0),y.forEach(async(a,t)=>{const n=a;n&&("image"==(null===a||void 0===a?void 0:a.type.split("/")[0])?new zE.a(n,{quality:.7,async success(a){e.append("medias",a),e.append("body",a.name)},error(e){alert("erro"),console.log(e.message)}}):(e.append("medias",a),e.append("body",a.name)))}),setTimeout(async()=>{console.log(e),await u.post("/flowbuilder/img",e).then(e=>{C(),t({url:e.data.name}),S.b.success("Imagem adicionada com sucesso!"),g(!1),x([]),b()})},1e3)}})()},""+A.btn))))))};const QE=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var VE=e=>{let{open:a,onSave:t,data:o,onUpdate:r,close:i}=e;const s=QE(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(!1),[p,g]=Object(n.useState)([]),[E,b]=Object(n.useState)();Object(n.useEffect)(()=>("edit"===a?(async()=>{try{const{data:e}=await u.get("/queue");g(e);const a=e.find(e=>e.id===o.data.id);console.log("queue",a),a&&b(a.id),m(!0)}catch(e){console.log(e)}})():"create"===a&&(async()=>{try{const{data:e}=await u.get("/queue");g(e),m(!0)}catch(e){console.log(e)}})(),()=>{c.current=!1}),[a]);const f=()=>{i(null),m(!1)};return l.a.createElement("div",{className:s.root},l.a.createElement(Tt.a,{open:d,onClose:f,fullWidth:"md",scroll:"paper"},l.a.createElement(Mt.a,{id:"form-dialog-title"},"create"===a?"Adicionar uma fila ao fluxo":"Editar fila"),l.a.createElement(Mn.a,null,l.a.createElement(St.a,{dividers:!0},l.a.createElement(jt.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:E,style:{width:"95%"},onChange:e=>{b(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:()=>{if(""===E)return"Selecione uma Conex\xe3o";return p.find(e=>e.id===E).name}},p.length>0&&p.map((e,a)=>l.a.createElement(Q.a,{dense:!0,key:a,value:e.id},e.name)))),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:f,color:"secondary",variant:"outlined"},aa.a.t("contactModal.buttons.cancel")),l.a.createElement(kt.a,{type:"submit",color:"primary",variant:"contained",className:s.btnWrapper,onClick:()=>{if(!E)return S.b.error("Adicione uma fila");if("edit"===a){const e=p.find(e=>e.id===E);r({...o,data:e})}else if("create"===a){const e=p.find(e=>e.id===E);t({data:e})}f()}},"create"===a?"Adicionar":"Editar")))))};const GE=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var KE=e=>{let{open:a,onSave:t,onUpdate:o,data:r,close:i}=e;const s=GE(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(!1),[p,g]=Object(n.useState)(!1),[E,b]=Object(n.useState)(!1),[f,h]=Object(n.useState)(),[A,v]=Object(n.useState)({title:"Adicionar audio ao fluxo",btn:"Adicionar"}),[y,x]=Object(n.useState)(),[C,k]=Object(n.useState)([]);Object(n.useEffect)(()=>{"edit"===a?(v({title:"Editar audio",btn:"Salvar"}),h("http://localhost:8081/public/"+r.data.url),b(r.data.record),m(!0)):"create"===a?(v({title:"Adicionar audio ao fluxo",btn:"Adicionar"}),x(""),m(!0)):m(!1)},[a]),Object(n.useEffect)(()=>()=>{c.current=!1},[]);const w=()=>{i(null),m(!1)};return l.a.createElement("div",{className:s.root},l.a.createElement(Tt.a,{open:d,onClose:w,fullWidth:"md",scroll:"paper"},l.a.createElement(Mt.a,{id:"form-dialog-title"},A.title),l.a.createElement(Mn.a,null,l.a.createElement(St.a,{dividers:!0},l.a.createElement(Mn.a,{gap:"16px"},f&&l.a.createElement(Mn.a,{direction:"row",justifyContent:"center"},l.a.createElement("audio",{controls:"controls"},l.a.createElement("source",{src:f,type:"audio/mp3"}),"seu navegador n\xe3o suporta HTML5")),f&&l.a.createElement(Mn.a,{direction:"row",justifyContent:"center"},l.a.createElement(zs.a,{checked:E,onChange:e=>b(e=>!e)}),l.a.createElement(Mn.a,{justifyContent:"center"},l.a.createElement(z.a,null,"Enviar como audio gravado na hora"))),!p&&"edit"!==a&&l.a.createElement(kt.a,{variant:"contained",component:"label"},"Enviar audio",l.a.createElement("input",{type:"file",accept:"audio/ogg, audio/mp3",disabled:p,hidden:!0,onChange:e=>{if(!e.target.files)return;if(e.target.files[0].size>5e6)return void S.b.error("Arquivo \xe9 muito grande! 5MB m\xe1ximo");const a=Array.from(e.target.files);h(URL.createObjectURL(e.target.files[0])),k(a)}})),p&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Mn.a,{justifyContent:"center",alignSelf:"center"},l.a.createElement(It.a,null))))),l.a.createElement(Ot.a,null,!p&&l.a.createElement(l.a.Fragment,null,l.a.createElement(kt.a,{onClick:()=>{w(),k([]),h()},color:"secondary",variant:"outlined"},aa.a.t("contactModal.buttons.cancel")),l.a.createElement(kt.a,{type:"submit",disabled:p,color:"primary",variant:"contained",className:s.btnWrapper,onClick:()=>(async()=>{if("edit"===a)return w(),void o({...r,data:{url:r.data.url,record:E}});if("create"===a){g(!0);const e=new FormData;e.append("fromMe",!0),C.forEach(async(a,t)=>{const n=a;n&&("image"==(null===a||void 0===a?void 0:a.type.split("/")[0])?new zE.a(n,{quality:.7,async success(a){e.append("medias",a),e.append("body",a.name)},error(e){alert("erro"),console.log(e.message)}}):(e.append("medias",a),e.append("body",a.name)))}),setTimeout(async()=>{console.log(e),await u.post("/flowbuilder/audio",e).then(e=>{w(),t({url:e.data.name,record:E}),S.b.success("Audio adicionada com sucesso!"),g(!1),k([]),h()})},1e3)}})()},""+A.btn))))))},YE=t(1726);const XE=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var JE=e=>{let{open:a,onSave:t,data:o,onUpdate:r,close:i}=e;const s=XE(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(0),[u,p]=Object(n.useState)(!1);Object(n.useEffect)(()=>("edit"===a?(m(o.data.percent),p(!0)):"create"===a&&(m(0),p(!0)),()=>{c.current=!1}),[a]);const g=()=>{i(null),p(!1)};return l.a.createElement("div",{className:s.root},l.a.createElement(Tt.a,{open:u,onClose:g,fullWidth:"md",scroll:"paper"},l.a.createElement(Mt.a,{id:"form-dialog-title"},"create"===a?"Adicionar um randomizador ao fluxo":"Editar randomizador"),l.a.createElement(Mn.a,null,l.a.createElement(St.a,{dividers:!0},l.a.createElement(Mn.a,{direction:"row",minHeight:120,alignItems:"center",gap:4},l.a.createElement(z.a,null,d,"%"),l.a.createElement(YE.a,{"aria-label":"Temperature",defaultValue:d,valueLabelDisplay:"auto",onChange:(e,a)=>{m(a)},step:10,marks:!0,min:0,max:100}),l.a.createElement(z.a,null,100-d,"%"))),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:g,color:"secondary",variant:"outlined"},aa.a.t("contactModal.buttons.cancel")),l.a.createElement(kt.a,{type:"submit",color:"primary",variant:"contained",className:s.btnWrapper,onClick:()=>(async e=>!d||parseInt(d)<=0?S.b.error("Adicione o valor de intervalo"):parseInt(d)>120?S.b.error("M\xe1ximo de tempo atingido 120 segundos"):("edit"===a?r({...o,data:{percent:d}}):"create"===a&&t({percent:d}),void g()))()},"create"===a?"Adicionar":"Editar")))))};const ZE=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var _E=e=>{let{open:a,onSave:t,onUpdate:o,data:r,close:i}=e;const s=ZE(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(!1),[p,g]=Object(n.useState)(!1),[E,b]=Object(n.useState)(!1),[f,h]=Object(n.useState)(),[A,v]=Object(n.useState)({title:"Adicionar video ao fluxo",btn:"Adicionar"}),[y,x]=Object(n.useState)([]);Object(n.useEffect)(()=>{"edit"===a?(v({title:"Editar video",btn:"Salvar"}),h("http://localhost:8081/public/"+r.data.url),b(r.data.record),m(!0)):"create"===a?(v({title:"Adicionar video ao fluxo",btn:"Adicionar"}),m(!0)):m(!1)},[a]),Object(n.useEffect)(()=>()=>{c.current=!1},[]);const C=()=>{i(null),m(!1)};return l.a.createElement("div",{className:s.root},l.a.createElement(Tt.a,{open:d,onClose:C,fullWidth:"md",scroll:"paper"},l.a.createElement(Mt.a,{id:"form-dialog-title"},A.title),l.a.createElement(Mn.a,null,l.a.createElement(St.a,{dividers:!0},l.a.createElement(Mn.a,{gap:"16px"},f&&l.a.createElement(Mn.a,{direction:"row",justifyContent:"center"},l.a.createElement("video",{controls:"controls",width:"552px"},l.a.createElement("source",{src:f,type:"video/mp4"}),"seu navegador n\xe3o suporta HTML5")),!p&&"edit"!==a&&!f&&l.a.createElement(l.a.Fragment,null,l.a.createElement(kt.a,{variant:"contained",component:"label"},"Enviar video",l.a.createElement("input",{type:"file",accept:"video/mp4",disabled:p,hidden:!0,onChange:e=>{if(!e.target.files)return;if(e.target.files[0].size>2e7)return void S.b.error("Arquivo \xe9 muito grande! 20MB m\xe1ximo");const a=Array.from(e.target.files);h(URL.createObjectURL(e.target.files[0])),x(a)}})),l.a.createElement(z.a,null,"ATEN\xc7\xc3O! Apenas videos em MP4!")),p&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Mn.a,{justifyContent:"center",alignSelf:"center"},l.a.createElement(It.a,null))))),l.a.createElement(Ot.a,null,!p&&l.a.createElement(l.a.Fragment,null,l.a.createElement(kt.a,{onClick:()=>{C(),x([]),h()},color:"secondary",variant:"outlined"},aa.a.t("contactModal.buttons.cancel")),l.a.createElement(kt.a,{type:"submit",disabled:p,color:"primary",variant:"contained",className:s.btnWrapper,onClick:()=>(async()=>{if("edit"===a)return C(),void o({...r,data:{url:r.data.url,record:E}});if("create"===a){g(!0);const e=new FormData;e.append("fromMe",!0),y.forEach(async(a,t)=>{const n=a;n&&("image"==(null===a||void 0===a?void 0:a.type.split("/")[0])?new zE.a(n,{quality:.7,async success(a){e.append("medias",a),e.append("body",a.name)},error(e){alert("erro"),console.log(e.message)}}):(e.append("medias",a),e.append("body",a.name)))}),setTimeout(async()=>{await u.post("/flowbuilder/audio",e).then(e=>{C(),t({url:e.data.name}),S.b.success("Audio adicionada com sucesso!"),g(!1),x([]),h()})},1e3)}})()},""+A.btn))))))};function $E(e){return 0===e.length?e:e.charAt(0).toUpperCase()+e.slice(1)}const eb=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var ab=e=>{let{open:a,onSave:t,onUpdate:o,data:r,close:i}=e;eb();const s=Object(n.useRef)(!0),[c,d]=Object(n.useState)(!1),[m,p]=Object(n.useState)(),[g,E]=Object(n.useState)([]),[b,f]=Object(n.useState)(),[h,A]=Object(n.useState)([]),[v,y]=Object(n.useState)([]),[x,C]=Object(n.useState)([]),[k,w]=Object(n.useState)([]),[T,O]=Object(n.useState)(0),[M,I]=Object(n.useState)(0),[j,N]=Object(n.useState)(0),[R,F]=Object(n.useState)(0),[P,D]=Object(n.useState)(0),[L,W]=Object(n.useState)(0),[q,z]=Object(n.useState)(0),[H,U]=Object(n.useState)(0),[Q,V]=Object(n.useState)(0),[G,K]=Object(n.useState)(0),[Y,X]=Object(n.useState)(!1),[J,Z]=Object(n.useState)([]),[_,$]=Object(n.useState)([]),[ee,ae]=Object(n.useState)([]),[te,ne]=Object(n.useState)([]),[le,oe]=Object(n.useState)([]),[re,ie]=Object(n.useState)({title:"Adicionar conte\xfado ao fluxo",btn:"Adicionar"}),se=e=>{let a=[];const t=v.filter(e=>e.includes("message")),n=v.filter(e=>e.includes("interval")),l=v.filter(e=>e.includes("img")),o=v.filter(e=>e.includes("audio")),r=v.filter(e=>e.includes("video"));for(let i=0;i<T;i++){const e=document.querySelector("."+t[i]).querySelector(".MuiInputBase-input").value;if(!e)throw S.b.error("Campos de mensagem vazio!"),X(!1),"";a.push({type:"message",value:e,number:t[i]}),console.log("text")}for(let i=0;i<j;i++){const e=document.querySelector("."+n[i]).querySelector(".MuiInputBase-input").value;if(0===parseInt(e)||parseInt(e)>120)throw S.b.error("Intervalo n\xe3o pode ser 0 ou maior que 120!"),X(!1),"";a.push({type:"interval",value:e,number:n[i]}),console.log("int")}for(let i=0;i<Q;i++){const t=null!==e&&e.filter(e=>e.includes("png")||e.includes("jpg")||e.includes("jpeg")),n=g.filter(e=>e.name.includes("png")||e.name.includes("jpg")||e.name.includes("jpeg"));if(x.includes(l[i])){const e=k.filter(e=>e.number===l[i])[0];a.push({type:"img",value:e.value,original:e.original,number:e.number})}else{let e=0;e=x.filter(e=>e.includes("img")).length>0?x.filter(e=>e.includes("img")).length-i:i,a.push({type:"img",value:t[e],original:n[e].name,number:l[i]})}}for(let i=0;i<P;i++){const t=null!==e&&e.filter(e=>e.includes("mp3")||e.includes("ogg")||e.includes("mpeg")||e.includes("opus")),n=g.filter(e=>e.name.includes("mp3")||e.name.includes("ogg")||e.name.includes("mpeg")||e.name.includes("opus"));if(x.includes(o[i])){const e=k.filter(e=>e.number===o[i])[0];a.push({type:"audio",value:e.value,original:e.original,number:e.number,record:document.querySelector(".check"+o[i]).querySelector(".PrivateSwitchBase-input").checked})}else{let e=0;e=x.filter(e=>e.includes("audio")).length>0?x.filter(e=>e.includes("audio")).length-i:i,a.push({type:"audio",value:t[e],original:n[e].name,number:o[i],record:document.querySelector(".check"+o[i]).querySelector(".PrivateSwitchBase-input").checked})}}for(let i=0;i<q;i++){const t=null!==e&&e.filter(e=>e.includes("mp4")||e.includes("avi")),n=g.filter(e=>e.name.includes("mp4")||e.name.includes("avi"));if(x.includes(r[i])){const e=k.filter(e=>e.number===r[i])[0];a.push({type:"video",value:e.value,original:e.original,number:e.number})}else{let e=0;e=x.filter(e=>e.includes("video")).length>0?x.filter(e=>e.includes("video")).length-i:i,a.push({type:"video",value:t[e],original:n[e].name,number:r[i]})}}return console.log(a),a},ce=(e,a)=>{"message"===a&&(O(e=>e-1),y(a=>a.filter(a=>a!=="message"+e)),C(a=>a.filter(a=>a!=="message"+e)),document.querySelector(".stackMessage"+e).remove()),"interval"===a&&(N(e=>e-1),y(a=>a.filter(a=>a!=="interval"+e)),C(a=>a.filter(a=>a!=="interval"+e)),document.querySelector(".stackInterval"+e).remove()),"img"===a&&(V(e=>e-1),Z(a=>(E(t=>{try{return t.filter(t=>t.name!==a.filter(a=>a.number===e)[0].name)}catch(n){return t}}),a.filter(a=>a.number!==e))),y(a=>a.filter(a=>a!=="img"+e)),C(a=>a.filter(a=>a!=="img"+e)),document.querySelector(".stackImg"+e).remove()),"audio"===a&&(D(e=>e-1),$(a=>(E(t=>{try{return t.filter(t=>t.name!==a.filter(a=>a.number===e)[0].name)}catch(n){return t}}),a.filter(a=>a.number!==e))),y(a=>a.filter(a=>a!=="audio"+e)),C(a=>a.filter(a=>a!=="audio"+e)),document.querySelector(".stackAudio"+e).remove()),"video"===a&&(z(e=>e-1),ae(a=>(E(t=>{try{return t.filter(t=>t.name!==a.filter(a=>a.number===e)[0].name)}catch(n){return t}}),a.filter(a=>a.number!==e))),y(a=>a.filter(a=>a!=="video"+e)),C(a=>a.filter(a=>a!=="video"+e)),document.querySelector(".stackVideo"+e).remove())};const de=(e,a)=>{if(!e.target.files)return;if(e.target.files[0].size>2e6)return void S.b.error("Arquivo \xe9 muito grande! 2MB m\xe1ximo");const t=URL.createObjectURL(e.target.files[0]);Z(n=>[...n,{number:a,url:t,name:e.target.files[0].name}]);const n=Array.from(e.target.files);E(e=>[...e,n[0]]),document.querySelector(".img"+a).src=t,document.querySelector(".btnImg"+a).remove()},me=(e,a)=>{if(!e.target.files)return;if(e.target.files[0].size>5e6)return void S.b.error("Arquivo \xe9 muito grande! 5MB m\xe1ximo");const t=URL.createObjectURL(e.target.files[0]);$(n=>[...n,{number:a,url:t,name:e.target.files[0].name}]);const n=Array.from(e.target.files);E(e=>[...e,n[0]]),document.querySelector(".audio"+a).innerHTML=`<audio controls="controls">\n    <source src="${t}" type="audio/mp3" />\n    seu navegador n\xe3o suporta HTML5\n  </audio>`,document.querySelector(".btnAudio"+a).remove()},ue=(e,a)=>{if(!e.target.files)return;if(e.target.files[0].size>2e7)return void S.b.error("Arquivo \xe9 muito grande! 20MB m\xe1ximo");const t=URL.createObjectURL(e.target.files[0]);ae(n=>[...n,{number:a,url:t,name:e.target.files[0].name}]);var n=document.createElement("div");const l=Array.from(e.target.files);E(e=>[...e,l[0]]),n.innerHTML=`<video controls="controls" style="width: 200px;">\n    <source src="${t}" type="video/mp4" />\n    seu navegador n\xe3o suporta HTML5\n  </video>`,document.querySelector(".video"+a).appendChild(n),document.querySelector(".btnVideo"+a).remove()},pe=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return l.a.createElement(Mn.a,{sx:{border:"1px solid #0000FF",borderRadius:"7px",padding:"6px",position:"relative"},className:"stackImg"+e,key:"stackImg"+e},l.a.createElement(Mn.a,{sx:{position:"absolute",right:6}},l.a.createElement(_g.a,{onClick:()=>ce(e,"img")})),l.a.createElement(In.a,{textAlign:"center"},"Imagem"),l.a.createElement(Mn.a,{direction:"row",justifyContent:"center"},l.a.createElement("img",{src:a.length>0?"http://localhost:8081/public/"+a:"",className:"img"+e,style:{width:"200px"}})),0===a.length&&l.a.createElement(kt.a,{variant:"contained",component:"label",className:"btnImg"+e},"Enviar imagem",l.a.createElement("input",{type:"file",accept:"image/png, image/jpg, image/jpeg",hidden:!0,onChange:a=>de(a,e)})))},ge=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return l.a.createElement(Mn.a,{sx:{border:"1px solid #0000FF",borderRadius:"7px",padding:"6px",position:"relative"},className:"stackAudio"+e,key:"stackAudio"+e},l.a.createElement(Mn.a,{sx:{position:"absolute",right:6},direction:"row",gap:1},l.a.createElement(_g.a,{sx:{cursor:"pointer"},onClick:()=>ce(e,"audio")})),l.a.createElement(In.a,{textAlign:"center"},"Audio"),l.a.createElement("div",{className:"audio"+e,style:{display:"flex",flexDirection:"row",justifyContent:"center"}},a.length>0&&l.a.createElement("audio",{controls:"controls"},l.a.createElement("source",{src:"http://localhost:8081/public/"+a,type:"audio/mp3"}),"seu navegador n\xe3o suporta HTML5")),0===a.length&&l.a.createElement(kt.a,{variant:"contained",component:"label",className:"btnAudio"+e},"Enviar audio",l.a.createElement("input",{type:"file",accept:"audio/ogg, audio/mp3, audio/opus",hidden:!0,onChange:a=>me(a,e)})),l.a.createElement(Mn.a,{direction:"row",justifyContent:"center"},l.a.createElement(zs.a,{className:"checkaudio"+e,defaultChecked:"ok"!==t}),l.a.createElement(Mn.a,{justifyContent:"center"},l.a.createElement(In.a,null,"Enviar como audio gravado na hora"))))},Ee=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return l.a.createElement(Mn.a,{sx:{border:"1px solid #0000FF",borderRadius:"7px",padding:"6px",position:"relative"},className:"stackVideo"+e,key:"stackVideo"+e},l.a.createElement(Mn.a,{sx:{position:"absolute",right:6}},l.a.createElement(_g.a,{onClick:()=>ce(e,"video")})),l.a.createElement(In.a,{textAlign:"center"},"Video"),l.a.createElement("div",{className:"video"+e,style:{display:"flex",flexDirection:"row",justifyContent:"center"}},a.length>0&&l.a.createElement("video",{controls:"controls",style:{width:"200px"}},l.a.createElement("source",{src:"http://localhost:8081/public/"+a,type:"video/mp4"}),"seu navegador n\xe3o suporta HTML5")),0===a.length&&l.a.createElement(kt.a,{variant:"contained",component:"label",className:"btnVideo"+e},"Enviar video",l.a.createElement("input",{type:"file",accept:"video/mp4",hidden:!0,onChange:a=>ue(a,e)})))},be=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return l.a.createElement(Mn.a,{sx:{border:"1px solid #0000FF",borderRadius:"7px",padding:"6px",position:"relative"},className:"stackMessage"+e,key:"stackMessage"+e},l.a.createElement(Mn.a,{sx:{position:"absolute",right:6}},l.a.createElement(_g.a,{onClick:()=>ce(e,"message")})),l.a.createElement(In.a,{textAlign:"center"},"Texto"),l.a.createElement(wt.a,{label:"Mensagem",defaultValue:a,multiline:!0,rows:7,className:"message"+e,name:"text",variant:"outlined",margin:"dense",style:{width:"100%"}}))},fe=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return l.a.createElement(Mn.a,{sx:{border:"1px solid #0000FF",borderRadius:"7px",padding:"6px",position:"relative"},className:"stackInterval"+e,key:"stackInterval"+e},l.a.createElement(Mn.a,{sx:{position:"absolute",right:6}},l.a.createElement(_g.a,{onClick:()=>ce(e,"interval")})),l.a.createElement(In.a,{textAlign:"center"},"Intervalo"),l.a.createElement(wt.a,{label:"Tempo em segundos",className:"interval"+e,defaultValue:a,type:"number",InputProps:{inputProps:{min:0,max:120}},variant:"outlined",margin:"dense",style:{width:"100%"}}))};Object(n.useEffect)(()=>{const e=localStorage.getItem("variables");if(e&&oe(JSON.parse(e)),"edit"===a){if(ie({title:"Editar conte\xfado",btn:"Salvar"}),y(r.data.seq),C(r.data.seq),w(r.data.elements),r){const e=r.data.elements,a=r.data.seq;a.map(t=>{const n=e.filter(e=>e.number===t)[0];if("message"===n.type){const e=parseInt(t.replace("message",""));A(a=>[...a,be(e,n.value)]),O(e=>{const t=a.filter(e=>e.includes("message")).map(e=>parseInt(e.replace("message","")));return I(Math.max.apply(null,t)+1),e+1})}if("interval"===n.type){const e=parseInt(t.replace("interval",""));A(a=>[...a,fe(e,n.value)]),N(e=>{const t=a.filter(e=>e.includes("interval")).map(e=>parseInt(e.replace("interval","")));return F(Math.max.apply(null,t)+1),e+1})}if("audio"===n.type){const e=parseInt(t.replace("audio",""));A(a=>[...a,ge(e,n.value,n.record?"":"ok")]),D(e=>{const t=a.filter(e=>e.includes("audio")).map(e=>parseInt(e.replace("audio","")));return W(Math.max.apply(null,t)+1),e+1})}if("img"===n.type){const e=parseInt(t.replace("img",""));A(a=>[...a,pe(e,n.value)]),V(e=>{const t=a.filter(e=>e.includes("img")).map(e=>parseInt(e.replace("img","")));return K(Math.max.apply(null,t)+1),e+1})}if("video"===n.type){const e=parseInt(t.replace("video",""));A(a=>[...a,Ee(e,n.value)]),z(e=>{const t=a.filter(e=>e.includes("video")).map(e=>parseInt(e.replace("video","")));return U(Math.max.apply(null,t)+1),e+1})}})}d(!0)}"create"===a&&(ie({title:"Adicionar menu ao fluxo",btn:"Adicionar"}),f(),ne([]),d(!0))},[a]),Object(n.useEffect)(()=>()=>{s.current=!1},[]);const he=async()=>{i(null),d(!1),setTimeout(()=>{E([]),Z([]),$([]),ae([]),ne([]),A([]),y([]),w([]),C([]),O(0),I(0),N(0),F(0),D(0),W(0),z(0),U(0),V(0),K(0)},500)},Ae=()=>{const e=v.filter(e=>e.includes("img")),a=v.filter(e=>e.includes("audio")),t=v.filter(e=>e.includes("video"));for(let n=0;n<Q;n++){if(document.querySelector(".btn"+$E(e[n])))return!0}for(let n=0;n<P;n++){if(document.querySelector(".btn"+$E(a[n])))return!0}for(let n=0;n<q;n++){if(document.querySelector(".btn"+$E(t[n])))return!0}},ve=e=>{const a=document.querySelector(e);a.scrollTop=a.scrollHeight};return l.a.createElement("div",null,l.a.createElement(Tt.a,{open:c,fullWidth:"md",scroll:"paper"},!Y&&l.a.createElement(Mt.a,{id:"form-dialog-title"},"Adicionar conte\xfado ao fluxo"),l.a.createElement(Mn.a,null,l.a.createElement(Mn.a,{className:"body-card",style:{gap:"8px",padding:"16px",overflow:"auto",height:"70vh",scrollBehavior:"smooth",display:Y&&"none"}},h.map(e=>l.a.createElement(l.a.Fragment,null,e)),l.a.createElement(Mn.a,{direction:"row",gap:1},l.a.createElement(kt.a,{variant:"contained",color:"primary",onClick:()=>{A(e=>[...e,be(M)]),O(e=>(y(e=>[...e,"message"+M]),e+1)),I(e=>e+1),setTimeout(()=>{ve(".body-card")},100)}},l.a.createElement(zn.a,{sx:{width:"16px",height:"16px",marginRight:"4px"}}),"Texto"),l.a.createElement(kt.a,{variant:"contained",color:"primary",onClick:()=>{A(e=>[...e,fe(R)]),N(e=>(y(e=>[...e,"interval"+R]),e+1)),F(e=>e+1),setTimeout(()=>{ve(".body-card")},100)}},l.a.createElement(Hn.a,{sx:{width:"16px",height:"16px",marginRight:"4px"}}),"Intervalo"),l.a.createElement(kt.a,{variant:"contained",color:"primary",onClick:()=>{A(e=>[...e,pe(G)]),V(e=>(y(e=>[...e,"img"+G]),e+1)),K(e=>e+1),setTimeout(()=>{ve(".body-card")},100)}},l.a.createElement(pE.a,{sx:{width:"16px",height:"16px",marginRight:"4px"}}),"Imagem"),l.a.createElement(kt.a,{variant:"contained",color:"primary",onClick:()=>{A(e=>[...e,ge(L)]),D(e=>(y(e=>[...e,"audio"+L]),e+1)),W(e=>e+1),setTimeout(()=>{ve(".body-card")},100)}},l.a.createElement($g.a,{sx:{width:"16px",height:"16px",marginRight:"4px"}}),"Audio"),l.a.createElement(kt.a,{variant:"contained",color:"primary",onClick:()=>{A(e=>[...e,Ee(H)]),z(e=>(y(e=>[...e,"video"+H]),e+1)),U(e=>e+1),setTimeout(()=>{ve(".body-card")},100)}},l.a.createElement(fE.a,{sx:{width:"16px",height:"16px",marginRight:"4px"}}),"Video")),l.a.createElement(B.a,null),l.a.createElement(Gt.a,{style:{width:"100%",textAlign:"center"}},l.a.createElement(In.a,null,"Vari\xe1veis"),le&&l.a.createElement(l.a.Fragment,null,le.map(e=>l.a.createElement(l.a.Fragment,null,l.a.createElement(In.a,null,(e=>"{{"+e+"}}")(e))))))),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:he,color:"secondary",variant:"outlined",style:{display:Y&&"none"}},aa.a.t("contactModal.buttons.cancel")),l.a.createElement(kt.a,{type:"submit",color:"primary",variant:"contained",onClick:()=>(async()=>{if("edit"===a){X(!0);const e=new FormData;g.forEach(async(a,t)=>{const n=a;n&&("image"==(null===a||void 0===a?void 0:a.type.split("/")[0])?new zE.a(n,{quality:.7,async success(a){e.append("medias",a),e.append("body",a.name)},error(e){alert("erro"),console.log(e.message)}}):(e.append("medias",a),e.append("body",a.name)))}),setTimeout(async()=>{if(0===P&&0===q&&0===Q||0===g.length){try{const e={seq:v,elements:se(null)};return console.log("QUI",e),o({...r,data:e}),S.b.success("Conte\xfado adicionada com sucesso!"),he(),void X(!1)}catch(a){console.log(a),X(!1)}return}if(Ae())return X(!1),S.b.error("Delete os cards vazios(Imagem, Audio e Video)");await u.post("/flowbuilder/content",e).then(async e=>{const a={seq:v,elements:se(e.data)};o({...r,data:a}),S.b.success("Conte\xfado adicionada com sucesso!"),await he(),X(!1)}).catch(e=>{console.log(e)})},1500)}else if("create"===a){X(!0);const e=new FormData;g.forEach(async(a,t)=>{const n=a;n&&("image"==(null===a||void 0===a?void 0:a.type.split("/")[0])?new zE.a(n,{quality:.7,async success(a){e.append("medias",a),e.append("body",a.name)},error(e){alert("erro"),console.log(e.message)}}):(e.append("medias",a),e.append("body",a.name)))}),setTimeout(async()=>{if(0===P&&0===q&&0===Q)try{const e={seq:v,elements:se(null)};return t({...e}),S.b.success("Conte\xfado adicionada com sucesso!"),he(),void X(!1)}catch(a){X(!1)}if(Ae())return X(!1),S.b.error("Delete os cards vazios(Imagem, Audio e Video)");await u.post("/flowbuilder/content",e).then(e=>{const a={seq:v,elements:se(e.data)};t({...a}),S.b.success("Conte\xfado adicionada com sucesso!"),he(),X(!1)}).catch(e=>{console.log(e)})},1500)}})(),style:{display:Y&&"none"}},""+re.btn))),Y&&l.a.createElement(Mn.a,{style:{gap:"8px",padding:"16px",height:"70vh",alignSelf:"center",justifyContent:"center"}},l.a.createElement(Mn.a,null,l.a.createElement(In.a,null,"Subindo os arquivos e criando o conte\xfado..."),l.a.createElement(Mn.a,{style:{alignSelf:"center",marginTop:"12px"}},l.a.createElement(It.a,null))))))},tb=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const o=tE();return l.a.createElement("div",{style:{backgroundColor:"#FEFAFA",padding:"8px",borderRadius:"8px",border:"1px solid rgba(236, 88, 88, 0.25)",boxShadow:"rgba(0, 0, 0, 0.05) 0px 3px 5px"}},l.a.createElement(eE.a,{type:"target",position:"left",style:{background:"#0000FF",width:"18px",height:"18px",top:"20px",left:"-12px",cursor:"pointer"},onConnect:e=>console.log("handle onConnect",e),isConnectable:t},l.a.createElement(lE.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"3.5px",marginBottom:"1px",pointerEvents:"none"}})),l.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},l.a.createElement(Zg.a,{onClick:()=>{o.setNodesStorage(n),o.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#EC5858"}}),l.a.createElement(_g.a,{onClick:()=>{o.setNodesStorage(n),o.setAct("delete")},sx:{width:"12px",height:"12px",color:"#EC5858"}})),l.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},l.a.createElement(LE.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px",color:"#EC5858"}}),l.a.createElement("div",{style:{color:"#232323",fontSize:"16px"}},"Conte\xfado")),l.a.createElement("div",{style:{color:"#232323",fontSize:"12px",width:180}},a.seq.map(e=>l.a.createElement("div",{style:{backgroundColor:"#F6EEEE",marginBottom:"3px",borderRadius:"5px"}},e.includes("message")&&l.a.createElement("div",{style:{gap:"5px",padding:"6px"}},l.a.createElement("div",{style:{display:"flex",position:"relative",flexDirection:"row",justifyContent:"center"}},l.a.createElement(zn.a,{sx:{color:"#EC5858"}})),l.a.createElement(In.a,{textAlign:"center",sx:{textOverflow:"ellipsis",fontSize:"10px",whiteSpace:"nowrap",overflow:"hidden"}},a.elements.filter(a=>a.number===e)[0].value)),e.includes("interval")&&l.a.createElement("div",{style:{gap:"5px",padding:"6px"}},l.a.createElement("div",{style:{display:"flex",position:"relative",flexDirection:"row",justifyContent:"center"}},l.a.createElement(Hn.a,{sx:{color:"#EC5858"}})),l.a.createElement(In.a,{textAlign:"center",sx:{textOverflow:"ellipsis",fontSize:"10px",whiteSpace:"nowrap",overflow:"hidden"}},a.elements.filter(a=>a.number===e)[0].value," ","segundos")),e.includes("img")&&l.a.createElement("div",{style:{gap:"5px",padding:"6px"}},l.a.createElement("div",{style:{display:"flex",position:"relative",flexDirection:"row",justifyContent:"center"}},l.a.createElement(pE.a,{sx:{color:"#EC5858"}})),l.a.createElement(In.a,{textAlign:"center",sx:{textOverflow:"ellipsis",fontSize:"10px",whiteSpace:"nowrap",overflow:"hidden"}},a.elements.filter(a=>a.number===e)[0].original)),e.includes("audio")&&l.a.createElement("div",{style:{gap:"5px",padding:"6px"}},l.a.createElement("div",{style:{display:"flex",position:"relative",flexDirection:"row",justifyContent:"center"}},l.a.createElement($g.a,{sx:{color:"#EC5858"}})),l.a.createElement(In.a,{textAlign:"center",sx:{textOverflow:"ellipsis",fontSize:"10px",whiteSpace:"nowrap",overflow:"hidden"}},a.elements.filter(a=>a.number===e)[0].original)),e.includes("video")&&l.a.createElement("div",{style:{gap:"5px",padding:"6px"}},l.a.createElement("div",{style:{display:"flex",position:"relative",flexDirection:"row",justifyContent:"center"}},l.a.createElement(fE.a,{sx:{color:"#EC5858"}})),l.a.createElement(In.a,{textAlign:"center",sx:{textOverflow:"ellipsis",fontSize:"10px",whiteSpace:"nowrap",overflow:"hidden"}},a.elements.filter(a=>a.number===e)[0].original))))),l.a.createElement(eE.a,{type:"source",position:"right",id:"a",style:{background:"#0000FF",width:"18px",height:"18px",top:"90%",right:"-11px",cursor:"pointer"},isConnectable:t},l.a.createElement(lE.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))});var nb=t(1710),lb=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const o=tE();return console.log(12,"ticketNode",a),l.a.createElement("div",{style:{backgroundColor:"#ffffff",padding:"8px",borderRadius:"8px",boxShadow:"rgba(0, 0, 0, 0.05) 0px 3px 5px",border:"1px solid rgba(33, 94, 151, 0.25)"}},l.a.createElement(eE.a,{type:"target",position:"left",style:{background:"#0872b9",width:"18px",height:"18px",top:"20px",left:"-12px",cursor:"pointer"},onConnect:e=>console.log("handle onConnect",e),isConnectable:t},l.a.createElement(lE.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})),l.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},l.a.createElement(Zg.a,{onClick:()=>{o.setNodesStorage(n),o.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#F7953B"}}),l.a.createElement(_g.a,{onClick:()=>{o.setNodesStorage(n),o.setAct("delete")},sx:{width:"12px",height:"12px",color:"#F7953B"}})),l.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},l.a.createElement(nb.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px",color:"#3aba38"}}),l.a.createElement("div",{style:{color:"#232323",fontSize:"16px"}},"Ticket")),l.a.createElement("div",{style:{color:"#232323",fontSize:"12px",width:180}},l.a.createElement("div",{style:{backgroundColor:"#F6EEEE",marginBottom:"3px",borderRadius:"5px"}},l.a.createElement("div",{style:{gap:"5px",padding:"6px"}},l.a.createElement("div",{style:{textAlign:"center"}},"data"===Object.keys(a)[0]?a.data.name:a.name)))),l.a.createElement(eE.a,{type:"source",position:"right",id:"a",style:{background:"#0872b9",width:"18px",height:"18px",top:"70%",right:"-11px",cursor:"pointer"},isConnectable:t},l.a.createElement(lE.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))}),ob=t(1711);const rb=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})),ib=xt.c().shape({name:xt.e().min(2,"Too Short!").max(50,"Too Long!").required("Required")});var sb=e=>{let{open:a,onSave:t,data:o,onUpdate:r,close:i}=e;const s=rb(),c=Object(n.useRef)(!0),d={type:"typebot",name:"",projectName:"",jsonContent:"",language:"",urlN8N:"",typebotDelayMessage:1e3,typebotExpires:1,typebotKeywordFinish:"",typebotKeywordRestart:"",typebotRestartMessage:"",typebotSlug:"",typebotUnknownMessage:""},[m,u]=Object(n.useState)(!1),[p,g]=Object(n.useState)(),[E,b]=Object(n.useState)({title:"Adicionar Typebot ao fluxo",btn:"Adicionar"});Object(n.useEffect)(()=>("edit"===a?(b({title:"Editar Typebot ao fluxo",btn:"Salvar"}),console.log("FlowTybebotEdit",o),g({...o.data.typebotIntegration}),u(!0)):"create"===a&&(b({title:"Editar Typebot do fluxo",btn:"Salvar"}),g(d),u(!0)),()=>{c.current=!1}),[a]);const f=()=>{i(null),u(!1)};return l.a.createElement("div",{className:s.root},l.a.createElement(Tt.a,{open:m,onClose:f,fullWidth:!0,maxWidth:"md",scroll:"paper"},l.a.createElement(Mt.a,{id:"form-dialog-title"},"create"===a?"Adicionar Typebot ao fluxo":"Editar Typebot"),l.a.createElement(Ct.e,{initialValues:p,enableReinitialize:!0,validationSchema:ib,onSubmit:(e,n,l)=>{setTimeout(()=>{(e=>{"edit"===a?(f(),r({...o,data:{typebotIntegration:{...e}}})):"create"===a&&(e.projectName=e.name,f(),t({typebotIntegration:e}))})(e),n.setSubmitting(!1)},400)}},e=>{let{touched:t,errors:n,isSubmitting:o,values:r}=e;return l.a.createElement(Ct.d,null,l.a.createElement(Bt.a,{square:!0,className:s.mainPaper,elevation:1},l.a.createElement(St.a,{dividers:!0},l.a.createElement(ht.a,{container:!0,spacing:1},l.a.createElement(l.a.Fragment,null,l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("queueIntegrationModal.form.name"),autoFocus:!0,name:"name",error:t.name&&Boolean(n.name),helpertext:t.name&&n.name,variant:"outlined",margin:"dense",required:!0,fullWidth:!0,className:s.textField})),l.a.createElement(ht.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("queueIntegrationModal.form.urlN8N"),name:"urlN8N",error:t.urlN8N&&Boolean(n.urlN8N),helpertext:t.urlN8N&&n.urlN8N,variant:"outlined",margin:"dense",required:!0,fullWidth:!0,className:s.textField})),l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("queueIntegrationModal.form.typebotSlug"),name:"typebotSlug",error:t.typebotSlug&&Boolean(n.typebotSlug),helpertext:t.typebotSlug&&n.typebotSlug,required:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:s.textField})),l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("queueIntegrationModal.form.typebotExpires"),name:"typebotExpires",error:t.typebotExpires&&Boolean(n.typebotExpires),helpertext:t.typebotExpires&&n.typebotExpires,variant:"outlined",margin:"dense",fullWidth:!0,className:s.textField})),l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("queueIntegrationModal.form.typebotDelayMessage"),name:"typebotDelayMessage",error:t.typebotDelayMessage&&Boolean(n.typebotDelayMessage),helpertext:t.typebotDelayMessage&&n.typebotDelayMessage,variant:"outlined",margin:"dense",fullWidth:!0,className:s.textField})),l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("queueIntegrationModal.form.typebotKeywordFinish"),name:"typebotKeywordFinish",error:t.typebotKeywordFinish&&Boolean(n.typebotKeywordFinish),helpertext:t.typebotKeywordFinish&&n.typebotKeywordFinish,variant:"outlined",margin:"dense",fullWidth:!0,className:s.textField})),l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("queueIntegrationModal.form.typebotKeywordRestart"),name:"typebotKeywordRestart",error:t.typebotKeywordRestart&&Boolean(n.typebotKeywordRestart),helpertext:t.typebotKeywordRestart&&n.typebotKeywordRestart,variant:"outlined",margin:"dense",fullWidth:!0,className:s.textField})),l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("queueIntegrationModal.form.typebotUnknownMessage"),name:"typebotUnknownMessage",error:t.typebotUnknownMessage&&Boolean(n.typebotUnknownMessage),helpertext:t.typebotUnknownMessage&&n.typebotUnknownMessage,variant:"outlined",margin:"dense",fullWidth:!0,className:s.textField})),l.a.createElement(ht.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("queueIntegrationModal.form.typebotRestartMessage"),name:"typebotRestartMessage",error:t.typebotRestartMessage&&Boolean(n.typebotRestartMessage),helpertext:t.typebotRestartMessage&&n.typebotRestartMessage,variant:"outlined",margin:"dense",fullWidth:!0,className:s.textField})))))),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:f,color:"secondary",variant:"outlined"},aa.a.t("contactModal.buttons.cancel")),l.a.createElement(kt.a,{type:"submit",color:"primary",disabled:o,variant:"contained",className:s.btnWrapper},"create"===a?"Adicionar":"Editar")))})))};const cb=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));xt.c().shape({name:xt.e().min(2,"Too Short!").max(50,"Too Long!").required("Required")});var db=e=>{let{open:a,onSave:t,data:o,onUpdate:r,close:i}=e;const s=cb(),c=Object(n.useRef)(!0),d=()=>{p(!u)},m={name:"",prompt:"",voice:"texto",voiceKey:"",voiceRegion:"",maxTokens:100,temperature:1,apiKey:"",queueId:null,maxMessages:10},[u,p]=Object(n.useState)(!1),[g,E]=Object(n.useState)("texto"),[b,f]=Object(n.useState)(!1),[h,A]=Object(n.useState)(),[v,y]=Object(n.useState)({title:"Adicionar OpenAI ao fluxo",btn:"Adicionar"});Object(n.useEffect)(()=>("edit"===a?(y({title:"Editar OpenAI do fluxo",btn:"Salvar"}),console.log("FlowTybebotEdit",o),A({...o.data.typebotIntegration}),f(!0)):"create"===a&&(y({title:"Cria OpenAI no fluxo",btn:"Salvar"}),A(m),f(!0)),()=>{c.current=!1}),[a]);const x=()=>{i(null),f(!1)},C=e=>{E(e.target.value)};return l.a.createElement("div",{className:s.root},l.a.createElement(Tt.a,{open:b,onClose:x,fullWidth:!0,maxWidth:"md",scroll:"paper"},l.a.createElement(Mt.a,{id:"form-dialog-title"},"create"===a?"Adicionar OpenAI ao fluxo":"Editar OpenAI"),l.a.createElement(Ct.e,{initialValues:h,enableReinitialize:!0,onSubmit:(e,n)=>{setTimeout(()=>{(e=>{"edit"===a?(x(),r({...o,data:{typebotIntegration:{...e,voice:g}}})):"create"===a&&(e.projectName=e.name,x(),t({typebotIntegration:{...e,voice:g}}))})(e),n.setSubmitting(!1)},400)}},e=>{let{touched:t,errors:n,isSubmitting:o,values:r}=e;return l.a.createElement(Ct.d,{style:{width:"100%"}},l.a.createElement(St.a,{dividers:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("promptModal.form.name"),name:"name",error:t.name&&Boolean(n.name),helperText:t.name&&n.name,variant:"outlined",margin:"dense",fullWidth:!0,required:!0}),l.a.createElement(Rt.a,{fullWidth:!0,margin:"dense",variant:"outlined"},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("promptModal.form.apikey"),name:"apiKey",type:u?"text":"password",error:t.apiKey&&Boolean(n.apiKey),helperText:t.apiKey&&n.apiKey,variant:"outlined",margin:"dense",fullWidth:!0,required:!0,InputProps:{endAdornment:l.a.createElement(fc.a,{position:"end"},l.a.createElement(D.a,{onClick:d},u?l.a.createElement(pp.a,null):l.a.createElement(gp.a,null)))}})),l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("promptModal.form.prompt"),name:"prompt",error:t.prompt&&Boolean(n.prompt),helperText:t.prompt&&n.prompt,variant:"outlined",margin:"dense",fullWidth:!0,required:!0,rows:10,multiline:!0}),l.a.createElement("div",{className:s.multFieldLine},l.a.createElement(Rt.a,{fullWidth:!0,margin:"dense",variant:"outlined"},l.a.createElement(Nt.a,null,aa.a.t("promptModal.form.voice")),l.a.createElement(jt.a,{id:"type-select",labelWidth:60,name:"voice",value:g,onChange:C,multiple:!1},l.a.createElement(Q.a,{key:"texto",value:"texto"},"Texto"),l.a.createElement(Q.a,{key:"pt-BR-FranciscaNeural",value:"pt-BR-FranciscaNeural"},"Francisa"),l.a.createElement(Q.a,{key:"pt-BR-AntonioNeural",value:"pt-BR-AntonioNeural"},"Ant\xf4nio"),l.a.createElement(Q.a,{key:"pt-BR-BrendaNeural",value:"pt-BR-BrendaNeural"},"Brenda"),l.a.createElement(Q.a,{key:"pt-BR-DonatoNeural",value:"pt-BR-DonatoNeural"},"Donato"),l.a.createElement(Q.a,{key:"pt-BR-ElzaNeural",value:"pt-BR-ElzaNeural"},"Elza"),l.a.createElement(Q.a,{key:"pt-BR-FabioNeural",value:"pt-BR-FabioNeural"},"F\xe1bio"),l.a.createElement(Q.a,{key:"pt-BR-GiovannaNeural",value:"pt-BR-GiovannaNeural"},"Giovanna"),l.a.createElement(Q.a,{key:"pt-BR-HumbertoNeural",value:"pt-BR-HumbertoNeural"},"Humberto"),l.a.createElement(Q.a,{key:"pt-BR-JulioNeural",value:"pt-BR-JulioNeural"},"Julio"),l.a.createElement(Q.a,{key:"pt-BR-LeilaNeural",value:"pt-BR-LeilaNeural"},"Leila"),l.a.createElement(Q.a,{key:"pt-BR-LeticiaNeural",value:"pt-BR-LeticiaNeural"},"Let\xedcia"),l.a.createElement(Q.a,{key:"pt-BR-ManuelaNeural",value:"pt-BR-ManuelaNeural"},"Manuela"),l.a.createElement(Q.a,{key:"pt-BR-NicolauNeural",value:"pt-BR-NicolauNeural"},"Nicolau"),l.a.createElement(Q.a,{key:"pt-BR-ValerioNeural",value:"pt-BR-ValerioNeural"},"Val\xe9rio"),l.a.createElement(Q.a,{key:"pt-BR-YaraNeural",value:"pt-BR-YaraNeural"},"Yara"))),l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("promptModal.form.voiceKey"),name:"voiceKey",error:t.voiceKey&&Boolean(n.voiceKey),helperText:t.voiceKey&&n.voiceKey,variant:"outlined",margin:"dense",fullWidth:!0}),l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("promptModal.form.voiceRegion"),name:"voiceRegion",error:t.voiceRegion&&Boolean(n.voiceRegion),helperText:t.voiceRegion&&n.voiceRegion,variant:"outlined",margin:"dense",fullWidth:!0})),l.a.createElement("div",{className:s.multFieldLine},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("promptModal.form.temperature"),name:"temperature",error:t.temperature&&Boolean(n.temperature),helperText:t.temperature&&n.temperature,variant:"outlined",margin:"dense",fullWidth:!0}),l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("promptModal.form.max_tokens"),name:"maxTokens",error:t.maxTokens&&Boolean(n.maxTokens),helperText:t.maxTokens&&n.maxTokens,variant:"outlined",margin:"dense",fullWidth:!0}),l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("promptModal.form.max_messages"),name:"maxMessages",error:t.maxMessages&&Boolean(n.maxMessages),helperText:t.maxMessages&&n.maxMessages,variant:"outlined",margin:"dense",fullWidth:!0}))),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:x,color:"secondary",variant:"outlined"},aa.a.t("contactModal.buttons.cancel")),l.a.createElement(kt.a,{type:"submit",color:"primary",variant:"contained",className:s.btnWrapper,disabled:o},"create"===a?"Adicionar":"Editar")))})))};const mb=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var ub=e=>{let{open:a,onSave:t,onUpdate:o,data:r,close:i}=e;const s=mb(),c=Object(n.useRef)(!0),d={message:"",answerKey:""},[m,u]=Object(n.useState)(),[p,g]=Object(n.useState)(!1),[E,b]=Object(n.useState)(),[f,h]=Object(n.useState)({title:"Adicionar Perguta ao fluxo",btn:"Adicionar"});Object(n.useEffect)(()=>("edit"===a?(h({title:"Editar Perguta do fluxo",btn:"Salvar"}),console.log("FlowTybebotEdit",r.data.typebotIntegration),u(r.data.typebotIntegration.message),b({...r.data.typebotIntegration}),g(!0)):"create"===a&&(h({title:"Cria Perguta no fluxo",btn:"Salvar"}),b(d),g(!0)),()=>{c.current=!1}),[a]);const A=()=>{i(null),g(!1)};return l.a.createElement("div",{className:s.root},l.a.createElement(Tt.a,{open:p,onClose:A,fullWidth:!0,maxWidth:"md",scroll:"paper"},l.a.createElement(Mt.a,{id:"form-dialog-title"},"create"===a?"Adicionar Perguta ao fluxo":"Editar Perguta"),l.a.createElement(Ct.e,{initialValues:E,enableReinitialize:!0,onSubmit:(e,n)=>{setTimeout(()=>{(e=>{if("edit"===a){let a=localStorage.getItem("variables");const t=r.data.typebotIntegration.answerKey;a=a?JSON.parse(a):[],a=a.filter(e=>e!==t),localStorage.setItem("variables",JSON.stringify([...a,e.answerKey])),A(),o({...r,data:{typebotIntegration:{...e,message:m}}})}else if("create"===a){let a=localStorage.getItem("variables");a=a?JSON.parse(a):[],a=a.filter(a=>a!==e.answerKey),localStorage.setItem("variables",JSON.stringify([...a,e.answerKey])),A(),t({typebotIntegration:{...e,message:m}})}})(e),n.setSubmitting(!1)},400)}},e=>{let{touched:t,errors:n,isSubmitting:o,values:r}=e;return l.a.createElement(Ct.d,{style:{width:"100%"}},l.a.createElement(St.a,{dividers:!0},l.a.createElement(wt.a,{label:"Mensagem",multiline:!0,rows:7,name:"message",error:t.message&&Boolean(n.message),helperText:t.message&&n.message,variant:"outlined",margin:"dense",value:m,onChange:e=>u(e.target.value),fullWidth:!0,required:!0}),l.a.createElement(Ct.b,{as:wt.a,label:"Salvar resposta",name:"answerKey",error:t.answerKey&&Boolean(n.answerKey),helperText:t.answerKey&&n.answerKey,variant:"outlined",margin:"dense",fullWidth:!0,required:!0})),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:A,color:"secondary",variant:"outlined"},aa.a.t("contactModal.buttons.cancel")),l.a.createElement(kt.a,{type:"submit",color:"primary",variant:"contained",className:s.btnWrapper,disabled:o},"create"===a?"Adicionar":"Editar")))})))};const pb=Object(I.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),position:"relative",backgroundColor:"#F8F9FA",overflowY:"scroll",...e.scrollbarStyles},speeddial:{backgroundColor:"red"}}));function gb(e){for(var a="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)a+=t.charAt(Math.floor(Math.random()*t.length));return a}const Eb={message:iE,start:cE,menu:mE,interval:uE,img:gE,audio:nE,randomizer:bE,video:hE,singleBlock:tb,ticket:lb,typebot:oE,openai:rE,question:yE},bb={buttonedge:function(e){let{id:a,sourceX:t,sourceY:n,targetX:o,targetY:r,sourcePosition:i,targetPosition:s,style:c={},data:d,arrowHeadType:m,markerEndId:u}=e;const p=Object(eE.c)({sourceX:t,sourceY:n,sourcePosition:i,targetX:o,targetY:r,targetPosition:s}),g=Object(eE.e)(m,u),[E,b]=Object(eE.d)({sourceX:t,sourceY:n,targetX:o,targetY:r});return l.a.createElement(l.a.Fragment,null,l.a.createElement("path",{id:a,style:c,className:"react-flow__edge-path",d:p,markerEnd:g}),l.a.createElement("foreignObject",{width:40,height:40,x:E-20,y:b-20,className:"edgebutton-foreignobject",requiredExtensions:"http://www.w3.org/1999/xhtml"},l.a.createElement("body",null)))}},fb=[{id:"1",position:{x:250,y:100},data:{label:"Inicio do fluxo"},type:"start"}],hb=[],Ab=()=>{const e=pb(),{id:a}=(Object(O.useHistory)(),Object(ld.useParams)()),t=tE(),{user:o}=Object(n.useContext)(ua),[r,i]=Object(n.useState)(!1),[s,c]=Object(n.useState)(1),[d,m]=Object(n.useState)(null),[p,g]=Object(n.useState)(!1),[E,b]=Object(n.useState)(null),[f,h]=Object(n.useState)(!1),[A,v]=Object(n.useState)(null),[y,x]=Object(n.useState)(null),[C,k]=Object(n.useState)(null),[w,T]=Object(n.useState)(null),[M,I]=Object(n.useState)(null),[j,N]=Object(n.useState)(null),[R,F]=Object(n.useState)(null),[P,D]=Object(n.useState)(null),[L,B]=Object(n.useState)(null),[W,q]=Object(n.useState)(null),z=(e,a)=>{const t=H[H.length-1].position.y,n=H[H.length-1].position.x+H[H.length-1].width+40;return"start"===e?U(e=>[{id:"1",position:{x:n,y:t},data:{label:"Inicio do fluxo"},type:"start"}]):"text"===e?U(e=>[...e,{id:gb(30),position:{x:n,y:t},data:{label:a.text},type:"message"}]):"interval"===e?U(e=>[...e,{id:gb(30),position:{x:n,y:t},data:{label:`Intervalo ${a.sec} seg.`,sec:a.sec},type:"interval"}]):"condition"===e?U(e=>[...e,{id:gb(30),position:{x:n,y:t},data:{key:a.key,condition:a.condition,value:a.value},type:"condition"}]):"menu"===e?U(e=>[...e,{id:gb(30),position:{x:n,y:t},data:{message:a.message,arrayOption:a.arrayOption},type:"menu"}]):"img"===e?U(e=>[...e,{id:gb(30),position:{x:n,y:t},data:{url:a.url},type:"img"}]):"audio"===e?U(e=>[...e,{id:gb(30),position:{x:n,y:t},data:{url:a.url,record:a.record},type:"audio"}]):"randomizer"===e?U(e=>[...e,{id:gb(30),position:{x:n,y:t},data:{percent:a.percent},type:"randomizer"}]):"video"===e?U(e=>[...e,{id:gb(30),position:{x:n,y:t},data:{url:a.url},type:"video"}]):"singleBlock"===e?U(e=>[...e,{id:gb(30),position:{x:n,y:t},data:{...a},type:"singleBlock"}]):"ticket"===e?U(e=>[...e,{id:gb(30),position:{x:n,y:t},data:{...a},type:"ticket"}]):"typebot"===e?U(e=>[...e,{id:gb(30),position:{x:n,y:t},data:{...a},type:"typebot"}]):"openai"===e?U(e=>[...e,{id:gb(30),position:{x:n,y:t},data:{...a},type:"openai"}]):"question"===e?U(e=>[...e,{id:gb(30),position:{x:n,y:t},data:{...a},type:"question"}]):void 0};Object(n.useEffect)(()=>{i(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("/flowbuilder/flow/"+a);if(null!==e.flow.flow){const a=e.flow.flow.nodes;U(a),G(e.flow.flow.connections);const t=a.filter(e=>"question"===e.type).map(e=>e.data.typebotIntegration.answerKey);localStorage.setItem("variables",JSON.stringify(t))}i(!1)}catch(e){oa(e)}})()},500);return()=>clearTimeout(e)},[a]),Object(n.useEffect)(()=>{if("delete"===t.action&&(U(e=>e.filter(e=>e.id!==t.node)),G(e=>e.filter(e=>e.source!==t.node).filter(e=>e.target!==t.node)),t.setNodesStorage(""),t.setAct("idle")),"duplicate"===t.action){const e=H.filter(e=>e.id===t.node)[0],a=H.map(e=>e.position.x),n=Math.max(...a),l=H[H.length-1].position.y,o={...e,id:gb(30),position:{x:n+240,y:l},selected:!1,style:{backgroundColor:"#555555",padding:0,borderRadius:8}};U(e=>[...e,o]),t.setNodesStorage(""),t.setAct("idle")}},[t.action]);const[H,U,Q]=Object(eE.g)(fb),[V,G,K]=Object(eE.f)(hb),Y=Object(n.useCallback)(e=>G(a=>Object(wE.n)(e,a)),[G]),X=e=>{U(a=>a.map(a=>a.id===e.id?e:a)),b(null),h(null),v(null),B(null),D(null)},J=[{icon:l.a.createElement(sE.a,{sx:{color:"#3ABA38"}}),name:"Inicio",type:"start"},{icon:l.a.createElement(LE.a,{sx:{color:"#EC5858"}}),name:"Conte\xfado",type:"content"},{icon:l.a.createElement(dE.a,{sx:{color:"#683AC8"}}),name:"Menu",type:"menu"},{icon:l.a.createElement(EE.a,{sx:{color:"#1FBADC"}}),name:"Randomizador",type:"random"},{icon:l.a.createElement(Hn.a,{sx:{color:"#F7953B"}}),name:"Intervalo",type:"interval"},{icon:l.a.createElement(ob.a,{sx:{color:"#F7953B"}}),name:"Ticket",type:"ticket"},{icon:l.a.createElement(Gt.a,{component:"img",sx:{width:24,height:24,color:"#3aba38"},src:Jg.a,alt:"icon"}),name:"TypeBot",type:"typebot"},{icon:l.a.createElement(Yg.a,{sx:{color:"#F7953B"}}),name:"OpenAI",type:"openai"},{icon:l.a.createElement(vE.a,{sx:{color:"#F7953B"}}),name:"Pergunta",type:"question"}],Z=async()=>{try{const e={nodes:H,edges:V},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=window.URL.createObjectURL(t),l=document.createElement("a");l.href=n,l.setAttribute("download",`flow-${a}.json`),document.body.appendChild(l),l.click(),l.remove(),S.b.success("Fluxo exportado com sucesso!")}catch(e){oa(e)}};return l.a.createElement(Mn.a,{sx:{height:"100vh"}},l.a.createElement(IE,{open:E,onSave:e=>{z("text",e)},data:d,onUpdate:X,close:b}),l.a.createElement(NE,{open:f,onSave:e=>{z("interval",e)},data:d,onUpdate:X,close:h}),l.a.createElement(DE,{open:A,onSave:e=>{z("menu",e)},data:d,onUpdate:X,close:v}),l.a.createElement(UE,{open:y,onSave:e=>{z("img",e)},data:d,onUpdate:X,close:x}),l.a.createElement(KE,{open:C,onSave:e=>{z("audio",e)},data:d,onUpdate:X,close:k}),l.a.createElement(JE,{open:w,onSave:e=>{z("randomizer",e)},data:d,onUpdate:X,close:T}),l.a.createElement(_E,{open:M,onSave:e=>{z("video",e)},data:d,onUpdate:X,close:I}),l.a.createElement(ab,{open:j,onSave:e=>{z("singleBlock",e)},data:d,onUpdate:X,close:N}),l.a.createElement(VE,{open:R,onSave:e=>{z("ticket",e)},data:d,onUpdate:X,close:F}),l.a.createElement(db,{open:L,onSave:e=>{z("openai",e)},data:d,onUpdate:X,close:B}),l.a.createElement(sb,{open:P,onSave:e=>{z("typebot",e)},data:d,onUpdate:X,close:D}),l.a.createElement(ub,{open:W,onSave:e=>{z("question",e)},data:d,onUpdate:X,close:q}),l.a.createElement(qc,null,l.a.createElement(Uc,null,"Desenhe seu fluxo")),!r&&l.a.createElement(Bt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!p||r)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&c(e=>e+1)}},l.a.createElement(Mn.a,null,l.a.createElement(xE.a,{ariaLabel:"SpeedDial basic example",sx:{position:"absolute",top:16,left:16,".MuiSpeedDial-fab":{backgroundColor:"#0000FF","&:hover":{backgroundColor:"#0000FF"}}},icon:l.a.createElement(CE.a,null),direction:"down"},J.map(e=>l.a.createElement(kE.a,{key:e.name,icon:e.icon,tooltipTitle:e.name,tooltipOpen:!0,tooltipPlacement:"right",onClick:()=>{console.log(e.type),(e=>{switch(e){case"start":z("start");break;case"menu":v("create");break;case"content":N("create");break;case"random":T("create");break;case"interval":h("create");break;case"ticket":F("create");break;case"typebot":D("create");break;case"openai":B("create");break;case"question":q("create");break;case"import":document.getElementById("import-flow-builder").click();break;case"export":Z()}})(e.type)}})))),l.a.createElement(Mn.a,{sx:{position:"absolute",justifyContent:"center",flexDirection:"row",width:"100%"}},l.a.createElement(In.a,{style:{color:"#010101",textShadow:"#010101 1px 0 10px"}},"N\xe3o se esque\xe7a de salvar seu fluxo!")),l.a.createElement(Mn.a,{direction:"row",justifyContent:"end",spacing:1},l.a.createElement("input",{type:"file",id:"import-flow-builder",accept:".json",style:{display:"none"},onChange:e=>{var a;(null===(a=e.target.files)||void 0===a?void 0:a.length)&&((async e=>{try{const a=new FileReader;a.onload=async e=>{const a=JSON.parse(e.target.result);U(a.nodes),G(a.edges),S.b.success("Fluxo importado com sucesso!")},a.readAsText(e)}catch(a){oa(a)}})(e.target.files[0]),e.target.value="")}}),l.a.createElement(kt.a,{sx:{textTransform:"none"},variant:"contained",color:"primary",onClick:()=>document.getElementById("import-flow-builder").click(),startIcon:l.a.createElement(BE.a,null)},"Importar"),l.a.createElement(kt.a,{sx:{textTransform:"none"},variant:"contained",color:"primary",onClick:Z,startIcon:l.a.createElement(WE.a,null)},"Exportar"),l.a.createElement(kt.a,{sx:{textTransform:"none"},variant:"contained",color:"primary",onClick:()=>(async()=>{await u.post("/flowbuilder/flow",{idFlow:a,nodes:H,connections:V}).then(e=>{S.b.success("Fluxo salvo com sucesso")})})()},"Salvar")),l.a.createElement(Mn.a,{direction:"row",style:{width:"100%",height:"90%",position:"relative",display:"flex"}},l.a.createElement(eE.b,{nodes:H,edges:V,deleteKeyCode:["Backspace","Delete"],onNodesChange:Q,onEdgesChange:K,onNodeDoubleClick:(e,a)=>{console.log("NODE",a),m(a),"message"===a.type&&b("edit"),"interval"===a.type&&h("edit"),"menu"===a.type&&v("edit"),"img"===a.type&&x("edit"),"audio"===a.type&&k("edit"),"randomizer"===a.type&&T("edit"),"singleBlock"===a.type&&N("edit"),"ticket"===a.type&&F("edit"),"typebot"===a.type&&D("edit"),"openai"===a.type&&B("edit"),"question"===a.type&&q("edit")},onNodeClick:(e,a)=>{U(e=>e.map(e=>e.id===a.id?{...e,style:{backgroundColor:"#0000FF",padding:1,borderRadius:8}}:{...e,style:{backgroundColor:"#13111C",padding:0,borderRadius:8}}))},onEdgeClick:(e,a)=>{U(e=>e.map(e=>({...e,style:{backgroundColor:"#13111C",padding:0,borderRadius:8}})))},onConnect:Y,nodeTypes:Eb,fitView:!0,connectionLineStyle:{stroke:"#2b2b2b",strokeWidth:"6px"},style:{backgroundColor:"#F8F9FA"},edgeTypes:bb,variant:"cross",defaultEdgeOptions:{style:{color:"#ff0000",strokeWidth:"6px"},animated:!1}},l.a.createElement(TE.b,null),l.a.createElement(OE.a,null),l.a.createElement(SE.a,{variant:"dots",gap:12,size:-1})))),r&&l.a.createElement(Mn.a,{justifyContent:"center",alignItems:"center",height:"70vh"},l.a.createElement(It.a,null)))};Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})),xt.c().shape({name:xt.e().min(2,"Muito curto!").max(50,"Muito longo!").required("Digite um nome!")});var vb=t(1714),yb=t(1715),xb=t(1716),Cb=t(978),kb=t(1768);const wb=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})),Tb=xt.c().shape({name:xt.e().min(2,"Muito curto!").max(50,"Muito longo!").required("Digite um nome!")});var Ob=e=>{let{open:a,onClose:t,flowId:o,nameWebhook:r="",initialValues:i,onSave:s}=e;const c=wb(),d=Object(n.useRef)(!0),[m,p]=Object(n.useState)({name:r});Object(n.useEffect)(()=>()=>{d.current=!1},[]);const g=()=>{t(),p({name:""})};return l.a.createElement("div",{className:c.root},l.a.createElement(Tt.a,{open:a,onClose:g,fullWidth:"md",scroll:"paper"},l.a.createElement(Mt.a,{id:"form-dialog-title"},o?"Editar Fluxo":"Adicionar Fluxo"),l.a.createElement(Ct.e,{initialValues:m,enableReinitialize:!0,validationSchema:Tb,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{if(o)try{await u.put("/flowbuilder",{name:e.name,flowId:o}),s(e.name),g(),S.b.success(aa.a.t("webhookModal.toasts.update"))}catch(a){oa(a)}else try{await u.post("/flowbuilder",{name:e.name}),s(e.name),g(),S.b.success(aa.a.t("webhookModal.saveSuccess"))}catch(a){oa(a)}})(e),a.setSubmitting(!1)},400)}},e=>{let{values:a,errors:t,touched:n,isSubmitting:r}=e;return l.a.createElement(Ct.d,null,l.a.createElement(St.a,{dividers:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("contactModal.form.name"),name:"name",autoFocus:!0,defaultValue:m.name,error:Boolean(t.name),helperText:t.name,variant:"outlined",margin:"dense",className:c.textField,style:{width:"95%"}})),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:g,color:"secondary",disabled:r,variant:"outlined"},aa.a.t("contactModal.buttons.cancel")),l.a.createElement(kt.a,{type:"submit",color:"primary",disabled:r,variant:"contained",className:c.btnWrapper},o?""+aa.a.t("contactModal.buttons.okEdit"):""+aa.a.t("contactModal.buttons.okAdd"),r&&l.a.createElement(It.a,{size:24,className:c.buttonProgress}))))})))};const Sb=(e,a)=>{if("LOAD_CONTACTS"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_CONTACTS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_CONTACT"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},Mb=Object(I.a)(e=>({mainPaper:{flex:1,backgroundColor:e.palette.background.paper,borderRadius:12,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles},searchContainer:{backgroundColor:e.palette.background.paper,padding:e.spacing(1),borderRadius:12,marginBottom:e.spacing(1)},searchInput:{backgroundColor:e.palette.background.default,"& .MuiOutlinedInput-root":{borderRadius:12,"& fieldset":{borderColor:"light"===e.palette.mode?"#e0e0e0":"#424242"},"&:hover fieldset":{borderColor:"light"===e.palette.mode?"#8a8a8a":"#d6d6d6"},"&.Mui-focused fieldset":{borderColor:e.palette.primary.main}}},actionButtons:{marginBottom:e.spacing(1),"& > *":{margin:e.spacing(.5)}},customButton:{backgroundColor:"rgba(4, 197, 188, 0.2)",color:"#01a19a","&:hover":{backgroundColor:"rgba(4, 197, 188, 0.3)",color:"#01a19a"}},tableContainer:{backgroundColor:e.palette.background.paper,borderRadius:12,"& .MuiTableCell-root":{borderBottom:"1px solid "+("light"===e.palette.mode?"#e0e0e0":"#424242")},"& .MuiTableRow-root:hover":{backgroundColor:e.palette.action.hover}}}));var Ib=()=>{const e=Mb(),a=Object(O.useHistory)(),[t,o]=Object(n.useState)(!1),[r,i]=Object(n.useState)(1),[s,c]=Object(n.useState)(""),[d,m]=Object(n.useReducer)(Sb,[]),[p,g]=Object(n.useState)([]),[E,b]=Object(n.useState)(null),[f,h]=Object(n.useState)(null),[A,v]=Object(n.useState)(!1),[y,x]=Object(n.useState)(!1),[C,k]=Object(n.useState)({}),[w,T]=Object(n.useState)(null),[M,I]=Object(n.useState)(!1),[j,N]=Object(n.useState)(!1),[R,F]=Object(n.useState)(!1),[P,D]=Object(n.useState)(!1),{user:L,socket:B}=Object(n.useContext)(ua),[W,q]=Object(n.useState)(null);Object(n.useEffect)(()=>{m({type:"RESET"}),i(1)},[s]),Object(n.useEffect)(()=>{o(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("/flowbuilder");g(e.flows),m({type:"LOAD_CONTACTS",payload:e.flows}),F(e.hasMore),o(!1)}catch(e){oa(e)}})()},500);return()=>clearTimeout(e)},[s,r,P]),Object(n.useEffect)(()=>{const e=L.companyId;return B.on(`company-${e}-contact`,e=>{"update"!==e.action&&"create"!==e.action||m({type:"UPDATE_CONTACTS",payload:e.contact}),"delete"===e.action&&m({type:"DELETE_CONTACT",payload:+e.contactId})}),()=>{B.disconnect()}},[]);const z=async e=>{try{await u.delete("/flowbuilder/"+e).then(e=>{T(null),D(e=>!e)}),S.b.success("Fluxo exclu\xeddo com sucesso")}catch(a){oa(a)}},H=async e=>{try{await u.post("/flowbuilder/duplicate",{flowId:e}).then(e=>{T(null),D(e=>!e)}),S.b.success("Fluxo duplicado com sucesso")}catch(a){oa(a)}},[U,Q]=Object(n.useState)(null),V=Boolean(U),G=()=>{Q(null)};return l.a.createElement(Bc,{className:e.mainContainer},l.a.createElement(Ao,{modalOpen:y,initialContact:C,onClose:e=>{(e=>{x(!1),void 0!==e&&void 0!==e.uuid&&a.push("/tickets/"+e.uuid)})(e)}}),l.a.createElement(Ob,{open:A,onClose:()=>{b(null),v(!1)},"aria-labelledby":"form-dialog-title",flowId:E,nameWebhook:f,onSave:()=>D(e=>!e)}),l.a.createElement(Ir,{title:w?`${aa.a.t("contacts.confirmationModal.deleteTitle")} ${w.name}?`:""+aa.a.t("contacts.confirmationModal.importTitlte"),open:M,onClose:I,onConfirm:e=>w?z(w.id):()=>{}},w?"Tem certeza que deseja deletar este fluxo? Todas as integra\xe7\xf5es relacionados ser\xe3o perdidos.":""+aa.a.t("contacts.confirmationModal.importMessage")),l.a.createElement(Ir,{title:w?`Deseja duplicar o fluxo ${w.name}?`:""+aa.a.t("contacts.confirmationModal.importTitlte"),open:j,onClose:N,onConfirm:e=>w?H(w.id):()=>{}},w?"Tem certeza que deseja duplicar este fluxo?":""+aa.a.t("contacts.confirmationModal.importMessage")),l.a.createElement(qc,null,l.a.createElement(Uc,null,"Fluxos de conversa"),l.a.createElement(Hc,null,l.a.createElement(wt.a,{placeholder:aa.a.t("contacts.searchPlaceholder"),type:"search",value:s,onChange:e=>{c(e.target.value.toLowerCase())},InputProps:{style:{color:"#e5e5e5"},startAdornment:l.a.createElement(fc.a,{position:"start"},l.a.createElement(Lm.a,{style:{color:"gray"}}))}}),l.a.createElement(Eo.a,{variant:"contained",onClick:()=>{b(null),v(!0)},style:{textTransform:"none",backgroundColor:"#0000FF"}},l.a.createElement(Mn.a,{direction:"row",gap:1},l.a.createElement(FE.a,null),"Adicionar Fluxo")))),l.a.createElement(Bt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!R||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:l}=e.currentTarget;n-(a+100)<l&&i(e=>e+1)}},l.a.createElement(Mn.a,null,l.a.createElement(Dn.a,{container:!0,style:{padding:"8px"}},l.a.createElement(Dn.a,{item:!0,xs:4,style:{color:"#1C2E36",fontWeight:500}},aa.a.t("contacts.table.name")),l.a.createElement(Dn.a,{item:!0,xs:4,style:{color:"#1C2E36",fontWeight:500},align:"center"},"Status"),l.a.createElement(Dn.a,{item:!0,xs:4,align:"end",style:{color:"#1C2E36",fontWeight:500}},aa.a.t("contacts.table.actions"))),l.a.createElement(l.a.Fragment,null,p.map(e=>l.a.createElement(Dn.a,{container:!0,key:e.id,sx:{padding:"12px 16px",backgroundColor:e=>e.palette.background.paper,borderRadius:2,marginTop:.5,transition:"all 0.3s ease",cursor:"pointer",border:"1px solid transparent","&:hover":{backgroundColor:e=>e.palette.action.hover,transform:"translateY(-1px)",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",borderColor:"#01a19a20"}}},l.a.createElement(Dn.a,{item:!0,xs:4,onClick:()=>a.push("/flowbuilder/"+e.id)},l.a.createElement(Mn.a,{justifyContent:"center",height:"100%",sx:{color:"#1C2E36"}},l.a.createElement(Mn.a,{direction:"row",alignItems:"center",spacing:2},l.a.createElement(vb.a,{sx:{color:"#01a19a",backgroundColor:"#01a19a10",padding:"8px",borderRadius:"12px"}}),l.a.createElement(Mn.a,null,l.a.createElement(In.a,{variant:"subtitle1",fontWeight:500},e.name),l.a.createElement(In.a,{variant:"caption",color:"text.secondary"},"Criado em: ",new Date(e.createdAt).toLocaleDateString()))))),l.a.createElement(Dn.a,{item:!0,xs:4,align:"center",onClick:()=>a.push("/flowbuilder/"+e.id)},l.a.createElement(Mn.a,{justifyContent:"center",height:"100%"},l.a.createElement(Mn.a,{direction:"row",spacing:1,alignItems:"center",justifyContent:"center"},l.a.createElement(Sn.a,{sx:{px:2,py:.5,borderRadius:"16px",backgroundColor:e.active?"#01a19a20":"#ff000020",color:e.active?"#01a19a":"#ff0000",fontSize:"0.875rem",fontWeight:500,display:"flex",alignItems:"center",gap:"6px"}},l.a.createElement(Sn.a,{sx:{width:8,height:8,borderRadius:"50%",backgroundColor:e.active?"#01a19a":"#ff0000"}}),e.active?"Ativo":"Desativado")))),l.a.createElement(Dn.a,{item:!0,xs:4,align:"end"},l.a.createElement(Eo.a,{id:"basic-button","aria-controls":V?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":V?"true":void 0,onClick:a=>{Q(a.currentTarget),T(e)},sx:{borderRadius:"12px",minWidth:"40px",height:"40px",backgroundColor:"#01a19a10","&:hover":{backgroundColor:"#01a19a20"}}},l.a.createElement(yb.a,{sx:{color:"#01a19a",width:"24px",height:"24px"}}))))),l.a.createElement(Cb.a,{id:"basic-menu",anchorEl:U,open:V,sx:{"& .MuiPaper-root":{borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",backgroundColor:e=>e.palette.background.paper},"& .MuiMenuItem-root":{padding:"10px 20px",gap:"8px",borderRadius:"8px",margin:"2px 4px","&:hover":{backgroundColor:"rgba(1, 161, 154, 0.1)"}}},onClose:G,MenuListProps:{"aria-labelledby":"basic-button"}},l.a.createElement(RE.a,{onClick:()=>{G(),b(w.id),h(w.name),v(!0)}},l.a.createElement(Wm.a,{sx:{fontSize:20,color:"#1C2E36"}}),"Editar nome"),l.a.createElement(RE.a,{onClick:()=>{G(),a.push("/flowbuilder/"+w.id)}},l.a.createElement(xb.a,{sx:{fontSize:20,color:"#1C2E36"}}),"Editar fluxo"),l.a.createElement(RE.a,{onClick:()=>{G(),N(!0)}},l.a.createElement(Zg.a,{sx:{fontSize:20,color:"#1C2E36"}}),"Duplicar"),l.a.createElement(RE.a,{onClick:()=>{G(),I(!0)}},l.a.createElement(ao.a,{sx:{fontSize:20,color:"#f44336"}}),"Excluir")),t&&l.a.createElement(Mn.a,{justifyContent:"center",alignItems:"center",minHeight:"50vh"},l.a.createElement(kb.a,null))))))},jb=t(1727),Nb=t(1746);Object(I.a)(e=>({mainPaper:{flex:1,backgroundColor:"#ffff",borderRadius:12,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var Rb=t(1717);const Fb=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var Pb=e=>{let{open:a,onClose:t,FlowCampaignId:o,onSave:r}=e;const i=Fb(),{user:s}=(Object(n.useRef)(!0),Object(n.useContext)(ua)),{companyId:c}=s,[d,m]=Object(n.useState)(!0),p=Object(n.useRef)(null),[g,E]=Object(n.useState)({name:"",phrase:""}),[b,f]=Object(n.useState)({name:!1,flowId:!1,phrase:!1}),[h,A]=Object(n.useState)(),[v,y]=Object(n.useState)([]),[x,C]=Object(n.useState)([]),[k,w]=Object(n.useState)(""),[T,O]=Object(n.useState)([]),[M,I]=Object(n.useState)([]),[j,N]=Object(n.useState)({}),[R,F]=Object(n.useState)(!0),[P,D]=Object(n.useState)(!0),L=async()=>{const e=await(async()=>{const e=await u.get("/flowbuilder");return C(e.data.flows),y(e.data.flows.map(e=>e.name)),e.data.flows})();o?await(async e=>{D(!0),await u.get("/flowcampaign/"+o).then(a=>{console.log("dete",a.data),E({name:a.data.details.name,phrase:a.data.details.phrase}),F(a.data.details.status);const t=e.filter(e=>e.id===a.data.details.flowId);t.length>0&&A(t[0].name),D(!1)})})(e):(B(),D(!1))};Object(n.useEffect)(()=>{D(!0);const e=setTimeout(()=>{(async()=>{u.get("/whatsapp",{params:{companyId:c,session:0}}).then(e=>{let{data:a}=e;I(a)})})(),D(!1)},500);return()=>clearTimeout(e)},[]),Object(n.useEffect)(()=>{D(!0),!0===a&&L()},[a]);const B=()=>{A(),E({name:"",phrase:""})},W=()=>{let e=0;if(""!==g.name&&0!==g.name.length||(f(e=>({...e,name:!0})),e++),h||(f(e=>({...e,flowId:!0})),e++),""!==g.phrase&&0!==g.phrase.length||(f(e=>({...e,phrase:!0})),e++),k||f(e=>({...e,whatsappId:!0})),0!==e)return;const a=x.filter(e=>e.name===h)[0].id,n=""!==k?k:null;o?(u.put("/flowcampaign",{id:o,name:g.name,flowId:a,whatsappId:n,phrase:g.phrase,status:R}),t(),r("ok"),S.b.success("Frase alterada com sucesso!"),B()):(u.post("/flowcampaign",{name:g.name,flowId:a,whatsappId:n,phrase:g.phrase}),t(),r("ok"),S.b.success("Frase criada com sucesso!"),B())};return l.a.createElement("div",{className:i.root},l.a.createElement(Tt.a,{open:a,onClose:()=>{t()},fullWidth:!0,maxWidth:"md",scroll:"paper"},l.a.createElement(Mt.a,{id:"form-dialog-title"},d?l.a.createElement(l.a.Fragment,null,o?"Editar campanha com fluxo por frase":"Nova campanha com fluxo por frase"):l.a.createElement(l.a.Fragment,null,""+aa.a.t("campaigns.dialog.readonly"))),l.a.createElement("div",{style:{display:"none"}},l.a.createElement("input",{type:"file",ref:p})),!P&&l.a.createElement(Mn.a,{sx:{padding:"52px"}},l.a.createElement(Mn.a,{sx:{gap:"14px"}},l.a.createElement(Mn.a,{gap:1},l.a.createElement(z.a,null,"Nome do disparo por frase"),l.a.createElement(wt.a,{label:"",name:"text",variant:"outlined",error:b.name,defaultValue:g.name,margin:"dense",onChange:e=>{E(a=>{let t=a;return t.name=e.target.value,t})},className:i.textField,style:{width:"100%"}})),l.a.createElement(Mn.a,{gap:1},l.a.createElement(z.a,null,"Escolha um fluxo"),l.a.createElement(jb.a,{disablePortal:!0,id:"combo-box-demo",value:h,error:b.flowId,defaultValue:h,options:v,onChange:(e,a)=>{A(a)},sx:{width:"100%"},renderInput:e=>l.a.createElement(wt.a,Object.assign({},e,{error:b.flowId,variant:"outlined",style:{width:"100%"},placeholder:"Escolha um fluxo"})),renderTags:(e,a)=>e.map((e,t)=>l.a.createElement(Nb.a,Object.assign({variant:"outlined",label:e},a({index:t}),{style:{borderRadius:"8px"}})))})),l.a.createElement(Mn.a,{gap:1},l.a.createElement(jt.a,{required:!0,fullWidth:!0,displayEmpty:!0,variant:"outlined",value:k,onChange:e=>{w(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:()=>{if(""===k)return"Selecione uma Conex\xe3o";return M.find(e=>e.id===k).name}},(null===M||void 0===M?void 0:M.length)>0&&M.map((e,a)=>l.a.createElement(Q.a,{dense:!0,key:a,value:e.id},l.a.createElement(ee.a,{primary:l.a.createElement(l.a.Fragment,null,l.a.createElement(z.a,{component:"span",style:{fontSize:14,marginLeft:"10px",display:"inline-flex",alignItems:"center",lineHeight:"2"}},e.name," \xa0 ",l.a.createElement("p",{className:"CONNECTED"===e.status?i.online:i.offline},"(",e.status,")")))}))))),l.a.createElement(Mn.a,{gap:1},l.a.createElement(z.a,null,"Qual frase dispara o fluxo?"),l.a.createElement(wt.a,{label:"",name:"text",variant:"outlined",error:b.phrase,defaultValue:g.phrase,margin:"dense",onChange:e=>{E(a=>{let t=a;return t.phrase=e.target.value,t})},className:i.textField,style:{width:"100%"}})),l.a.createElement(Mn.a,{direction:"row",gap:2},l.a.createElement(Mn.a,{justifyContent:"center"},l.a.createElement(z.a,null,"Status")),l.a.createElement(zs.a,{checked:R,onChange:()=>F(e=>!e)}))),l.a.createElement(Mn.a,{direction:"row",spacing:2,alignSelf:"end",marginTop:"16px"},l.a.createElement(kt.a,{variant:"outlined",onClick:()=>{t(),f({name:!1,flowId:!1,whatsappId:!1,phrase:!1})}},"Cancelar"),o?l.a.createElement(kt.a,{variant:"contained",color:"primary",onClick:()=>W()},"Salvar campanha"):l.a.createElement(kt.a,{variant:"contained",color:"primary",onClick:()=>W()},"Criar campanha"))),P&&l.a.createElement(Mn.a,{justifyContent:"center",alignItems:"center",minHeight:"10vh",sx:{padding:"52px"}},l.a.createElement(It.a,null))))};const Db=Object(I.a)(e=>({mainPaper:{flex:1,backgroundColor:"#2a273b",borderRadius:12,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var Lb=()=>{const e=Db(),{user:a}=(Object(O.useHistory)(),Object(n.useContext)(ua)),[t,o]=Object(n.useState)(!0),[r,i]=Object(n.useState)(1),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(null),[p,g]=Object(n.useState)(null),[E,b]=Object(n.useState)(!1),[f,h]=Object(n.useState)(!1),[A,v]=Object(n.useState)(""),[y,x]=Object(n.useState)(!1),[C,k]=Object(n.useState)(null),[w,T]=Object(n.useState)([]),[M,I]=Object(n.useState)(!1),[j,N]=Object(n.useState)(),R=async()=>{o(!0),await u.get("/flowcampaign").then(e=>{T(e.data.flow),o(!1)})};return Object(n.useEffect)(()=>{R()},[]),l.a.createElement(Bc,null,l.a.createElement(Ir,{title:p&&`${aa.a.t("campaigns.confirmationModal.deleteTitle")} ${p.name}?`,open:f,onClose:h,onConfirm:()=>(async e=>{try{await u.delete("/flowcampaign/"+e),S.b.success("Frase deletada"),R()}catch(a){oa(a)}})(C.id)},aa.a.t("campaigns.confirmationModal.deleteMessage")),l.a.createElement(Pb,{open:M,onClose:()=>I(!1),FlowCampaignId:j,onSave:()=>{R()}}),l.a.createElement(qc,null,l.a.createElement(Dn.a,{style:{width:"99.6%"},container:!0},l.a.createElement(Dn.a,{xs:12,sm:8,item:!0},l.a.createElement(Uc,null,"Campanhas")),l.a.createElement(Dn.a,{xs:12,sm:4,item:!0},l.a.createElement(Dn.a,{spacing:2,container:!0},l.a.createElement(Dn.a,{xs:6,sm:6,item:!0}),l.a.createElement(Dn.a,{xs:6,sm:6,item:!0},l.a.createElement(kt.a,{fullWidth:!0,variant:"contained",onClick:()=>{N(),I(!0)},color:"primary",style:{textTransform:"none"}},l.a.createElement(Mn.a,{direction:"row",gap:1},l.a.createElement(FE.a,null),"Campanha"))))))),l.a.createElement(Bt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!s||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:l}=e.currentTarget}},l.a.createElement(Mn.a,null,l.a.createElement(Dn.a,{container:!0,style:{padding:"8px"}},l.a.createElement(Dn.a,{item:!0,xs:4,style:{color:"#ededed"}},"Nome"),l.a.createElement(Dn.a,{item:!0,xs:4,style:{color:"#ededed"},align:"center"},"Status"),l.a.createElement(Dn.a,{item:!0,xs:4,align:"end",style:{color:"#ededed"}},aa.a.t("contacts.table.actions"))),l.a.createElement(l.a.Fragment,null,!t&&w.map(e=>l.a.createElement(Dn.a,{container:!0,key:e.id,sx:{padding:"8px",backgroundColor:"#0000FF",borderRadius:4,marginTop:.5,"&:hover":{backgroundColor:"#07074a"}}},l.a.createElement(Dn.a,{item:!0,xs:4},l.a.createElement(Mn.a,{justifyContent:"center",height:"100%",style:{color:"#ededed"}},l.a.createElement(Mn.a,{direction:"row"},l.a.createElement(Rb.a,null),l.a.createElement(Mn.a,{justifyContent:"center",marginLeft:1},e.name)))),l.a.createElement(Dn.a,{item:!0,xs:4,align:"center",style:{color:"#ededed"}},l.a.createElement(Mn.a,{justifyContent:"center",height:"100%"},e.status?"Ativo":"Desativado")),l.a.createElement(Dn.a,{item:!0,xs:4,align:"end"},l.a.createElement(D.a,{size:"small",onClick:()=>{N(e.id),I(!0)}},l.a.createElement(Wm.a,{style:{color:"#ededed"}})),l.a.createElement(Aa,{role:a.profile,perform:"contacts-page:deleteContact",yes:()=>l.a.createElement(D.a,{size:"small",onClick:a=>{h(!0),k(e)}},l.a.createElement(ao.a,{style:{color:"#ededed"}}))})))),t&&l.a.createElement(Mn.a,{justifyContent:"center",alignItems:"center",minHeight:"50vh"},l.a.createElement(kb.a,null))))))};const Bb=Object(I.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var Wb=()=>{var e,a;const t=Bb(),{user:o,socket:r}=Object(n.useContext)(ua),[i]=Object(n.useState)(!1),[,s]=Object(n.useState)(1),[c,d]=Object(n.useState)(null),[m,u]=Object(n.useState)(!1),[p]=Object(n.useState)(!1),[g,E]=Object(n.useState)(""),{returnDays:b}=un();return Object(n.useEffect)(()=>{const e=localStorage.getItem("dueDate");""!==e&&"null"!==e&&E(da()(e).format("DD/MM/YYYY"))},[]),l.a.createElement(Bc,{className:t.mainContainer},l.a.createElement(Nm,{open:m,onClose:()=>{d(null),u(!1)},"aria-labelledby":"form-dialog-title",contactId:c}),l.a.createElement(qc,null,l.a.createElement(Uc,null,"Assinatura")),l.a.createElement(ht.a,{item:!0,xs:12,sm:4},l.a.createElement(Bt.a,{className:t.mainPaper,variant:"outlined",onScroll:e=>{if(!p||i)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&s(e=>e+1)}},l.a.createElement("div",null,l.a.createElement(wt.a,{id:"outlined-full-width",label:"Per\xedodo de Licen\xe7a",defaultValue:0===b(null===o||void 0===o||null===(e=o.company)||void 0===e?void 0:e.dueDate)?"Sua licen\xe7a vence em hoje!":`Sua licen\xe7a vence em ${b(null===o||void 0===o||null===(a=o.company)||void 0===a?void 0:a.dueDate)} dias!`,fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},InputProps:{readOnly:!0},variant:"outlined"})),l.a.createElement("div",null,l.a.createElement(wt.a,{id:"outlined-full-width",label:"Email de cobran\xe7a",defaultValue:null===o||void 0===o?void 0:o.email,fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},InputProps:{readOnly:!0},variant:"outlined"})),l.a.createElement("div",null,l.a.createElement(kt.a,{variant:"contained",color:"primary",onClick:()=>{d(null),u(!0)},fullWidth:!0},"Assine Agora!")))))},qb=t.p+"static/media/n8n.55dcf941.png",zb=t(968),Hb=t.n(zb),Ub=t.p+"static/media/webhook.20ba7126.png",Qb=t(969),Vb=t.n(Qb),Gb=t.p+"static/media/flowbuilders.5301f11e.png";const Kb=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap",gap:4},textField:{marginRight:e.spacing(1),flex:1},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},btnLeft:{display:"flex",marginRight:"auto",marginLeft:12},colorAdorment:{width:20,height:20}})),Yb=xt.c().shape({name:xt.e().min(2,"Too Short!").max(50,"Too Long!").required("Required")});var Xb=e=>{let{open:a,onClose:t,integrationId:o}=e;const r=Kb(),i={type:"typebot",name:"",projectName:"",jsonContent:"",language:"",urlN8N:"",typebotDelayMessage:1e3,typebotExpires:1,typebotKeywordFinish:"",typebotKeywordRestart:"",typebotRestartMessage:"",typebotSlug:"",typebotUnknownMessage:""},[s,c]=Object(n.useState)(i);Object(n.useEffect)(()=>((async()=>{if(o)try{const{data:e}=await u.get("/queueIntegration/"+o);c(a=>({...a,...e}))}catch(e){oa(e)}})(),()=>{c({type:"dialogflow",name:"",projectName:"",jsonContent:"",language:"",urlN8N:"",typebotDelayMessage:1e3})}),[o,a]);const d=()=>{t(),c(i)};return l.a.createElement("div",{className:r.root},l.a.createElement(Tt.a,{open:a,onClose:d,fullWidth:!0,maxWidth:"md",scroll:"paper"},l.a.createElement(Mt.a,null,o?""+aa.a.t("queueIntegrationModal.title.edit"):""+aa.a.t("queueIntegrationModal.title.add")),l.a.createElement(Ct.e,{initialValues:s,enableReinitialize:!0,validationSchema:Yb,onSubmit:(e,a,t)=>{setTimeout(()=>{(async e=>{try{"n8n"!==e.type&&"webhook"!==e.type&&"typebot"!==e.type&&"flowbuilder"!==e.type||(e.projectName=e.name),o?(await u.put("/queueIntegration/"+o,e),S.b.success(aa.a.t("queueIntegrationModal.messages.editSuccess"))):(await u.post("/queueIntegration",e),S.b.success(aa.a.t("queueIntegrationModal.messages.addSuccess"))),d()}catch(a){oa(a)}})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,values:i}=e;return l.a.createElement(Ct.d,null,l.a.createElement(Bt.a,{square:!0,className:r.mainPaper,elevation:1},l.a.createElement(St.a,{dividers:!0},l.a.createElement(ht.a,{container:!0,spacing:1},l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Rt.a,{variant:"outlined",className:r.formControl,margin:"dense",fullWidth:!0},l.a.createElement(Nt.a,{id:"type-selection-input-label"},aa.a.t("queueIntegrationModal.form.type")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("queueIntegrationModal.form.type"),name:"type",labelId:"profile-selection-label",error:a.type&&Boolean(t.type),helpertext:a.type&&t.type,id:"type",required:!0},l.a.createElement(Q.a,{value:"dialogflow"},"DialogFlow"),l.a.createElement(Q.a,{value:"n8n"},"N8N"),l.a.createElement(Q.a,{value:"webhook"},"WebHooks"),l.a.createElement(Q.a,{value:"typebot"},"Typebot"),l.a.createElement(Q.a,{value:"flowbuilder"},"Flowbuilder")))),"dialogflow"===i.type&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("queueIntegrationModal.form.name"),autoFocus:!0,name:"name",fullWidth:!0,error:a.name&&Boolean(t.name),helpertext:a.name&&t.name,variant:"outlined",margin:"dense",className:r.textField})),l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Rt.a,{variant:"outlined",className:r.formControl,margin:"dense",fullWidth:!0},l.a.createElement(Nt.a,{id:"language-selection-input-label"},aa.a.t("queueIntegrationModal.form.language")),l.a.createElement(Ct.b,{as:jt.a,label:aa.a.t("queueIntegrationModal.form.language"),name:"language",labelId:"profile-selection-label",fullWidth:!0,error:a.language&&Boolean(t.language),helpertext:a.language&&t.language,id:"language-selection",required:!0},l.a.createElement(Q.a,{value:"pt-BR"},"Portugues"),l.a.createElement(Q.a,{value:"en"},"Ingl\xeas"),l.a.createElement(Q.a,{value:"es"},"Espa\xf1ol")))),l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("queueIntegrationModal.form.projectName"),name:"projectName",error:a.projectName&&Boolean(t.projectName),helpertext:a.projectName&&t.projectName,fullWidth:!0,variant:"outlined",margin:"dense"})),l.a.createElement(ht.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("queueIntegrationModal.form.jsonContent"),type:"jsonContent",multiline:!0,maxRows:5,minRows:5,fullWidth:!0,name:"jsonContent",error:a.jsonContent&&Boolean(t.jsonContent),helpertext:a.jsonContent&&t.jsonContent,variant:"outlined",margin:"dense"}))),("n8n"===i.type||"webhook"===i.type)&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("queueIntegrationModal.form.name"),autoFocus:!0,required:!0,name:"name",error:a.name&&Boolean(t.name),helpertext:a.name&&t.name,variant:"outlined",margin:"dense",fullWidth:!0,className:r.textField})),l.a.createElement(ht.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("queueIntegrationModal.form.urlN8N"),name:"urlN8N",error:a.urlN8N&&Boolean(t.urlN8N),helpertext:a.urlN8N&&t.urlN8N,variant:"outlined",margin:"dense",required:!0,fullWidth:!0,className:r.textField}))),"flowbuilder"===i.type&&l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("queueIntegrationModal.form.name"),autoFocus:!0,name:"name",fullWidth:!0,error:a.name&&Boolean(t.name),helpertext:a.name&&t.name,variant:"outlined",margin:"dense",className:r.textField})),"typebot"===i.type&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("queueIntegrationModal.form.name"),autoFocus:!0,name:"name",error:a.name&&Boolean(t.name),helpertext:a.name&&t.name,variant:"outlined",margin:"dense",required:!0,fullWidth:!0,className:r.textField})),l.a.createElement(ht.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("queueIntegrationModal.form.urlN8N"),name:"urlN8N",error:a.urlN8N&&Boolean(t.urlN8N),helpertext:a.urlN8N&&t.urlN8N,variant:"outlined",margin:"dense",required:!0,fullWidth:!0,className:r.textField})),l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("queueIntegrationModal.form.typebotSlug"),name:"typebotSlug",error:a.typebotSlug&&Boolean(t.typebotSlug),helpertext:a.typebotSlug&&t.typebotSlug,required:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:r.textField})),l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("queueIntegrationModal.form.typebotExpires"),name:"typebotExpires",error:a.typebotExpires&&Boolean(t.typebotExpires),helpertext:a.typebotExpires&&t.typebotExpires,variant:"outlined",margin:"dense",fullWidth:!0,className:r.textField})),l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("queueIntegrationModal.form.typebotDelayMessage"),name:"typebotDelayMessage",error:a.typebotDelayMessage&&Boolean(t.typebotDelayMessage),helpertext:a.typebotDelayMessage&&t.typebotDelayMessage,variant:"outlined",margin:"dense",fullWidth:!0,className:r.textField})),l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("queueIntegrationModal.form.typebotKeywordFinish"),name:"typebotKeywordFinish",error:a.typebotKeywordFinish&&Boolean(t.typebotKeywordFinish),helpertext:a.typebotKeywordFinish&&t.typebotKeywordFinish,variant:"outlined",margin:"dense",fullWidth:!0,className:r.textField})),l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("queueIntegrationModal.form.typebotKeywordRestart"),name:"typebotKeywordRestart",error:a.typebotKeywordRestart&&Boolean(t.typebotKeywordRestart),helpertext:a.typebotKeywordRestart&&t.typebotKeywordRestart,variant:"outlined",margin:"dense",fullWidth:!0,className:r.textField})),l.a.createElement(ht.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("queueIntegrationModal.form.typebotUnknownMessage"),name:"typebotUnknownMessage",error:a.typebotUnknownMessage&&Boolean(t.typebotUnknownMessage),helpertext:a.typebotUnknownMessage&&t.typebotUnknownMessage,variant:"outlined",margin:"dense",fullWidth:!0,className:r.textField})),l.a.createElement(ht.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("queueIntegrationModal.form.typebotRestartMessage"),name:"typebotRestartMessage",error:a.typebotRestartMessage&&Boolean(t.typebotRestartMessage),helpertext:a.typebotRestartMessage&&t.typebotRestartMessage,variant:"outlined",margin:"dense",fullWidth:!0,className:r.textField})))))),l.a.createElement(Ot.a,null,"dialogflow"===i.type&&l.a.createElement(kt.a,{onClick:e=>(async(e,a)=>{try{const{projectName:e,jsonContent:t,language:n}=a;await u.post("/queueIntegration/testSession",{projectName:e,jsonContent:t,language:n}),S.b.success(aa.a.t("queueIntegrationModal.messages.testSuccess"))}catch(t){oa(t)}})(0,i),color:"inherit",disabled:n,name:"testSession",variant:"outlined",className:r.btnLeft},aa.a.t("queueIntegrationModal.buttons.test")),l.a.createElement(kt.a,{onClick:d,color:"secondary",disabled:n,variant:"outlined"},aa.a.t("queueIntegrationModal.buttons.cancel")),l.a.createElement(kt.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:r.btnWrapper},o?""+aa.a.t("queueIntegrationModal.buttons.okEdit"):""+aa.a.t("queueIntegrationModal.buttons.okAdd"),n&&l.a.createElement(It.a,{size:24,className:r.buttonProgress}))))})))};const Jb=(e,a)=>{if("LOAD_INTEGRATIONS"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_INTEGRATIONS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_INTEGRATION"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},Zb=Object(I.a)(e=>({mainPaper:{flex:1,padding:e.spacing(2),margin:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles},avatar:{width:"140px",height:"40px",borderRadius:4}}));var _b=()=>{const e=Zb(),[a,t]=Object(n.useState)(!1),[o,r]=Object(n.useState)(1),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(null),[m,p]=Object(n.useState)(null),[g,E]=Object(n.useState)(!1),[b,f]=Object(n.useState)(!1),[h,A]=Object(n.useState)(""),[v,y]=Object(n.useReducer)(Jb,[]),{user:x,socket:C}=Object(n.useContext)(ua),{getPlanCompany:k}=va(),w=x.companyId,T=Object(ld.useHistory)();Object(n.useEffect)(()=>{!async function(){(await k(void 0,w)).plan.useIntegrations||(S.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{T.push("/")},1e3))}()},[]),Object(n.useEffect)(()=>{y({type:"RESET"}),r(1)},[h]),Object(n.useEffect)(()=>{t(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("/queueIntegration/",{params:{searchParam:h,pageNumber:o}});y({type:"LOAD_INTEGRATIONS",payload:e.queueIntegrations}),s(e.hasMore),t(!1)}catch(e){oa(e)}})()},500);return()=>clearTimeout(e)},[h,o]),Object(n.useEffect)(()=>{const e=e=>{"update"!==e.action&&"create"!==e.action||y({type:"UPDATE_INTEGRATIONS",payload:e.queueIntegration}),"delete"===e.action&&y({type:"DELETE_INTEGRATION",payload:+e.integrationId})};return C.on(`company-${w}-queueIntegration`,e),()=>{C.off(`company-${w}-queueIntegration`,e)}},[]);return l.a.createElement(Bc,null,l.a.createElement(Ir,{title:m&&`${aa.a.t("queueIntegration.confirmationModal.deleteTitle")} ${m.name}?`,open:b,onClose:f,onConfirm:()=>(async e=>{try{await u.delete("/queueIntegration/"+e),S.b.success(aa.a.t("queueIntegration.toasts.deleted"))}catch(a){oa(a)}p(null),A(""),r(1)})(m.id)},aa.a.t("queueIntegration.confirmationModal.deleteMessage")),l.a.createElement(Xb,{open:g,onClose:()=>{d(null),E(!1)},"aria-labelledby":"form-dialog-title",integrationId:c&&c.id}),"user"===x.profile?l.a.createElement(Tl,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(qc,null,l.a.createElement(Uc,null,aa.a.t("queueIntegration.title")," (",v.length,")"),l.a.createElement(Hc,null,l.a.createElement(wt.a,{placeholder:aa.a.t("queueIntegration.searchPlaceholder"),type:"search",value:h,onChange:e=>{A(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(fc.a,{position:"start"},l.a.createElement(Lm.a,{color:"secondary"}))}}),l.a.createElement(kt.a,{variant:"contained",color:"primary",onClick:()=>{d(null),E(!0)}},aa.a.t("queueIntegration.buttons.add")))),l.a.createElement(Bt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!i||a)return;const{scrollTop:t,scrollHeight:n,clientHeight:l}=e.currentTarget;n-(t+100)<l&&r(e=>e+1)}},l.a.createElement(Gn.a,{size:"small"},l.a.createElement(Jn.a,null,l.a.createElement(Zn.a,null,l.a.createElement(Yn.a,{padding:"checkbox"}),l.a.createElement(Yn.a,{align:"center"},aa.a.t("queueIntegration.table.id")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("queueIntegration.table.name")))),l.a.createElement(Kn.a,null,l.a.createElement(l.a.Fragment,null,v.map(a=>l.a.createElement(Zn.a,{key:a.id},l.a.createElement(Yn.a,null,"dialogflow"===a.type&&l.a.createElement(R.a,{src:Hb.a,className:e.avatar}),"n8n"===a.type&&l.a.createElement(R.a,{src:qb,className:e.avatar}),"webhook"===a.type&&l.a.createElement(R.a,{src:Ub,className:e.avatar}),"typebot"===a.type&&l.a.createElement(R.a,{src:Vb.a,className:e.avatar}),"flowbuilder"===a.type&&l.a.createElement(R.a,{src:Gb,className:e.avatar})),l.a.createElement(Yn.a,{align:"center"},a.id),l.a.createElement(Yn.a,{align:"center"},a.name),l.a.createElement(Yn.a,{align:"center"},l.a.createElement(D.a,{size:"small",onClick:()=>(e=>{d(e),E(!0)})(a)},l.a.createElement(Rc.a,{color:"secondary"})),l.a.createElement(D.a,{size:"small",onClick:e=>{f(!0),p(a)}},l.a.createElement(Fc.a,{color:"secondary"}))))),a&&l.a.createElement(Vc,{columns:7})))))))};const $b=Object(I.a)(e=>({root:{display:"flex",flexWrap:"wrap",gap:4},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:La.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:2e3},colorAdorment:{width:20,height:20}})),ef=xt.c().shape({name:xt.e().min(3,"nome muito curto").required("Obrigat\xf3rio"),message:xt.e().required("Obrigat\xf3rio")});var af=e=>{let{open:a,onClose:t,fileListId:o,reload:r}=e;const i=$b(),{user:s}=Object(n.useContext)(ua),[c,d]=Object(n.useState)([]),[m,p]=Object(n.useState)([]),g={name:"",message:"",options:[{name:"",path:"",mediaType:""}]},[E,b]=Object(n.useState)(g);Object(n.useEffect)(()=>{try{(async()=>{if(!o)return;const{data:e}=await u.get("/files/"+o);b(e)})()}catch(e){oa(e)}},[o,a]);const f=()=>{b(g),d([]),t()};return l.a.createElement("div",{className:i.root},l.a.createElement(Tt.a,{open:a,onClose:f,maxWidth:"md",fullWidth:!0,scroll:"paper"},l.a.createElement(Mt.a,{id:"form-dialog-title"},o?""+aa.a.t("fileModal.title.edit"):""+aa.a.t("fileModal.title.add")),l.a.createElement(Ct.e,{initialValues:E,enableReinitialize:!0,validationSchema:ef,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a=async(e,a,t)=>{const n=new FormData;n.append("fileId",t),n.append("typeArch","fileList"),a.forEach((a,t)=>{a.file&&(n.append("files",a.file),n.append("mediaType",a.file.type),n.append("name",e[t].name),n.append("id",e[t].id))});try{const{data:e}=await u.post("/files/uploadList/"+t,n);return d([]),e}catch(l){oa(l)}return null},t={...e,userId:s.id};try{if(o){const{data:n}=await u.put("/files/"+o,t);n.options.length>0&&a(n.options,e.options,o)}else{const{data:n}=await u.post("/files",t);n.options.length>0&&a(n.options,e.options,n.id)}S.b.success(aa.a.t("fileModal.success")),"function"==typeof r&&r()}catch(n){oa(n)}f()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,values:r}=e;return l.a.createElement(Ct.d,null,l.a.createElement(St.a,{dividers:!0},l.a.createElement("div",{className:i.multFieldLine},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("fileModal.form.name"),name:"name",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:"outlined",margin:"dense",fullWidth:!0})),l.a.createElement("br",null),l.a.createElement("div",{className:i.multFieldLine},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("fileModal.form.message"),type:"message",multiline:!0,minRows:5,fullWidth:!0,name:"message",error:a.message&&Boolean(t.message),helperText:a.message&&t.message,variant:"outlined",margin:"dense"})),l.a.createElement(z.a,{style:{marginBottom:8,marginTop:12},variant:"subtitle1"},aa.a.t("fileModal.form.fileOptions")),l.a.createElement(Ct.c,{name:"options"},e=>{let{push:a,remove:t}=e;return l.a.createElement(l.a.Fragment,null,r.options&&r.options.length>0&&r.options.map((e,a)=>l.a.createElement("div",{className:i.extraAttr,key:a+"-info"},l.a.createElement(ht.a,{container:!0,spacing:0},l.a.createElement(ht.a,{xs:6,md:10,item:!0},l.a.createElement(Ct.b,{as:wt.a,label:aa.a.t("fileModal.form.extraName"),name:`options[${a}].name`,variant:"outlined",margin:"dense",multiline:!0,fullWidth:!0,minRows:2,className:i.textField})),l.a.createElement(ht.a,{xs:2,md:2,item:!0,style:{display:"flex",alignItems:"center",justifyContent:"flex-end"}},l.a.createElement("input",{type:"file",onChange:e=>{const t=e.target.files[0],n=[...r.options];n[a].file=t,d("options",n);const l=[...m];l[a]=t?t.name:"",p(l)},style:{display:"none"},name:`options[${a}].file`,id:"file-upload-"+a}),l.a.createElement("label",{htmlFor:"file-upload-"+a},l.a.createElement(D.a,{component:"span"},l.a.createElement(qi.a,null))),l.a.createElement(D.a,{size:"small",onClick:()=>t(a)},l.a.createElement(ao.a,null))),l.a.createElement(ht.a,{xs:12,md:12,item:!0},e.path?e.path:m[a])))),l.a.createElement("div",{className:i.extraAttr},l.a.createElement(kt.a,{style:{flex:1,marginTop:8},variant:"outlined",color:"primary",onClick:()=>{a({name:"",path:""}),p([...m,""])}},"+ "+aa.a.t("fileModal.buttons.fileOptions"))))})),l.a.createElement(Ot.a,null,l.a.createElement(kt.a,{onClick:f,color:"secondary",disabled:n,variant:"outlined"},aa.a.t("fileModal.buttons.cancel")),l.a.createElement(kt.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:i.btnWrapper},o?""+aa.a.t("fileModal.buttons.okEdit"):""+aa.a.t("fileModal.buttons.okAdd"),n&&l.a.createElement(It.a,{size:24,className:i.buttonProgress}))))})))};const tf=(e,a)=>{if("LOAD_FILES"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_FILES"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_FILE"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},nf=Object(I.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var lf=()=>{const e=nf(),{user:a,socket:t}=Object(n.useContext)(ua),[o,r]=Object(n.useState)(!1),[i,s]=Object(n.useState)(1),[c,d]=Object(n.useState)(!1),[m,p]=Object(n.useState)(null),[g,E]=Object(n.useState)(null),[b,f]=Object(n.useState)(!1),[h,A]=Object(n.useState)(""),[v,y]=Object(n.useReducer)(tf,[]),[x,C]=Object(n.useState)(!1),k=Object(n.useCallback)(async()=>{try{const{data:e}=await u.get("/files/",{params:{searchParam:h,pageNumber:i}});y({type:"LOAD_FILES",payload:e.files}),d(e.hasMore),r(!1)}catch(e){oa(e)}},[h,i]);Object(n.useEffect)(()=>{y({type:"RESET"}),s(1)},[h]),Object(n.useEffect)(()=>{r(!0);const e=setTimeout(()=>{k()},500);return()=>clearTimeout(e)},[h,i,k]),Object(n.useEffect)(()=>{const e=e=>{"update"!==e.action&&"create"!==e.action||y({type:"UPDATE_FILES",payload:e.files}),"delete"===e.action&&y({type:"DELETE_FILE",payload:+e.fileId})};return t.on(`company-${a.companyId}-file`,e),()=>{t.off(`company-${a.companyId}-file`,e)}},[t]);return l.a.createElement(Bc,null,l.a.createElement(Ir,{title:g&&""+aa.a.t("files.confirmationModal.deleteTitle"),open:b,onClose:f,onConfirm:()=>(async e=>{try{await u.delete("/files/"+e),S.b.success(aa.a.t("files.toasts.deleted"))}catch(a){oa(a)}E(null),A(""),s(1),y({type:"RESET"}),s(1),await k()})(g.id)},aa.a.t("files.confirmationModal.deleteMessage")),l.a.createElement(af,{open:x,onClose:()=>{p(null),C(!1)},reload:k,"aria-labelledby":"form-dialog-title",fileListId:m&&m.id}),"user"===a.profile?l.a.createElement(Tl,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(qc,null,l.a.createElement(Uc,null,aa.a.t("files.title")," (",v.length,")"),l.a.createElement(Hc,null,l.a.createElement(wt.a,{placeholder:aa.a.t("contacts.searchPlaceholder"),type:"search",value:h,onChange:e=>{A(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(fc.a,{position:"start"},l.a.createElement(Lm.a,{style:{color:"gray"}}))}}),l.a.createElement(kt.a,{variant:"contained",color:"primary",onClick:()=>{p(null),C(!0)}},aa.a.t("files.buttons.add")))),l.a.createElement(Bt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!c||o)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&s(e=>e+1)}},l.a.createElement(Gn.a,{size:"small"},l.a.createElement(Jn.a,null,l.a.createElement(Zn.a,null,l.a.createElement(Yn.a,{align:"center"},aa.a.t("files.table.name")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("files.table.actions")))),l.a.createElement(Kn.a,null,l.a.createElement(l.a.Fragment,null,v.map(e=>l.a.createElement(Zn.a,{key:e.id},l.a.createElement(Yn.a,{align:"center"},e.name),l.a.createElement(Yn.a,{align:"center"},l.a.createElement(D.a,{size:"small",onClick:()=>(e=>{p(e),C(!0)})(e)},l.a.createElement(Wm.a,null)),l.a.createElement(D.a,{size:"small",onClick:a=>{f(!0),E(e)}},l.a.createElement(ao.a,null))))),o&&l.a.createElement(Vc,{columns:4})))))))};const of=Object(I.a)(e=>({root:{display:"flex",flexDirection:"column",alignItems:"center",margin:"2rem"},inputContainer:{display:"flex",width:"100%",marginBottom:"1rem"},input:{flexGrow:1,marginRight:"1rem"},listContainer:{width:"100%",height:"100%",marginTop:"1rem",backgroundColor:e.palette.background.primary,borderRadius:"5px"},list:{marginBottom:"5px",color:e.palette.text.primary}}));var rf=()=>{const e=of(),[a,t]=Object(n.useState)(""),[o,r]=Object(n.useState)([]),[i,s]=Object(n.useState)(-1);Object(n.useEffect)(()=>{const e=localStorage.getItem("tasks");e&&r(JSON.parse(e))},[]),Object(n.useEffect)(()=>{localStorage.setItem("tasks",JSON.stringify(o))},[o]);return l.a.createElement("div",{className:e.root},l.a.createElement("div",{className:e.inputContainer},l.a.createElement(wt.a,{className:e.input,label:"Nova tarefa",value:a,onChange:e=>{t(e.target.value)},variant:"outlined"}),l.a.createElement(kt.a,{variant:"contained",color:"primary",onClick:()=>{if(!a.trim())return;const e=new Date;if(i>=0){const n=[...o];n[i]={text:a,updatedAt:e,createdAt:n[i].createdAt},r(n),t(""),s(-1)}else r([...o,{text:a,createdAt:e,updatedAt:e}]),t("")}},i>=0?"Salvar":"Adicionar")),l.a.createElement("div",{className:e.listContainer},l.a.createElement(L.a,null,o.map((a,n)=>l.a.createElement(_.a,{key:n,className:e.list},l.a.createElement(ee.a,{primary:a.text,secondary:a.updatedAt.toLocaleString()}),l.a.createElement(Ho.a,null,l.a.createElement(D.a,{onClick:()=>(e=>{t(o[e].text),s(e)})(n)},l.a.createElement(Wm.a,null)),l.a.createElement(D.a,{onClick:()=>(e=>{const a=[...o];a.splice(e,1),r(a)})(n)},l.a.createElement(wr.a,null))))))))},sf=t(970),cf=t.n(sf);const df=Object(I.a)(e=>({root:{display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(1)},kanbanContainer:{width:"100%",maxWidth:"1200px",margin:"0 auto"},connectionTag:{background:"green",color:"#FFF",marginRight:1,padding:1,fontWeight:"bold",borderRadius:3,fontSize:"0.6em"},lastMessageTime:{justifySelf:"flex-end",textAlign:"right",position:"relative",marginLeft:"auto",color:e.palette.text.secondary},lastMessageTimeUnread:{justifySelf:"flex-end",textAlign:"right",position:"relative",color:e.palette.success.main,fontWeight:"bold",marginLeft:"auto"},cardButton:{marginRight:e.spacing(1),color:e.palette.common.white,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark}},dateInput:{marginRight:e.spacing(2)}}));var mf=()=>{const e=df(),a=(Object(F.a)(),Object(O.useHistory)()),{user:t,socket:o}=Object(n.useContext)(ua),[r,i]=Object(n.useState)([]),[s,c]=Object(n.useState)([]),[d,m]=Object(n.useState)(0),[p,g]=Object(n.useState)({lanes:[]}),[E,b]=Object(n.useState)(Object(Sa.a)(new Date,"yyyy-MM-dd")),[f,h]=Object(n.useState)(Object(Sa.a)(new Date,"yyyy-MM-dd")),A=t.queues.map(e=>e.UserQueue.queueId);Object(n.useEffect)(()=>{v()},[t]);const v=async()=>{try{const e=(await u.get("/tag/kanban/")).data.lista||[];i(e),y()}catch(e){console.log(e)}},y=async()=>{try{const{data:e}=await u.get("/ticket/kanban",{params:{queueIds:JSON.stringify(A),startDate:E,endDate:f}});c(e.tickets)}catch(e){console.log(e),c([])}};Object(n.useEffect)(()=>{const e=t.companyId,a=e=>{"create"!==e.action&&"update"!==e.action&&"delete"!==e.action||y()};return o.on(`company-${e}-ticket`,a),o.on(`company-${e}-appMessage`,a),()=>{o.off(`company-${e}-ticket`,a),o.off(`company-${e}-appMessage`,a)}},[o,E,f]);const x=e=>{switch(e){case"facebook":return l.a.createElement(ro.a,{style:{color:"#3b5998",verticalAlign:"middle",fontSize:"16px"}});case"instagram":return l.a.createElement(io.a,{style:{color:"#e1306c",verticalAlign:"middle",fontSize:"16px"}});case"whatsapp":return l.a.createElement(so.a,{style:{color:"#25d366",verticalAlign:"middle",fontSize:"16px"}});default:return"error"}},C=a=>{const t=s.filter(e=>0===e.tags.length),n=[{id:"lane0",title:aa.a.t("tagsKanban.laneDefault"),label:t.length.toString(),cards:t.map(a=>{var t,n;return{id:a.id.toString(),label:"Ticket n\xba "+a.id.toString(),description:l.a.createElement("div",null,l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},l.a.createElement("span",null,a.contact.number),l.a.createElement(z.a,{className:Number(a.unreadMessages)>0?e.lastMessageTimeUnread:e.lastMessageTime,component:"span",variant:"body2"},Object(Ra.a)(Object(Fa.a)(a.updatedAt),new Date)?l.a.createElement(l.a.Fragment,null,Object(Sa.a)(Object(Fa.a)(a.updatedAt),"HH:mm")):l.a.createElement(l.a.Fragment,null,Object(Sa.a)(Object(Fa.a)(a.updatedAt),"dd/MM/yyyy")))),l.a.createElement("div",{style:{textAlign:"left"}},a.lastMessage||" "),l.a.createElement(kt.a,{className:`${e.button} ${e.cardButton}`,onClick:()=>{k(a.uuid)}},"Ver Ticket"),l.a.createElement("span",{style:{marginRight:"8px"}}),(null===a||void 0===a?void 0:a.user)&&l.a.createElement(N.a,{style:{backgroundColor:"#000000"},className:e.connectionTag},null===(t=a.user)||void 0===t?void 0:t.name.toUpperCase())),title:l.a.createElement(l.a.Fragment,null,l.a.createElement(ne.a,{title:null===(n=a.whatsapp)||void 0===n?void 0:n.name},x(a.channel))," ",a.contact.name),draggable:!0,href:"/tickets/"+a.uuid}})},...r.map(a=>{const t=s.filter(e=>e.tags.map(e=>e.id).includes(a.id));return{id:a.id.toString(),title:a.name,label:null===t||void 0===t?void 0:t.length.toString(),cards:t.map(a=>{var t,n;return{id:a.id.toString(),label:"Ticket n\xba "+a.id.toString(),description:l.a.createElement("div",null,l.a.createElement("p",null,a.contact.number,l.a.createElement("br",null),a.lastMessage||" "),l.a.createElement(kt.a,{className:`${e.button} ${e.cardButton}`,onClick:()=>{k(a.uuid)}},"Ver Ticket"),l.a.createElement("span",{style:{marginRight:"8px"}}),l.a.createElement("p",null,(null===a||void 0===a?void 0:a.user)&&l.a.createElement(N.a,{style:{backgroundColor:"#000000"},className:e.connectionTag},null===(t=a.user)||void 0===t?void 0:t.name.toUpperCase()))),title:l.a.createElement(l.a.Fragment,null,l.a.createElement(ne.a,{title:null===(n=a.whatsapp)||void 0===n?void 0:n.name},x(a.channel))," ",a.contact.name),draggable:!0,href:"/tickets/"+a.uuid}}),style:{backgroundColor:a.color,color:"white"}}})];g({lanes:n})},k=e=>{a.push("/tickets/"+e)};Object(n.useEffect)(()=>{C()},[r,s]);const w=()=>{a.push("/tagsKanban")};return l.a.createElement("div",{className:e.root},l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px",width:"100%",maxWidth:"1200px"}},l.a.createElement("div",{style:{display:"flex",alignItems:"center"}},l.a.createElement(wt.a,{label:"Data de in\xedcio",type:"date",value:E,onChange:e=>{b(e.target.value)},InputLabelProps:{shrink:!0},variant:"outlined",className:e.dateInput}),l.a.createElement(Gt.a,{mx:1}),l.a.createElement(wt.a,{label:"Data de fim",type:"date",value:f,onChange:e=>{h(e.target.value)},InputLabelProps:{shrink:!0},variant:"outlined",className:e.dateInput}),l.a.createElement(Gt.a,{mx:1}),l.a.createElement(kt.a,{variant:"contained",color:"primary",onClick:()=>{y()}},"Buscar")),l.a.createElement(Aa,{role:t.profile,perform:"dashboard:view",yes:()=>l.a.createElement(kt.a,{variant:"contained",color:"primary",onClick:w},"+ Adicionar colunas")})),l.a.createElement("div",{className:e.kanbanContainer},l.a.createElement(cf.a,{data:p,onCardMoveAcrossLanes:async(e,a,t)=>{try{await u.delete("/ticket-tags/"+t),S.b.success("Ticket Tag Removido!"),await u.put(`/ticket-tags/${t}/${a}`),S.b.success("Ticket Tag Adicionado com Sucesso!"),await y(A),C()}catch(n){console.log(n)}},style:{backgroundColor:"rgba(252, 252, 252, 0.03)"}})))};const uf=(e,a)=>{if("LOAD_TAGS"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_TAGS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_TAGS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},pf=Object(I.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var gf=()=>{const e=pf(),a=Object(O.useHistory)(),{user:t,socket:o}=Object(n.useContext)(ua),[r,i]=Object(n.useState)(!1),[s,c]=Object(n.useState)(1),[d,m]=Object(n.useState)(!1),[p,g]=Object(n.useState)(null),[E,b]=Object(n.useState)(null),[f,h]=Object(n.useState)(!1),[A,v]=Object(n.useState)(""),[y,x]=Object(n.useReducer)(uf,[]),[C,k]=Object(n.useState)(!1);Object(n.useEffect)(()=>{i(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await u.get("/tags/",{params:{searchParam:A,pageNumber:s,kanban:1}});x({type:"LOAD_TAGS",payload:e.tags}),m(e.hasMore),i(!1)}catch(e){oa(e)}})()},500);return()=>clearTimeout(e)},[A,s]),Object(n.useEffect)(()=>{x({type:"RESET"}),c(1)},[A]),Object(n.useEffect)(()=>{const e=e=>{"update"!==e.action&&"create"!==e.action||x({type:"UPDATE_TAGS",payload:e.tag}),"delete"===e.action&&x({type:"DELETE_TAGS",payload:+e.tagId})};return o.on(`company${t.companyId}-tag`,e),()=>{o.off(`company${t.companyId}-tag`,e)}},[o]);return l.a.createElement(Bc,null,l.a.createElement(Ir,{title:E&&""+aa.a.t("tagsKanban.confirmationModal.deleteTitle"),open:f,onClose:h,onConfirm:()=>(async e=>{try{await u.delete("/tags/"+e),S.b.success(aa.a.t("tags.toasts.deleted"))}catch(a){oa(a)}b(null),v(""),c(1)})(E.id)},aa.a.t("tagsKanban.confirmationModal.deleteMessage")),C&&l.a.createElement(Lu,{open:C,onClose:()=>{g(null),k(!1)},"aria-labelledby":"form-dialog-title",tagId:p&&p.id,kanban:1}),l.a.createElement(qc,null,l.a.createElement(Uc,null,aa.a.t("tagsKanban.title")," (",y.length,")"),l.a.createElement(Hc,null,l.a.createElement(wt.a,{placeholder:aa.a.t("contacts.searchPlaceholder"),type:"search",value:A,onChange:e=>{v(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(fc.a,{position:"start"},l.a.createElement(Lm.a,{style:{color:"gray"}}))}}),l.a.createElement(kt.a,{variant:"contained",color:"primary",onClick:()=>{g(null),k(!0)}},aa.a.t("tagsKanban.buttons.add")),l.a.createElement(kt.a,{variant:"contained",color:"primary",onClick:()=>{a.push("/kanban")}},"Voltar para o Kanban"))),l.a.createElement(Bt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!d||r)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&c(e=>e+1)}},l.a.createElement(Gn.a,{size:"small"},l.a.createElement(Jn.a,null,l.a.createElement(Zn.a,null,l.a.createElement(Yn.a,{align:"center"},aa.a.t("tagsKanban.table.name")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("tagsKanban.table.tickets")),l.a.createElement(Yn.a,{align:"center"},aa.a.t("tagsKanban.table.actions")))),l.a.createElement(Kn.a,null,l.a.createElement(l.a.Fragment,null,y.map(e=>{var a;return l.a.createElement(Zn.a,{key:e.id},l.a.createElement(Yn.a,{align:"center"},l.a.createElement(H.a,{variant:"outlined",style:{backgroundColor:e.color,textShadow:"1px 1px 1px #000",color:"white"},label:e.name,size:"small"})),l.a.createElement(Yn.a,{align:"center"},(null===e||void 0===e?void 0:e.ticketTags)?l.a.createElement("span",null,null===e||void 0===e||null===(a=e.ticketTags)||void 0===a?void 0:a.length):l.a.createElement("span",null,"0")),l.a.createElement(Yn.a,{align:"center"},l.a.createElement(D.a,{size:"small",onClick:()=>(e=>{g(e),k(!0)})(e)},l.a.createElement(Wm.a,null)),l.a.createElement(D.a,{size:"small",onClick:a=>{h(!0),b(e)}},l.a.createElement(ao.a,null))))}),r&&l.a.createElement(Vc,{columns:4}))))))};var Ef=()=>{const[e,a]=Object(n.useState)(!1);return Object(n.useEffect)(()=>{void 0!==localStorage.getItem("cshow")&&a(!0)},[]),l.a.createElement(T.a,null,l.a.createElement(pa,null,l.a.createElement(at,null,l.a.createElement(O.Switch,null,l.a.createElement(Sp,{exact:!0,path:"/login",component:Cc}),l.a.createElement(Sp,{exact:!0,path:"/signup",component:vc}),l.a.createElement(Sp,{exact:!0,path:"/forgetpsw",component:jg}),l.a.createElement(fa,null,l.a.createElement(Tn,null,l.a.createElement(Sp,{exact:!0,path:"/financeiro",component:Pm,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/companies",component:vp,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/",component:Sl,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/tickets/:ticketId?",component:pc,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/connections",component:sd,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/quick-messages",component:Op,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/todolist",component:rf,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/schedules",component:Pp,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/tags",component:Vu,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/contacts",component:tu,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/contacts/import",component:du,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/helps",component:Xu,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/users",component:Qm,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/messages-api",component:Ku,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/settings",component:qd,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/queues",component:Fu,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/reports",component:Kg,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/queue-integration",component:_b,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/announcements",component:mg,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/phrase-lists",component:Lb,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/flowbuilders",component:Ib,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/flowbuilder/:id?",component:Ab,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/chats/:id?",component:yg,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/files",component:lf,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/moments",component:hu,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/Kanban",component:mf,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/TagsKanban",component:gf,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/prompts",component:Sg,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/allConnections",component:Wg,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/subscription",component:Wb,isPrivate:!0}),e&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Sp,{exact:!0,path:"/contact-lists",component:op,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/contact-lists/:contactListId/contacts",component:up,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/campaigns",component:Kp,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/campaign/:campaignId/report",component:og,isPrivate:!0}),l.a.createElement(Sp,{exact:!0,path:"/campaigns-config",component:Jp,isPrivate:!0}))))),l.a.createElement(S.a,{position:"top-center",autoClose:3e3}))))};const bf=new p.QueryClient;var ff=()=>{const[e,a]=Object(n.useState)(),t=localStorage.getItem("primaryColorLight")||localStorage.getItem("primaryColorDark")||"#065183",o=localStorage.getItem("appName")||"",r=Object(f.a)("(prefers-color-scheme: dark)"),i=window.localStorage.getItem("preferredTheme"),[s,c]=Object(n.useState)(i||(r?"dark":"light")),[d,m]=Object(n.useState)(t),[u,A]=Object(n.useState)(t),[v,x]=Object(n.useState)(cn.a),[k,O]=Object(n.useState)(mn.a),[S,M]=Object(n.useState)(mt.a),[I,j]=Object(n.useState)(o),{getPublicSetting:N}=xn(),R=Object(n.useMemo)(()=>({toggleColorMode:()=>{c(e=>{const a="light"===e?"dark":"light";return window.localStorage.setItem("preferredTheme",a),a})},setPrimaryColorLight:m,setPrimaryColorDark:A,setAppLogoLight:x,setAppLogoDark:O,setAppLogoFavicon:M,setAppName:j,appLogoLight:v,appLogoDark:k,appLogoFavicon:S,appName:I,mode:s}),[v,k,S,I,s]),F=Object(n.useMemo)(()=>Object(E.a)({scrollbarStyles:{"&::-webkit-scrollbar":{width:"4px",height:"4px"},"&::-webkit-scrollbar-thumb":{boxShadow:"inset 0 0 6px rgba(0, 0, 0, 0.3)",backgroundColor:"light"===s?"#F3F3F3":"#2D3133"}},scrollbarStylesSoft:{"&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"light"===s?"#F3F3F3":"#2D3133"}},palette:{mode:s,primary:{main:"#01a19a"},textPrimary:"light"===s?"#1C2E36":"#FFFFFF",borderPrimary:"light"===s?"#E0E0E0":"#2D3133",dark:{main:"light"===s?"#1C2E36":"#FFFFFF"},light:{main:"light"===s?"#F3F3F3":"#1C2E36"},fontColor:"light"===s?"#1C2E36":"#FFFFFF",background:{default:"light"===s?"#eef2f6":"#151718",paper:"light"===s?"#FFFFFF":"#1E2021"},text:{primary:"light"===s?"#1C2E36":"#FFFFFF",secondary:"light"===s?"#637381":"#B0B3B8"},action:{hover:"light"===s?"rgba(1, 161, 154, 0.1)":"rgba(1, 161, 154, 0.2)",selected:"light"===s?"rgba(1, 161, 154, 0.2)":"rgba(1, 161, 154, 0.3)"},divider:"light"===s?"#E0E0E0":"#2D3133",tabHeaderBackground:"light"===s?"#fff":"#1E2021",optionsBackground:"light"===s?"#fafafa":"#1E2021",fancyBackground:"light"===s?"#fafafa":"#1E2021",total:"light"===s?"#fff":"#1E2021",messageIcons:"light"===s?"#1C2E36":"#FFFFFF",inputBackground:"light"===s?"#FFFFFF":"#1E2021",barraSuperior:"light"===s?"#01a19a":"#151718",barraLateral:"light"===s?"#FFFFFF":"#151718",boxticket:"light"===s?"#EEE":"#1E2021",campaigntab:"light"===s?"#ededed":"#1E2021",corIconesbarra:"light"===s?"#1C2E36":"#FFFFFF",fundologoLateral:"light"===s?"#FFFFFF":"#151718",corTextobarraLateral:"light"===s?"#1C2E36":"#FFFFFF",secondary:{main:"#151718"},options:"light"===s?"#fafafa":"#333",fontecor:"light"===s?"#1C2E36":"#01a19a",bordabox:"light"===s?"#eee":"#333",newmessagebox:"light"===s?"#eee":"#333",inputdigita:"light"===s?"#fff":"#333",contactdrawer:"light"===s?"#fff":"#333",announcements:"light"===s?"#ededed":"#333",login:"light"===s?"#fff":"#333",announcementspopover:"light"===s?"#fff":"#333",chatlist:"light"===s?"#eee":"#333",boxlist:"light"===s?"#ededed":"#333",boxchatlist:"light"===s?"#ededed":"#333",MuiAppBar:{root:{backgroundColor:"light"===s?"#01a19a !important":"#151718 !important",boxShadow:"0 1px 3px rgba(0,0,0,0.05)","& .MuiToolbar-root":{backgroundColor:"light"===s?"#01a19a !important":"#151718 !important","& .MuiTypography-root":{color:"#FFFFFF",fontWeight:500},"& .MuiSvgIcon-root":{color:"#FFFFFF"},"& .MuiIconButton-root":{color:"#FFFFFF","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},"& .MuiButton-root":{color:"#FFFFFF"}}},colorDefault:{backgroundColor:"light"===s?"#01a19a !important":"#151718 !important",color:"#FFFFFF"}},MuiIconButton:{root:{color:"light"===s?"#1C2E36":"#FFFFFF","&:hover":{backgroundColor:"rgba(1, 161, 154, 0.1)",color:"light"===s?"#1C2E36":"#FFFFFF"}}},MuiToolbar:{root:{backgroundColor:"light"===s?"#01a19a":"#151718",color:"#FFFFFF","& .MuiTypography-root":{color:"#FFFFFF"},"& .MuiSvgIcon-root":{color:"#FFFFFF"},"& .MuiIconButton-root":{color:"#FFFFFF","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},"& .MuiButton-root":{color:"#FFFFFF"}}},MuiTypography:{root:{color:"light"===s?"#1C2E36":"#FFFFFF !important"}},MuiSvgIcon:{root:{color:"light"===s?"#1C2E36":"#FFFFFF"}}},mode:s,borderRadius:"16px",spacing:8,shape:{borderRadius:16},props:{MuiButton:{variant:"contained",color:"primary",fullWidth:!1,size:"small"},MuiTextField:{variant:"outlined",fullWidth:!0,size:"small"},MuiSelect:{variant:"outlined",fullWidth:!0,size:"small"},MuiMenu:{getContentAnchorEl:null}},overrides:{MuiCssBaseline:{"@global":{"*::-webkit-scrollbar":{width:"4px",height:"4px"},"*::-webkit-scrollbar-thumb":{backgroundColor:"light"===s?"#F3F3F3":"#2D3133",borderRadius:"2px"},"*::-webkit-scrollbar-track":{backgroundColor:"light"===s?"#fafafa":"#151718"},body:{backgroundColor:"light"===s?"#eef2f6":"#151718"},".MuiPaper-root":{backgroundColor:"light"===s?"#FFFFFF":"#1E2021 !important"},".MuiCard-root":{backgroundColor:"light"===s?"#FFFFFF":"#1E2021 !important"},".MuiDrawer-paper":{backgroundColor:"light"===s?"#FFFFFF":"#1E2021 !important"}}},MuiButton:{root:{textTransform:"none",borderRadius:8,fontWeight:"400",fontSize:"13px",padding:"6px 12px",minWidth:"auto",height:"32px",letterSpacing:"0.2px"},contained:{boxShadow:"none","&:hover":{boxShadow:"none"}},containedPrimary:{backgroundColor:"rgba(4, 197, 188, 0.2)",color:"#01a19a","&:hover":{backgroundColor:"rgba(4, 197, 188, 0.3)",color:"#01a19a"}},outlined:{borderColor:"light"===s?"#e0e0e0":"#FFFFFF",color:"light"===s?"#1C2E36":"#FFFFFF",backgroundColor:"light"===s?"transparent":"rgba(255, 255, 255, 0.05)","&:hover":{backgroundColor:"light"===s?"rgba(0, 0, 0, 0.04)":"rgba(255, 255, 255, 0.1)",borderColor:"light"===s?"#8a8a8a":"#FFFFFF"}}},MuiTextField:{root:{"& .MuiOutlinedInput-root":{borderRadius:12,backgroundColor:"light"===s?"#e0e0e0":"#245798","& fieldset":{borderColor:"light"===s?"#bebebe":"#fff"},"&:hover fieldset":{borderColor:"light"===s?"#8a8a8a":"#d6d6d6"},"&.Mui-focused fieldset":{borderColor:"light"===s?"#bebebe":"#fff"}}}},MuiPaper:{root:{backgroundColor:"light"===s?"#FFFFFF":"#1E2021 !important","&.MuiAppBar-root":{backgroundColor:"light"===s?"#01a19a !important":"#151718 !important"}},rounded:{borderRadius:8},elevation1:{boxShadow:"light"===s?"0 1px 3px rgba(0,0,0,0.05)":"0 1px 3px rgba(0,0,0,0.2)"}},MuiCard:{root:{backgroundColor:"light"===s?"#FFFFFF":"#1E2021 !important",borderRadius:16,border:"light"===s?"1px solid #e0e0e0":"1px solid #2D3133",boxShadow:"none"}},MuiListItem:{root:{borderRadius:12,color:"light"===s?"#1C2E36":"#FFFFFF","& .MuiListItemIcon-root":{color:"light"===s?"#1C2E36":"#FFFFFF",minWidth:"40px","& .MuiSvgIcon-root":{color:"light"===s?"#1C2E36":"#FFFFFF",fontSize:"20px"}},"& .MuiListItemText-primary":{color:"light"===s?"#1C2E36":"#FFFFFF",fontSize:"14px",fontWeight:500},"&$selected":{backgroundColor:"light"===s?"rgba(1, 161, 154, 0.1)":"rgba(1, 161, 154, 0.2)",color:"#01a19a","& .MuiListItemIcon-root":{color:"#01a19a","& .MuiSvgIcon-root":{color:"#01a19a"}},"& .MuiListItemText-primary":{color:"#01a19a",fontWeight:600},"&:hover":{backgroundColor:"rgba(1, 161, 154, 0.2)"}},"&:hover":{backgroundColor:"rgba(1, 161, 154, 0.1)",color:"light"===s?"#1C2E36":"#FFFFFF","& .MuiListItemIcon-root":{color:"light"===s?"#1C2E36":"#FFFFFF","& .MuiSvgIcon-root":{color:"light"===s?"#1C2E36":"#FFFFFF"}},"& .MuiListItemText-primary":{color:"light"===s?"#1C2E36":"#FFFFFF"}}},selected:{},button:{"&:hover":{backgroundColor:"rgba(1, 161, 154, 0.1)"}}},MuiTab:{root:{textTransform:"none",fontSize:"13px",fontWeight:"400",minHeight:"36px",padding:"6px 16px","&.Mui-selected":{color:"#01a19a",fontWeight:"bold"},"&:hover":{backgroundColor:"rgba(1, 161, 154, 0.1)"}}},MuiChip:{root:{borderRadius:12,height:"24px"},sizeSmall:{height:"20px"}}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif"].join(","),h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"}},calculatedLogoLight:()=>k!==mn.a&&v===cn.a?k:v,calculatedLogoDark:()=>k===mn.a&&v!==cn.a?v:k,appLogoLight:v,appLogoDark:k,appLogoFavicon:S,appName:I},e),[v,k,S,I,e,s,u,d]);return Object(n.useEffect)(()=>{const e=localStorage.getItem("i18nextLng");if(e){"ptBR"===e.substring(0,2)+e.substring(3,5)&&a(g.ptBR)}},[]),Object(n.useEffect)(()=>{window.localStorage.setItem("preferredTheme",s)},[s]),Object(n.useEffect)(()=>{console.log("|=========== handleSaveSetting ==========|"),console.log("APP START"),console.log("|========================================|"),N("primaryColorLight").then(e=>{m(e||"#01a19a")}).catch(e=>{console.log("Error reading setting",e)}),N("primaryColorDark").then(e=>{A(e||"#01a19a")}).catch(e=>{console.log("Error reading setting",e)}),N("appLogoLight").then(e=>{x(e?w()+"/public/"+e:cn.a)}).catch(e=>{console.log("Error reading setting",e)}),N("appLogoDark").then(e=>{O(e?w()+"/public/"+e:mn.a)}).catch(e=>{console.log("Error reading setting",e)}),N("appLogoFavicon").then(e=>{M(e?w()+"/public/"+e:mt.a)}).catch(e=>{console.log("Error reading setting",e)}),N("appName").then(e=>{j(e||"WhatsApp")}).catch(e=>{console.log("!==== Erro ao carregar temas: ====!",e),j("WhatsApp")})},[N]),l.a.createElement(T.a,null,l.a.createElement(C.a,{url:S}),l.a.createElement(h.Provider,{value:{colorMode:R}},l.a.createElement(b.a,{theme:F},l.a.createElement(p.QueryClientProvider,{client:bf},l.a.createElement(y,null,l.a.createElement(Ef,null))))))};r.a.render(l.a.createElement(i.a,null,l.a.createElement(ff,null)),document.getElementById("root"),()=>{window.finishProgress()}),console.log("Registrando service worker",navigator),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(e=>{console.log("Service worker registrado com sucesso!",e)}).catch(e=>{console.error("Erro durante o registro do service worker:",e)})})},208:function(e,a){e.exports="data:image/png;base64,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"},253:function(e,a){e.exports="data:image/png;base64,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"},315:function(e,a,t){e.exports=t.p+"static/media/favicon.deb7a6e6.ico"},503:function(e,a){e.exports="data:image/png;base64,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"},553:function(e,a,t){e.exports=t.p+"static/media/planilha.549edeba.xlsx"},554:function(e,a){e.exports="data:image/png;base64,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"},764:function(e,a,t){},853:function(e,a){},900:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAABFWAAARVgEAHlmhAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAtxQTFRF////R1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTULm9ygAAAPN0Uk5TAAECAwQFBgcICQoLDA0ODxAREhQVFhcZGhscHR4fICEiIyQlJigpKiss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"},903:function(e,a,t){e.exports=t.p+"static/media/sound.9fd5812c.mp3"},911:function(e,a,t){e.exports=t.p+"static/media/chat_notify.2529c259.mp3"},968:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAADICAMAAAApx+PaAAABrVBMVEUAAAB2dnZ1dXV2dnZ2dnZ2dnZ1dXWYmJh2dnZ7e3t1dXV2dnaHh4d2dnZ2dnb/8fF2dnZ1dXV9fX11dXV3d3d1dXV2dnZ4eHh1dXWFhYV1dXV1dXXvbxB8fHx9fX12dnZ1dXV1dXV2dnZ1dXV3d3d1dXV3d3d3d3d3d3d1dXV9fX12dnZ2dnZ2dnZ4eHh4eHh1dXV1dXV2dnZ7e3t2dnZ1dXV3d3eEhIT0lxp3d3fyjRd2dnZ1dXV2dnZ3d3d2dnZ2dnb/jiD0kxl2dnZ2dnZ2dnZ2dnZ3d3d2dnbtbw52dnZ2dnb0lhp1dXV4eHh3d3d2dnZ2dnZ3d3d4eHj1jBv1hRvEmHj1lxr0lRp4eHh8fHzsbg7zlhn0lxryhxbxgxX0lxrtbg/1lxp3d3fucBDvdA/tcA7wehLtbg7tbg70lhrtbg7vcxDxgRPvdxHtbg/tbQ7zlxv0lhr0lxvubg/tbw/zmBv2mBz2mRzwcA94eHjsbg7zlxvtbg7tbg7tbg72lxrubg/ubg7scBDwfRLzlxrtbQ/1lhv0mBr0lxz2lxz1lhzsbQ51dXXzlhptsIrZAAAAjHRSTlMAy7fZp62fA6Af9qYGzvwB0t4R0GqJcRs/C/qVPhQP/e7qm+KOYzE7NuYY88JUKiXxxoEi1btQCPtH3KqleXZgDQretLCSfFxL/oRY6r9AJ+xtNC4dEgT25DMh9vLv49rQhGxBM/v58u7Tua/x6+jgv6yfh1RGQTUoJCDm2cmhk5JzaV/gxZp6YVlRSVahGaQAAAzRSURBVHja7NcxCoJgGADQ72rdodShQLyBCrq4OojwnbkhgggbW37fu8ULAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP6u6pauCs5kajOznYLTuPb50l+DU7iMdb7V4yUo39bkp2YLCjev+W2dg4Ldhjwy3IJCVd0jj931rVD7kr8te1CcJ3tn2pTIEQbgV10dZREWEBAobrkVwQN0PeOxGm9jLjebc3NU5fqQfMhVSaUqqUoqNa+/OUw3dM9MDwuzUM6oPJ8WxIbh6e73mN7dn7++eTVf/wwD7hVv/Lhy04mVQfl2n3D/e3LTDSf/umHA/eCnT2665ZNB+XYvePuHGzP8MOjM3nne+OfFjTle/DMI7Xeb/3ZuzLPzHwy4s7Qv0wbl2z3lnT9Xbl6XlT8Hndk7yLufndz0wsmgM3vnIEdjemBwsObOQY7G9MDgYM3d48/3bvrDytfQG04JBtwO3+30SfrJ92DI0bCKvZQ/cFAGA1bTiENX0JmAMk4K+s+0f9aTKDwZP5YAYDPSIAP3FPnNj97vg/L3PpZlMGQYBQrjB9ugJR/HBhdF6MgYNhiBfnM2hE0moQF5NAr3FFmWv3j6Ya9b+9M35W6kcxIbIVCzjAS/VdI34thi6kFIl+WvdlZ6cf7+t7JsQjolGZCAk0TCsEXSA8gobT8Q6bLcQ2j/8G9ZNiGds7sNDB8Sxq2R/lYcGSl4MNIbof3k9Xb2RjDvLH1phhJ5tOxzYYuleWixiYRVC6Sz4OKaeRl8Pnf+gKQrof01qrenX8qdpOtX8PbhzAVSEsy6tIaI8QWwRHqQ7utZIDwo6UpoN12mybIJ6YzQZhIJIzFesx09uwZrpGdQ4RIepHRZNlW+vSA7uxnpnOgyEvbcoMIi6X5UiD1U6fKbXZdvK09lhnnpIM0gYdMG0lOkeQAPVnrX5dvOt7J56eJXjYmY9dLXSU/mIUvvqnz7kATz3qQ7q6iwMJB+68gCpHzr2HPtXTpMhDstdcn7vOjsUnrseQxehXOivA3GPO5e+v049y0L0PLtRacyrXfpkOJtTzjPNvgVVOQik2RWXOwFiq+WHqqlPA5EDHvG5gzFus8iaWxQmc2Q7u9irsG5MhOyCsNkyDyl2E56MDPqK7gcnqHIYZ1PJa+CdmKSp0LaT0ieA7sgCwihXey59kn6oot/tZPY4LFKuQ85jlSwvfT6ZgI5lWch0HNdVQ21IAFEsMEjZbNBgSlj6eVd5JT8MaC8hQrPNFeFCmlQM4sNfGAXZDWdy7cXtOfau3T+XSQkUbr7CLVc1NpJz6VRS+ElEPhYcVQzNG9eej0VRw3JA6CQd68CgzUX88CJuejUsAuyCC/fTgx6rv2UvkC/HkG6e7yNDFH6sQP1hLdAhSSMVQialR6tosARDe+k8oxHgTMk3jA8RoUy2AVZpF1ndmXnA7m/0s9oK0yQPsNXVCGMlHjNSHqG79sFBxeny9IopSRSnqyZk170oAFjoDCNCgfqni7FA5xx+pltgywglm+859pn6V5etPlU0l82NY7nQgDOs8cuWtF7RelvNUWPTC0CuINTPiSEc9BiCinDc14AZ27GgRQqPbikUCHv5qMcC9KlUyS41o5/DcWuAkOIfLJKSTqWeJf2CgjsNX6wDXIH6MEaWqb1Xbqb6IzopQ9Rkee6sO0XpMc8dHZMSa0BM1RqIQqUK/o4nWMLcY9Lb/GILP+2JZsfCbPz0GSuoJpaKZaXUGbZ/g8t8qjwFtgGuQPkYA05GtNn6fzsxJp+e8+OORA9MWAskteVnFy6OidIqL/O66QmotKcezIKDCliUvo83Wj2JWAEn9CUEBqsosI0NCnGEZGEpCVt6pIG+yB3wVdPaZnWf+kj2OBUzN6jG+k5EDKhM530WIIE+1VQkwuTxU81Z2nqPwEq3MPmpI8h/zNTS9f6IQA4K5q9e4o8crDEjQ22D/ZBNkFfpfOCZ9eoTpe0ccBDNkyd9IDhubpntHRWCZsDDdGSGelBF1mn20Yp6Cxr4rLfXia6d9UlWrG5F9gHa6WXSBosSBdJkVG4dD50KQpathO8dC6QF7tBy4wZ6VsspxcvyxVTIjwqTAAh6iKfbqvVjGEjJO10qt9S6XW+VEXp+c3RJ+mKp7q2P+ekYXFYK93poFNGzz7zUUaFAOgom5H+mKUTGg5RoQYAIYdqVmToBXnJ9rAIhFF69M5GWCp9HhU2DaRLU0vIuZhJsdXLpedZiaylRhMAtkqzQtGQNCGdRSAtIZI6zDCpu+xqSZ6+3LwwFvRXwUZYKj1DQ64oPe9DA4a4dL7YztsceTtudUTjEuhZNiE9bNBBZTXmOjQ4IJljnaSWyqvT7mY+N8S7DhUn2AhLpa8TKV5Bes2BHaTzKRNtEzQuWxX2BQisdS89xkK60XUtM9N4yPzvtyo3DLIMYh3shJXSnQWqUi/9pQspyeHxyNjokkuUzpN3cQnxxRmh/VCBVPfSn7NtQ8ca/+zDrMW0xyrLKssmRmjwtxNWSedL9UgvPeRBwl4OKKEDn5H0rXYrnS3OI9K76Wmle1Eh0+a6Tvl1eFo5XVJiM3K2NWtKdbATFkqXRmiepZd+iULSLa23jell0DNBMwW2F4gx/bRL6axTvAECQ3wMupeXm9Vbin+IeBHg0oYHr6ySzpTsgl56Fdl2ydjXSecHGLZAAyucc6yRlxey90SX0lmpvyaGphIN37zfvtncQQ5VI0w1r/8YbIV10s9oqL7WS5doleYUj1sMGdXp62LEZtn0r2i4TLNoQjoJ00k3cMRbqgG61ddLqjx9gyR6dMcPx8BWWCb9PEkDN+ilF1FcW8G4gXTYJXaLoMVbYnk1eEi0lUBLxIz0KdaFEQsPLKoCiitWU1cg5+S56CHtKtkLq6TXKjQ/DwrSacdmX1i8ovRLFgfU+FUZwb5RBAg6zEinH2dS0k1ZF3kW1J9+blzT6F8iGSCZYHb7Jy2skR6dQUJ4GgTpXhQWRw0NpYeSBvdTVuMkZd9WHb2szIMKadbcXbY9g9s6dZ+2G7hBBkwgoiOkuaE6nCbrHeyFFdKf+x3CuSYqnadZrhwwDh2idP5do2MVOLkEu8nGd+GRCc2ZOXPSr8UjWPVROqyk6eazcEW5whanYDNuR/roIqU8XcukPNgkvgEE3ckZaqWSB0p9IY5tpIdo0efacALFGQhTHaHW/KJRpHAITRaX0Yx0PnFwfxuazE8ioaY9GKAPJew6L8Fm3Ip0YyqHYCg9h5S91SCEss/Shm1YStmBBM9CNgTO7IYHCY6yqn6jnG4FJfCuphxoWnpoCQmFDSVMOKdTLvG86xFSXF5NckEJgs2wTvpSGQTpXAIljBSPX5ROnbqwBdfpmtPldZR4a7TTlCnpMJ9g7zGSZm+zLAHnuvUkcPJIqYLdsEq6Z4t9Z0LvPTaJWirlgCidslpBPaVVULMgzLZYxJx0OPegwCMnqPGIkd9dQMIm2A1LpLuqGa5cXOkQnUU16RwI0hlXPtTiuwItmRKq2YsCkb7evXSInqKW8ILb6DQOFrVtRMI82I3bll4Zqe7XtkGDeD9dCiT5rvzYC6J0jnTgQU6a7SCc4CP1DtNKFSNdSOfUllDFmiBy2mAnP0M6sO34Q+4Xf4Ah0QkVRSe0oaj8OAqMemY0iegqVDeCZMcnv83GC4IaKb8w6ymhwzN7lJfAiInAaTqMF77xl27WylsAgvGQ2ekGZc2bTPufkHieWA4w5eofK8wbPHcO9uPz3+V+8Pvn0HekmATd44RX4+YvGHndQmp7MWirIzCvjfuv3+Re+e2vu/S39Ytou1Nrt88bn34g98KXn9r5P23KThne0w2H4IHzyzc9OP/mF7AtzuMq4jVoqP/f3h20RBWFYQC+kdEiMVpEmy8wsigUgqBFBBG4CLdKbdxK6MpZOJugRBeu7v3PgiPIMIIz9x7xfPo8f+GDmft+973nfJy0WhgftP0cjJt67by5mO/ytaee0Pw+3W8Xt39S9Z09zyctnM3lmc+e3t6PB7LBfh1vtYvZOqv9dq73k5c1G9vNpb/fuq7GV9x3Z2/ULmK011RvrZvY/Pnh9audd0uX+/dnmdLGbTs6bOd1eNQkcNGjnbHhx71PfNutOqZNHzQ0Y+lHw5TxXDEtzzVsT1+udFPW/Z/PiDliWjSZbH/prqx+rufkxnrEjTHtNN1T0KfvTx6vrqy/eLT29cEv4voM/c9x7TGN0kMfVbxzpbdIH9MoOPTdkyQxjWJD/58nplFm6P8S7FzpK/JXY1hUZKvGMFykqsZQRGSqxlBGZKrGUEakqsZQROSqxlBC2Lk+PJGsGkMBka0aw3CRrxrDUJGxGsMwoRoDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQue6vJdUy+5+yQAAAABJRU5ErkJggg=="},969:function(e,a){e.exports="data:image/jpeg;base64,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"}},[[1049,1,2]]]);